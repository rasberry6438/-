;-------------------------------------------------
; 角色の固有イベント
;-------------------------------------------------

;-------------------------------------------------
;
;-------------------------------------------------
@RYOKO_EVENT(ARGS, ARG)
LOCALS = イベント：%ARGS%
SIF CEVENT(LOCALS, ARG)
	RETURN 0

CALL RYOKO_EVENT_CHECK_TRIGGER(ARGS, ARG)
SIF RESULT == 1
	CALL RYOKO_EVENT_MAIN(ARGS, ARG)

RETURN 1;

;-------------------------------------------------
; イベントメイン処理
;-------------------------------------------------
@RYOKO_EVENT_MAIN(ARGS, ARG)
#DIMS EVESTR
EVESTR = イベント：%ARGS%
SELECTCASE ARGS
;-------------------
; 避妊禁止
;-------------------
CASE "避妊禁止"
	DRAWLINE
	PRINTFORMW 【深夜:%CNAME("玲子")%租借的公寓】
	PRINTFORML 
	CALL PRINT_STRW,  "「…………哈啊_BH_」"
	PRINTFORMW 躺在简陋的床上，%CNAME("玲子")%发出了连自己都无法判断的叹息。。
	PRINTFORMW 手不自觉地伸向自己的下腹部——胎的位置。
	CALL PRINT_STRW,  "「还留着……吧……_／／／_」"
	PRINTFORMW 是错觉吗——不，虽然希望是这样。但感觉鼓鼓囊囊的。
	CALL PRINT_STRW,  "「……呜呜_BH_」"
	PRINTFORMW 没有必要去想到底是什么在那里了。不管怎么说，已经到了没有必要思考的程度。
	CALL PRINT_STRW,  "「唔ー……_BH_」"
	PRINTFORMW 一不留神就会想起来。回想起。
	PRINTFORMW 潜入自己性器官的雄性分身。
	PRINTFORMW 和平时用来自慰的玩具不同，它会随意地脱离自己的意图到处乱来。
	PRINTFORMW 与自慰完全不一样，在最后终于积蓄力量般颤抖着，然后――
	CALL PRINT_STRW,  "「在里面出来了……_BH_」"
	PRINTFORM 说出口，当时的感觉历历在目。就连吞噬到根部的阴茎的热度和形状也能清楚的感受到，
	PRINTFORMW 在阴道深处的白浊粘性也...。
	CALL PRINT_STRW,  "「…………呜呜_BH_」"
	PRINTFORMW 感觉它黏黏糊糊地粘在肚脐后面。
	PRINTFORM ……不，事实就是这样的吧。今天允许膣内射精——就这样……、
	PRINTFORM 小腹好像有什么东西在不断地蠕动，刚才冲了个澡，
	PRINTFORM 可能是因为热水缓解了紧张的缘故，“咕啵”的一声，从密裂处里传来一片白浊的响声。
	PRINTFORM 有什么黏糊糊的……毫无疑问，胎内、瞄准子宫灌入的精液，是为了制造生命而囤积的精液
	PRINTFORMW 溢出来了。
	PRINTFORM 很惊讶自己竟然被射了这么多，但还是觉得下腹部——子宫附近有一种痒痒的违和感。
	PRINTFORMW 也就是说。
	CALL PRINT_STRW,  "「没有出来的健康精液……_BH_这里还有很多，……_BH_」"
	CALL PRINT_STRW,  "（今后……虽然不知道还会打開双腿多少次……_BH_）"
	CALL PRINT_STRW,  "「子宫会记住精液的味道的……真是的……_BH_」"
	PRINTFORMW 更糟糕的——不对，应该是最糟糕的——是自己不允许拒绝。。
	CALL PRINT_STRW,  "「禁止自己随意避孕，……_BH_」"
	PRINTFORMW 看了看桌子上的空罐子。虽然已经没有残渣了，但还是认真确认了送到公寓的追加指示。
	CALL PRINT_STRW,  "（为了测试对象的性能力，积极地对性行为做出回应——嘛啊，这倒也罢了……_BH_）"
	CALL PRINT_STRW,  "「为了测量生育能力而禁止使用避孕工具和避孕药…………_BH_」"
	CALL PRINT_STRW,  "（也就是说，不顾怀孕而晃动腰部，……？_／／／_）"
	PRINTFORMW 正确的说法是，为了确认是否会怀孕而不要避孕这样的指示，但好像没有必要确认。
	CALL PRINT_STRW,  "「…………呜呜_BH_」"
	CALL PRINT_STRW,  "「那么浓的精液……_BH_　一定会怀孕的……_BH_」"
	CALL PRINT_STRW,  "（如果怀孕了，会帮助生产和养育孩子……_BH_　在这之前、唔、呜呜_BH_）"
	CALL PRINT_STRW, @"「振、振作一点%CNAME("玲子")%……_／／／_　这是任务、没有羞耻的时间……_／／／_」"
	CALL PRINT_STRW,  "「而、而且，和恶魔有契约的人的精液，也不能随便处理。……」"
	CALL PRINT_STRW,  "「要好好地用里面接住……不影响周围的人……_BH_」"
	CALL PRINT_STRW,  "「……唔、呜呜_BH_　啊啊、真是的……っ_／／／_」"
	CALL PRINT_STRW,  "「名字、想一下会比较好吗……？_／／／_」"
	PRINTFORMW 可能太性急了，这么想的%CNAME("玲子")%下意识地用柔软的手抚摸着自己的下腹部，不久就睡着了……
	PRINTFORMW …………
	PRINTFORMW ……
	PRINTFORMW 
	DRAWLINE

CASE "初妊娠"
	DRAWLINE
	PRINTFORMW 【深夜：%CNAME("玲子")%公寓的厕所】
	PRINTFORML 
	CALL PRINT_STRW,  "「唔……_BH_　讨厌、这个……_／／／_　该怎么办才好……_BH_」"
	PRINTFORMW %CNAME("玲子")%脱掉内褲坐在马桶上，不知重复了多少遍。
	PRINTFORMW 视线正对着手中的细长塑料容器。
	CALL PRINT_STRW,  "（这是检查完成后的反应，……所以、这个是、那个……_BH_）"
	PRINTFORMW 容器上透明两个小窗，可以看到里面的纸片。
	PRINTFORMW 现在这两边都浮现出淡粉色的线。
	CALL PRINT_STRW,  "（怀、怀孕……是阳性的、吧）"
	PRINTFORMW 也就是说、
	CALL PRINT_STRW,  "「……中了…………_BH_／／／_BH_」"
	PRINTFORMW %CNAME("玲子")%一边反复嘟囔着一边温柔地抚摸着自己的下腹部……
	IF MARK:ARG:淫紋
		; TODO: 淫紋が反応している描写
	ENDIF
	CALL PRINT_STRW,  "（这……这也是任务的一环吧……）"
	CALL PRINT_STRW,  "（関于生育和育儿，『上面』也有联络说会好好照顾……）"
	CALL PRINT_STRW,  "「那就没什么……问题了，对吧……_BH_」"
	CALL PRINT_STRW,  "（能想到的‘原因’，那就不用想那么多了……）"
	IF CFLAG:ARG:最新中出し日 == DAY
		CALL PRINT_STRW,  "（今天也……_BH_　好多、被射了出来……_BH_）"
		CALL PRINT_STRW,  "「…………啊っ_BH_」"
		PRINTFORMW 突然之间，感觉有温暖的东西从两腿之间掉了下来。
		CALL PRINT_STRW,  "（讨厌……_BH_　留在里面的掉出来了……_BH_）"
	ENDIF
	CALL PRINT_STRW,  "「…………_BH_」"
	CALL PRINT_STRW,  "（突、突然说‘要负起责任’……是不行的吧）"
	CALL PRINT_STRW,  "（也还有任务……还、还是装作没发现比较好）"
	CALL PRINT_STRW,  "「……嘛、嘛啊、再考虑考虑吧、考虑考虑」"
	CALL PRINT_STRW,  "（但是……_BH_　孩子、嘛_BH_）"
	CALL PRINT_STRW,  "「希望能生一个健康的孩子…………_BH_」"
	PRINTFORM %CNAME("玲子")%温和地微笑着，温柔地抚摸着自己的下腹部……
	PRINTFORMW …………
	PRINTFORMW ……
	PRINTFORMW 

CASEELSE
	EVESTR = 
ENDSELECT

SIF STRLENSU(EVESTR)
	CALL SET_CEVENT, EVESTR, ARG

;-------------------------------------------------
; イベント発生条件
;-------------------------------------------------
@RYOKO_EVENT_CHECK_TRIGGER(ARGS, ARG)
SELECTCASE ARGS
;-------------------
; 避妊禁止
;-------------------
CASE "避妊禁止"
	SIF CEVENT("イベント：避妊禁止", ARG)
		RETURN 0
	SIF EXP:ARG:膣内精液経験 == 0
		RETURN 0
	RETURN 1
;-------------------
; 初妊娠
;-------------------
CASE "初妊娠"
	SIF CEVENT("イベント：初妊娠", ARG)
		RETURN 0
	SIF TALENT:ARG:出産経験 > 0
		RETURN 0
	SIF !COND("妊娠中：妊娠発覚直前", ARG)
		RETURN 0
	RETURN 1

;-------------------
; 告白成功
;-------------------
CASE "告白成功"
	SIF !TALENT:ARG:恋慕
		RETURN 0
	;SIF !TALENT:ARG:出産経験
	;	RETURN 0
	RETURN 1
;-------------------
; 処女喪失
;-------------------
CASE "処女喪失"
	
	RETURN 1
ENDSELECT
RETURN 0
