;;;<Summary>
;;;	勝利判定するわよ
;;;</Summary>
;;;<returns>勝利判定(0=戦闘継続,1=勝利,-1=敗北)</returns>
@D20XX_Judgment()
	#DIM DYNAMIC LCount
	#DIM DYNAMIC EnemyCount
	#DIM DYNAMIC PlayerCount

	EnemyCount = 0
	SELECTCASE D20XX_VictoryType
		;全部の敵を倒せば勝利
		CASE "殲滅"
			FOR LCount, 0, 10000
				SIF D20XX_Unit:LCount:1 == "-1"
					BREAK
				IF D20XX_Unit:LCount:0 == "敵"
					SIF TOINT(D20XX_Unit:LCount:2) > 0
						EnemyCount++
				ELSEIF D20XX_Unit:LCount:0 == "自軍"
					SIF TOINT(D20XX_Unit:LCount:2) > 0
						PlayerCount++
				ENDIF
			NEXT
			SIF PlayerCount == 0
				RETURN -1
			SIF EnemyCount == 0
				RETURN 1
		CASEELSE
			PRINTFORML %D20XX_VictoryType%
			PRINTFORML ！デバッグメッセージ！
			PRINTFORML どうやら勝利条件が設定されていないようですわよ？
			PRINTFORMW とりあえず勝利ということにするのでデバッグをしてくださいな
			RETURN 1
	ENDSELECT
	RETURN 0