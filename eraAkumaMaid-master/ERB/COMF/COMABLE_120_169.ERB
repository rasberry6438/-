;-------------------------------------------------
;120番台,調教者性交系指令
;-------------------------------------------------
@COM_ABLE120
;正常位奉仕
SIF COMABLE_DEF(120)
	RETURN 0
;調教者が男性だとダメ
SIF TALENT:PLAYER:男性
	RETURN 0
;阴茎有
IF PENIS(TARGET)
	;阴茎を使う時には股間が露出できないとダメ
	SIF !CHECK_CLO("Ｖ露出可")
		RETURN 0
;阴茎无
ELSE
	;穿戴式假陰茎がないとダメ
	SIF COND("假阳具") == 0
		RETURN 0
ENDIF
IF TEQUIP:推倒
	;施虐属性が必要
	SIF ABL:施虐属性 == 0
		RETURN 0
	SIF TALENT:PLAYER:処女 && ABL:施虐属性 < 3
		RETURN 0
ENDIF
CALL COM_ORDER_COM120, 1
RETURN LIMIT(RESULT, 0, 1)

@COM_ABLE121
;後背位奉仕
SIF COMABLE_DEF(121)
	RETURN 0
SIF TEQUIP:推倒
	RETURN 0
;調教者が男性だとダメ
SIF TALENT:PLAYER:男性
	RETURN 0
;阴茎有
IF PENIS(TARGET)
	;阴茎を使う時には股間が露出できないとダメ
	SIF !CHECK_CLO("Ｖ露出可")
		RETURN 0
;阴茎无
ELSE
	;穿戴式假陰茎がないとダメ
	SIF COND("假阳具") == 0
		RETURN 0
ENDIF

CALL COM_ORDER_COM121, 1
RETURN LIMIT(RESULT, 0, 1)


@COM_ABLE122
;騎乗位侵犯
SIF COMABLE_DEF(122)
	RETURN 0
SIF TEQUIP:推倒
	RETURN 0
;調教者が男性だとダメ
SIF TALENT:PLAYER:男性
	RETURN 0
;阴茎有
IF PENIS(TARGET)
	;阴茎を使う時には股間が露出できないとダメ
	SIF !CHECK_CLO("Ｖ露出可")
		RETURN 0
;阴茎无
ELSE
	;穿戴式假陰茎がないとダメ
	SIF COND("假阳具") == 0
		RETURN 0
ENDIF
;SIF ABL:PLAYER:Ｖ拡張 < SIZE("阴茎", TARGET) || EXP:PLAYER:Ｖ経験 < 20 || EXP:PLAYER:Ｖ性交経験 < 5
;	RETURN 0
RETURN 1

@COM_ABLE123
RETURN 0

@COM_ABLE124
RETURN 0

@COM_ABLE125
;Ａ正常位奉仕実行判定
SIF COMABLE_DEF(125)
	RETURN 0
SIF TEQUIP:推倒
	RETURN 0
;阴茎有
IF PENIS(TARGET)
	;阴茎を使う時には股間が露出できないとダメ
	SIF !CHECK_CLO("Ｖ露出可")
		RETURN 0
;阴茎无
ELSE
	;穿戴式假陰茎がないとダメ
	SIF COND("假阳具") == 0
		RETURN 0
ENDIF

CALL COM_ORDER_COM125, 1
RETURN LIMIT(RESULT, 0, 1)


@COM_ABLE126
;Ａ後背位奉仕実行判定
SIF COMABLE_DEF(126)
	RETURN 0
;阴茎有
IF PENIS(TARGET)
	;阴茎を使う時には股間が露出できないとダメ
	SIF !CHECK_CLO("Ｖ露出可")
		RETURN 0
;阴茎无
ELSE
	;穿戴式假陰茎がないとダメ
	SIF COND("假阳具") == 0
		RETURN 0
ENDIF

IF TEQUIP:推倒
	;施虐属性が必要
	SIF ABL:施虐属性 == 0
		RETURN 0
	SIF TALENT:PLAYER:Ａ処女 && ABL:施虐属性 < 3
		RETURN 0
ENDIF
CALL COM_ORDER_COM126, 1
RETURN LIMIT(RESULT, 0, 1)


@COM_ABLE127
;Ａ騎乗位侵犯実行判定
SIF COMABLE_DEF(127)
	RETURN 0
SIF TEQUIP:推倒
	RETURN 0
;阴茎有
IF PENIS(TARGET)
	;阴茎を使う時には股間が露出できないとダメ
	SIF !CHECK_CLO("Ｖ露出可")
		RETURN 0
;阴茎无
ELSE
	;穿戴式假陰茎がないとダメ
	SIF COND("假阳具") == 0
		RETURN 0
ENDIF

;SIF ABL:PLAYER:Ａ拡張 < SIZE("阴茎", TARGET) || EXP:PLAYER:Ａ経験 < 50 || EXP:PLAYER:Ａ性交経験 < 20
;	RETURN 0
RETURN 1

@COM_ABLE128
RETURN 0

@COM_ABLE129
RETURN 0


;-------------------------------------------------
;130～159番,SM系orハードな指令
;-------------------------------------------------
@COM_ABLE130
;打屁股実行判定
SIF COMABLE_DEF(130)
	RETURN 0
RETURN 1

@COM_ABLE132
;鼻钩実行判定
SIF COMABLE_DEF(132)
	RETURN 0
;解除是つでも可能
SIF TEQUIP:鼻钩
	RETURN 1
;道具を持っていないとダメ
SIF ITEM:拘束具 == 0
	RETURN 0
RETURN 1

@COM_ABLE133
;眼罩実行判定
SIF COMABLE_DEF(133)
	RETURN 0
;解除是つでも可能
SIF TEQUIP:眼罩
	RETURN 1
;道具を持っていないとダメ
SIF ITEM:拘束具 == 0
	RETURN 0
RETURN 1

@COM_ABLE134
;縄実行判定
SIF COMABLE_DEF(134)
	RETURN 0
;解除是つでも可能
SIF TEQUIP:拘束
	RETURN 1
;道具を持ってい無いとダメ
SIF ITEM:拘束具 == 0
	RETURN 0
;助手は技巧5でないとダメ
IF ASSIPLAY
	SIF ABL:ASSI:技巧 <= 4
		RETURN 0
ENDIF
RETURN 1

@COM_ABLE135
;口枷実行判定
SIF COMABLE_DEF(135)
	RETURN 0
;解除是つでも可能
SIF TEQUIP:口枷
	RETURN 1
;道具を持っていないとダメ
SIF ITEM:拘束具 == 0
	RETURN 0
;ASSIの場合、技巧3以上じゃないと使えない。
IF ASSIPLAY
	SIF ABL:ASSI:技巧 < 3
		RETURN 0
ENDIF
RETURN 1

@COM_ABLE136
;浣腸実行判定
SIF COMABLE_DEF(136)
	RETURN 0
;道具を持っていないとダメ
SIF ITEM:浣腸 == 0
	RETURN 0
;解除、追加是つでも可能
IF TEQUIP:浣腸 && COND("肛門栓")
	SIF COND("精液浣腸")
		RETURN 0
	RETURN 1
ELSE
	SIF COND("液体浣腸") >= 4
		RETURN 0
ENDIF
;肛門使用判定
SIF USE_A(TARGET, "浣腸") == 0
	RETURN 0
RETURN 1


@COM_ABLE138
;让对方浴尿実行判定（と是え今のところは口か膣か腸内への放尿のみ）
SIF COMABLE_DEF(138)
	RETURN 0
;避孕套つけてるとできない
SIF TEQUIP:PLAYER:避孕套
	RETURN 0
;PLAYヤーの施虐属性が必須
;SIF ABL:PLAYER:施虐属性 == 0
;	RETURN 0
SIF ABL:PLAYER:施虐属性 < 3 && ABL:受虐属性 < 3
	RETURN 0
;尿意が溜まってる？
SIF BASE:PLAYER:尿意 < 5000
	RETURN 0
;膣内放尿が可能かつ前回子宮挿入なら子宮内放尿になる
SIF CHECK_COM("口内放尿", 138) || CHECK_COM("膣内放尿", 138) || CHECK_COM("温泉浣腸", 138) || CHECK_COM("乳内放尿", 138) || CHECK_COM("膀胱内放尿", 138)
	RETURN 1
RETURN 0

@COM_ABLE139
;什麼也不做実行判定
SIF COMABLE_DEF(139)
	RETURN 0
;主人以外は不可にすべきかどうか
;SIF PLAYER != MASTER
;	RETURN 0
;連続実行は無理
SIF PREVCOM == 139
	RETURN 0
SIF COND("前Ｔと同ペア") == 0
	RETURN 0
;３Ｐ中はとりあえず封印
SIF COND("３Ｐ")
	RETURN 0
;ビデオ中も封印
SIF TEQUIP:攝像機
	RETURN 0
RETURN 1

@COM_ABLE140
;強制口交実行判定
SIF COMABLE_DEF(140)
	RETURN 0
;調教者が男性か扶她or假阳具がないとダメ
SIF PENIS(PLAYER) == 0 && COND("假阳具", PLAYER) == 0
	RETURN 0
;口球使用中は不可
SIF TEQUIP:口枷 == 1
	RETURN 0
;信頼+欲望が6以上、環形口枷装着、喉LVが高いでないとダメ
SIF ABL:信頼 + ABL:欲望 < 6 && TEQUIP:口枷 != 2 && CHECK("喉姦") < 2
	RETURN 0

CALL COM_ORDER_COM140, 1
RETURN LIMIT(RESULT, 0, 1)


@COM_ABLE141
;拳交
SIF COMABLE_DEF(141)
	RETURN 0
;Ｖ拡張LVが拳のサイズに匹敵していないと実行できない
SIF SIZE("片手フィスト", PLAYER) - (ABL:Ｖ拡張 + TEQUIP:弛緩/2) >= 2
	RETURN 0
RETURN 1

@COM_ABLE142
;肛門拳交
SIF COMABLE_DEF(142)
	RETURN 0
;Ａ拡張LVが拳のサイズに匹敵していないと実行できない
SIF SIZE("片手フィスト", PLAYER) - (ABL:Ａ拡張 + TEQUIP:弛緩/2) >= 2
	RETURN 0
RETURN 1

@COM_ABLE143
;両穴拳交
SIF COMABLE_DEF(143)
	RETURN 0
;ＶＡ拳交が出来ないとダメ
CALL COM_ABLE141
SIF RESULT == 0
	RETURN 0
CALL COM_ABLE142
SIF RESULT == 0
	RETURN 0
;Ｖ拡張LVが拳のサイズに匹敵していないと実行できない
SIF SIZE("Ｗフィスト", PLAYER) - (ABL:Ｖ拡張 + TEQUIP:弛緩/3) >= 2
	RETURN 0
;Ａ拡張LVが拳のサイズに匹敵していないと実行できない
SIF SIZE("Ｗフィスト", PLAYER) - (ABL:Ａ拡張 + TEQUIP:弛緩/3) >= 2
	RETURN 0
RETURN 1

@COM_ABLE144
;放尿実行判定
SIF COMABLE_DEF(144)
	RETURN 0
;尿道が塞がっているとダメ
SIF TEQUIP:尿道振動棒
	RETURN 0
;尿意ゲージが5000以上でないとダメ
SIF BASE:尿意 < 5000
	RETURN 0
;強制放尿は条件アリ
IF CHECK_COM("強制放尿", 144)
	;相手が阴茎持ちだと強制放尿は無理
	SIF PENIS(TARGET)
		RETURN 0
ENDIF
;推倒の時には聖水PLAYになる（とりあえず女性のみ）
IF TEQUIP:推倒
	SIF TEQUIP:面部騎乗 == 0 || PENIS(TARGET) || TEQUIP:Ｗ推倒
		RETURN 0
	SIF ABL:施虐属性 == 0 || ABL:露出癖 == 0 || ABL:欲望 < 3
		RETURN 0
	SIF ABL:施虐属性 < 2 && TALENT:倒錯的 == 0
		RETURN 0
ENDIF

CALL COM_ORDER_COM144, 1
RETURN LIMIT(RESULT, 0, 1)


@COM_ABLE145
;剃毛実行判定
SIF COMABLE_DEF(145)
	RETURN 0
;推倒ている時or女王様PLAYの時にはPLAYERの陰毛を剃ります！
IF TEQUIP:推倒 || TEQUIP:女王様PLAY
	SIF TEQUIP:PLAYER:振動棒
		RETURN 0
	;技巧2LV、施虐属性 >= 3、PLAYERに毛が生えていないとダメ
	SIF COND("陰毛", PLAYER) <= 3 || ABL:技巧 < 2 || ABL:施虐属性 < 3
		RETURN 0
ELSE
	SIF TEQUIP:振動棒
		RETURN 0
	;毛が生えていないとダメ
	SIF COND("剃毛可能") == 0
		RETURN 0
	;阴部剥き出しにできないとダメ
	SIF !CHECK_CLO("Ｖ露出可")
		RETURN 0

	CALL COM_ORDER_COM145, 1
	RETURN LIMIT(RESULT, 0, 1)
ENDIF
RETURN 1

@COM_ABLE146
;各調教で一度だけ
SIF COND("調教中") && CHOSECOM(146)
	RETURN 0
;身嗜管理実行判定
SIF COMABLE_DEF(146)
	RETURN 0
;何か指示できる状態でないとダメ
IF MARK:屈服刻印 >= 2
ELSEIF CONFIG("陰毛") && MARK:屈服刻印 >= 1 && COND("陰毛") >= 2
ELSEIF CONFIG("腋毛") && MARK:屈服刻印 >= 1 && COND("腋毛") >= 2
ELSEIF PENIS(TARGET) && COND("真性包茎") == 0 && MARK:屈服刻印 >= 1
ELSE
	RETURN 0
ENDIF
CALL COM_ORDER_COM146, 1
RETURN LIMIT(RESULT, 0, 1)

@COM_ABLE147
;精飲実行判定
SIF COMABLE_DEF(147)
	RETURN 0
;口球しているとダメ
SIF TEQUIP:口枷 == 1
	RETURN 0
;精液がたまっていないとダメ
SIF ITEM:套套内精液 == 0
	RETURN 0

CALL COM_ORDER_COM147, 1
RETURN LIMIT(RESULT, 0, 1)


@COM_ABLE148
;穿環実行判定
SIF COMABLE_DEF(148)
	RETURN 0
;道具がないとダメ
SIF ITEM:穿環套装 == 0
	RETURN 0
;你専用
SIF PLAYER != MASTER
	RETURN 0
SIF COND("合意：身体穿環") == 0
	RETURN 0
RETURN 1


@COM_ABLE149
;导管実行判定
SIF COMABLE_DEF(149)
	RETURN 0
;道具を持っていないとダメ
SIF ITEM:导管 == 0
	RETURN 0
;阴部剥き出しにできないとダメ
SIF !CHECK_CLO("Ｖ露出可")
	RETURN 0
CALL COM_ORDER_COM149, 1
RETURN LIMIT(RESULT, 0, 1)


@COM_ABLE150
;深喉実行判定
SIF COMABLE_DEF(150)
	RETURN 0
;解除させるの是つでも
SIF TEQUIP:深喉
	RETURN 1
;調教者にちんこが無いとダメ
SIF PENIS(PLAYER) == 0
	RETURN 0
;口球使用中は不可
SIF TEQUIP:口枷 == 1
	RETURN 0
;阴茎が小さいとダメ
SIF SIZE("阴茎", PLAYER) == 0
	RETURN 0
;喉姦可能で無いとダメ（今後変えるかも）
SIF CHECK("喉姦") == 0
	RETURN 0

CALL COM_ORDER_COM150, 1
RETURN LIMIT(RESULT, 0, 1)


@COM_ABLE151
;尿道探针実行判定
SIF COMABLE_DEF(151)
	RETURN 0
;道具を持っていないとダメ
SIF ITEM:尿道探针 == 0
	RETURN 0
;阴部剥き出しにできないとダメ
SIF !CHECK_CLO("Ｖ露出可")
	RETURN 0
;尿道を使用済みだとダメ
SIF TEQUIP:导管 || TEQUIP:尿道振動棒
	RETURN 0

CALL COM_ORDER_COM151, 1
RETURN LIMIT(RESULT, 0, 1)


@COM_ABLE152
;尿道振動棒実行判定
SIF COMABLE_DEF(152)
	RETURN 0
;道具を持っていないとダメ
SIF ITEM:振動棒套装 == 0
	RETURN 0
;阴部剥き出しにできないとダメ
SIF !CHECK_CLO("Ｖ露出可")
	RETURN 0
;导管使用中はダメ
SIF TEQUIP:导管
	RETURN 0
;既に使用中なら拔出だけなのでＯＫ
SIF TEQUIP:尿道振動棒
	RETURN 1
;尿道拡張LVが-1以上じゃないとダメ
SIF ABL:尿道拡張 <= -2
	RETURN 0

CALL COM_ORDER_COM152, 1
RETURN LIMIT(RESULT, 0, 1)

@COM_ABLE153
RETURN 0

@COM_ABLE154
RETURN 0

@COM_ABLE155
RETURN 0

@COM_ABLE156
RETURN 0

@COM_ABLE157
RETURN 0

@COM_ABLE158
;写真撮影実行判定　女你にはあまり対応してないかも…
SIF COMABLE_DEF(158)
	RETURN 0
;連続実行は駄目
SIF STR:前回指令 == "写真撮影"
	RETURN 0
;SIF PLAYER != MASTER
;	RETURN 0
SIF COND("前Ｔと同ペア") == 0
	RETURN 0
SIF COND("合意：Ｈ的写真") == 0 && EQUIP:Ｈ的奖励 == 0
	RETURN 0
;前ターン挿入してた場合可能　ハメ撮りや事後に分岐
SIF PREVPLAY("挿入")
	RETURN 1
;お掃除後も可能
SIF PREVPLAY("清洁口交")
	RETURN 1
;口に出しても可能
SIF PREVEX("口内射精")
	RETURN 1
;展示肉棒後も可能
SIF PREVPLAY("展示肉棒")
	RETURN 1
;前回指令依存
SELECTCASE PREVCOM
CASE TNUM("自慰")
	RETURN 1
;女你は指挿れ絶頂時も可能
CASE TNUM("指挿入")
	SIF TALENT:PLAYER:女性 && PREVEX("Ｖ絶頂")
		RETURN 1
;くぱぁ後も可能
CASE TNUM("扒開阴道"), TNUM("扒開菊穴")
	SIF STR:青写真 != ""
		RETURN 1
;尿道系後も可能
CASE TNUM("尿道探针")
	RETURN 1
;磨鏡後絶頂時も可能
CASE TNUM("磨鏡")
	SIF PREVEX("Ｃ絶頂")
		RETURN 1
ENDSELECT

RETURN 0

