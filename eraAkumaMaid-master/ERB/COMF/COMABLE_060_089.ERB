;-------------------------------------------------
;60番台,性交系指令
;-------------------------------------------------
@COM_ABLE60
;正常位実行判定
SIF COMABLE_DEF(60)
	RETURN 0
RETURN 1

@COM_ABLE61
;後背位実行判定
SIF COMABLE_DEF(61)
	RETURN 0
RETURN 1

@COM_ABLE62
;屈曲位実行判定
SIF COMABLE_DEF(62)
	RETURN 0
;拉米亚等、足が無い人はダメ
SIF COND("脚が無い")
	RETURN 0
;体位が正常位か屈曲位か挿入前でないとダメ（今後無くすかも）
IF INSERT("挿入") == 0 || INSERT("正常位") || INSERT("屈曲位")
ELSE
	RETURN 0
ENDIF
RETURN 1

@COM_ABLE63
;対面座位実行判定
SIF COMABLE_DEF(63)
	RETURN 0

RETURN 1

@COM_ABLE64
;背面座位実行判定
SIF COMABLE_DEF(64)
	RETURN 0
RETURN 1

@COM_ABLE65
;騎乗位実行判定
SIF COMABLE_DEF(65)
	RETURN 0
;調教者が男性か扶她じゃないとダメ
SIF PENIS(PLAYER) == 0
	RETURN 0
;推倒中
IF TEQUIP:推倒
	;処女を散らすには恋慕or不在乎貞操が必要
	SIF TALENT:処女 && TALENT:恋慕 + TALENT:不在乎貞操 == 0
		RETURN 0
	;損傷中
	SIF TALENT:Ｖ損傷
		RETURN 0
ENDIF
CALL COM_ORDER_COM65, 1
RETURN LIMIT(RESULT, 0, 1)


@COM_ABLE66
;挿入刺激Ｇ点実行判定
SIF COMABLE_DEF(66)
	RETURN 0
SIF COND("前Ｔ調教者") != PLAYER || INSERT("Ｖ挿入") == 0
	RETURN 0
;一時的に封印
SIF COND("３Ｐ") || PREVCOM:2 >= 0
	RETURN 0
;技術的な問題
IF TEQUIP:推倒
	SIF ABL:技巧 + ABL:腰靈活 <= 2 || ABL:Ｖ感覚 < 3 || EXP:Ｖ性交経験 < 20 || EXP:腰靈活経験 < 20
		RETURN 0
ELSE
	SIF ABL:PLAYER:技巧 + ABL:PLAYER:腰靈活 <= 2
		RETURN 0
ENDIF
RETURN 1

@COM_ABLE67
;挿入子宮口玩弄実行判定
SIF COMABLE_DEF(67)
	RETURN 0
SIF COND("前Ｔ調教者") != PLAYER || INSERT("Ｖ挿入") == 0
	RETURN 0
;一時的に封印
SIF COND("３Ｐ") || PREVCOM:2 >= 0
	RETURN 0
;技術的な問題
IF TEQUIP:推倒
	SIF ABL:技巧 + ABL:腰靈活 <= 2 || ABL:Ｖ感覚 < 3 || EXP:Ｖ性交経験 < 20 || EXP:腰靈活経験 < 20
		RETURN 0
ELSE
	SIF MIN(ABL:PLAYER:技巧, ABL:PLAYER:腰靈活) < 3
		RETURN 0
ENDIF
;阴茎の尺寸がある程度必要
SIF SIZE("阴茎", PLAYER) == 0
	RETURN 0
;Ａでしか妊娠しない時は実行不可
SIF TALENT:Ａ妊娠体質
	RETURN 0
RETURN 1

@COM_ABLE68
SIF COMABLE_DEF(68)
	RETURN 0
;妊婦はNG
SIF TALENT:妊娠
	RETURN 0
;とりあえず挿入子宮口玩弄の条件を満たすのは必須
;CALL COM_ABLE67
;SIF RESULT == 0
;	RETURN 0
SIF COND("前Ｔ調教者") != PLAYER || INSERT("Ｖ挿入") == 0
	RETURN 0
;一時的に封印
SIF COND("３Ｐ") || PREVCOM:2 >= 0
	RETURN 0
;技術的な問題
IF TEQUIP:推倒
	SIF ABL:技巧 + ABL:腰靈活 <= 2 || ABL:Ｖ感覚 < 3 || EXP:Ｖ性交経験 < 20 || EXP:腰靈活経験 < 20
		RETURN 0
	SIF TALENT:子宮性感 == 0 || EXP:子宮姦経験 == 0
		RETURN 0
ELSE
	SIF MIN(ABL:PLAYER:技巧, ABL:PLAYER:腰靈活) < 2
		RETURN 0
ENDIF
;阴茎の尺寸がある程度必要
SIF SIZE("阴茎", PLAYER) == 0
	RETURN 0
;Ａでしか妊娠しない時は実行不可
SIF TALENT:Ａ妊娠体質
	RETURN 0
SIF COND("子宮口弛緩度") < 2 && COND("うっかり子宮挿入フラグ") == 0
	RETURN 0
RETURN 1

@COM_ABLE69
RETURN 0

;-------------------------------------------------
;70番台,Ａ性交系指令
;-------------------------------------------------
@COM_ABLE70
;正常位肛門実行判定
SIF COMABLE_DEF(70)
	RETURN 0
RETURN 1

@COM_ABLE71
;肛門性交(後背位肛門)実行判定
SIF COMABLE_DEF(71)
	RETURN 0
RETURN 1

@COM_ABLE72
;屈曲位肛門実行判定
SIF COMABLE_DEF(72)
	RETURN 0
;拉米亚等、足が無い人はダメ
SIF COND("脚が無い")
	RETURN 0
;体位が正常位か屈曲位か挿入前でないとダメ（今後無くすかも）
IF INSERT("挿入") == 0 || INSERT("正常位") || INSERT("屈曲位")
ELSE
	RETURN 0
ENDIF
RETURN 1

@COM_ABLE73
;対面座位肛門実行判定
SIF COMABLE_DEF(73)
	RETURN 0
RETURN 1

@COM_ABLE74
;背面座位肛門実行判定
SIF COMABLE_DEF(74)
	RETURN 0
RETURN 1

@COM_ABLE75
;騎乗位肛門実行判定
SIF COMABLE_DEF(75)
	RETURN 0
;調教者が男性か扶她じゃないとダメ
SIF PENIS(PLAYER) == 0
	RETURN 0
;推倒時
IF TEQUIP:推倒
	;一定のＡ経験かＡ感覚か恋慕が必要
	SIF EXP:Ａ経験 < 50 && ABL:Ａ感覚 < 3 && TALENT:恋慕 == 0
		RETURN 0
	;恋慕で無いなら、Ａ性交経験が必要
	SIF TALENT:恋慕 == 0 && EXP:Ａ性交経験 == 0
		RETURN 0
	;損傷中
	SIF TALENT:Ａ損傷
		RETURN 0
ENDIF
CALL COM_ORDER_COM75, 1
RETURN LIMIT(RESULT, 0, 1)


@COM_ABLE76
RETURN 0

@COM_ABLE77
RETURN 0

@COM_ABLE78
RETURN 0

@COM_ABLE79
RETURN 0

;-------------------------------------------------
;80番台,特殊性交系指令
;-------------------------------------------------
@COM_ABLE80
;貝あわせ実行判定
SIF COMABLE_DEF(80)
	RETURN 0
;阴部剥き出しにできないとダメ
SIF !CHECK_CLO("Ｖ露出可")
	RETURN 0
;男性だとダメ
SIF TALENT:男性 || TALENT:PLAYER:男性
	RETURN 0
;双頭振動棒以外の振動棒挿入中はダメ(PLAYERが双頭以振动棒喪失処女するのはどうなんだろ)
IF TEQUIP:振動棒
	SIF COND("双頭振動棒") == 0
		RETURN 0
	IF TALENT:PLAYER:処女
		IF TEQUIP:推倒
			SIF ABL:施虐属性 < 3
				RETURN 0
		ELSE
		;	SIF ABL:PLAYER:受虐属性 < 3
		;		RETURN 0
		ENDIF
	ENDIF
ENDIF
RETURN 1

@COM_ABLE81
;雙乳間抽插実行判定
SIF COMABLE_DEF(81)
	RETURN 0
;胸を剥き出しにできるor胸露出でないとダメ
SIF CHECK_CLO("谷間露出") + CHECK_CLO("半脱可") == 0
	RETURN 0
;[貧乳]はダメ
SIF TALENT:貧乳 || TALENT:男性
	RETURN 0
;調教者が男性か扶她じゃないとダメ
SIF PENIS(PLAYER) == 0
	RETURN 0
SIF COND("指の使用", PLAYER) == 0
	RETURN 0
RETURN 1

@COM_ABLE82
;乳頭奸実行判定
SIF COMABLE_DEF(82)
	RETURN 0
;胸を剥き出しにできるor乳頭露出でないとダメ
SIF CHECK_CLO("乳頭露出") + CHECK_CLO("半脱可") == 0
	RETURN 0
;Configで乳頭奸可能＆巨乳＆淫乳でないとダメ
SIF COND("乳頭奸") == 0
	RETURN 0
;調教者が男性か扶她じゃないとダメ
SIF PENIS(PLAYER) == 0
	RETURN 0
IF TEQUIP:推倒
	SIF EXP:Ｂ性交経験 == 0
		RETURN 0
ENDIF
RETURN 1

@COM_ABLE83
;尿道正常位実行判定
SIF COMABLE_DEF(83)
	RETURN 0
RETURN 1

@COM_ABLE84
SIF COMABLE_DEF(84)
	RETURN 0
;阴茎だと体位的にムリ？
SIF PENIS(TARGET)
	RETURN 0
RETURN 1

@COM_ABLE85
SIF COMABLE_DEF(85)
	RETURN 0
;阴茎だと体位的にムリ？
SIF PENIS(TARGET)
	RETURN 0
;拉米亚等、足が無い人はダメ
SIF COND("脚が無い")
	RETURN 0
;体位が正常位か屈曲位か挿入前でないとダメ（今後無くすかも）
IF INSERT("挿入") == 0 || INSERT("正常位") || INSERT("屈曲位")
ELSE
	RETURN 0
ENDIF
RETURN 1

@COM_ABLE86
SIF COMABLE_DEF(86)
	RETURN 0
;阴茎だと体位的にムリ？
SIF PENIS(TARGET)
	RETURN 0
RETURN 1

@COM_ABLE87
SIF COMABLE_DEF(87)
	RETURN 0
;阴茎だと体位的にムリ？
SIF PENIS(TARGET)
	RETURN 0
RETURN 1

@COM_ABLE88
SIF COMABLE_DEF(88)
	RETURN 0
;調教者が男性か扶她じゃないとダメ
SIF PENIS(PLAYER) == 0
	RETURN 0
;阴茎だと体位的にムリ？
SIF PENIS(TARGET)
	RETURN 0
;推倒時
IF TEQUIP:推倒
	;一定のEXP:尿道経験か尿道性感が必要
	SIF EXP:尿道経験 < 50 && TALENT:尿道性感 == 0
		RETURN 0
	;尿道狂で無いなら、尿道性交経験が20必要
	SIF TALENT:尿道狂 == 0 && EXP:尿道性交経験 < 20
		RETURN 0
ENDIF
RETURN 1

@COM_ABLE89
RETURN 0
