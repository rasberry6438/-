@COM283
;甜言蜜语
;成功率判定を行う。成功時には反感を買わずに恭順・欲望が上昇。
CALL PRINT_TRAIN_NAME(SELECTCOM)

CALL TRAIN_MESSAGE_B

SIF REFUSE_CHECK()
	RETURN 0

STR:前回指令 = %STR:今回指令%

;話を聞いてくれる
IF CALCF("甜言蜜语成功")
	TEQUIP:甜言蜜语 = 5
	;専用の素質を持ってる？
	SIF TALENT:PLAYER:甜言蜜语
		TEQUIP:甜言蜜语 += TALENT:PLAYER:甜言蜜语/2 + 1
	;建议に堕天使の甘言がある？
	SIF TEQUIP:堕天使の甘言
		TEQUIP:甜言蜜语 += 2
	SIF CFLAG:心情好 == 0 && CHECK_COM("夸奖", TNUM("甜言蜜语") )
		CFLAG:心情好 = 1
;話を聞いてくれない
ELSE
	TEQUIP:甜言蜜语 = 0
ENDIF

CALL SOURCE_CHECK_SHORT

RETURN 0

@CHECK_TRAIN283_PRAISE()
#FUNCTION
SELECTCASE TRAIN_MESSAGE_COM283_SUBS(PREVCOM)
CASE ""
	RETURNF 0
CASEELSE
	RETURNF 1
ENDSELECT

;甜言蜜语というよりは夸奖区分。ARGには対象とする指令番号を入れる(通常はPREVCOM)
@TRAIN_MESSAGE_COM283_SUBS(ARG)
#FUNCTIONS

VARSET LOCALS
SELECTCASE TRAINNAME_EX(ARG)
CASE "舐陰莖", "给对方手交", "给对方乳交", "给对方足交"
	IF SIZE("阴茎", TARGET) >= 2 && TALENT:MASTER:男性 == 0
		IF PREVEX("射精")
			LOCALS += @"%CALLNAME:PLAYER%欣赏着%CALLNAME:TARGET%%TEXTR("可爱地向上仰望着这边的样子/舒服地晕乎乎的样子/满足地吐出舌頭的样子")%的同时、"
			LOCALS += @"%TEXTR("将刚刚射精之后还留着白色的口水的/将刚刚射精还很敏感的/刚刚射精过一次的")%巨根"
		ELSE
			LOCALS += @"%CALLNAME:PLAYER%将%CALLNAME:TARGET%%TEXTR("可爱地向上仰望着这边的样子记在脑海中的同时/温柔地奉仕的同时/用心取悦的同时")%、将%TEXTS("阴茎：尺寸表現付")%"
		ENDIF
	ENDIF
CASE "扒開阴道", "扒開菊穴"
	SIF STR:賞賛内容 != ""
		LOCALS += @"%CALLNAME:PLAYER%%STR:賞賛内容%将%CALLNAME:TARGET%"
CASE "剃毛"
	IF TALENT:男性 == 0
		LOCALS += @"%CALLNAME:PLAYER%は"
		SELECTCASE CONDS("陰毛")
		CASE "脱毛処理"
			LOCALS += @"%TEXTR("脱毛处理后变成了像兒童一様光滑无毛的/因为完全脱毛而变得十分干净的")%"
		CASE "光滑无毛"
			LOCALS += @"%TEXTR("精心剃净陰毛的/被剃得光滑无毛/能看得十分清楚的")%"
		CASE "保养完毕"
			IF CEVENT("陰毛の名称")
				LOCALS += @"綺麗%CEVENTS("陰毛の名称")%的"
			ELSE
				LOCALS += @"%TEXTR("精心打理的/漂亮的/轻松的")%"
			ENDIF
			LOCALS += @"陰毛剃整齐的"
		ENDSELECT
		LOCALS += @"将%CALLNAME:TARGET%的%TEXTS("割れ目：表現短め")%"
		IF RAND:2
			LOCALS += @"、用指尖%TEXTR("温柔地描着/推開/咕滋咕滋地玩弄")%的同时"
		ELSE
			LOCALS += @"用脸靠近、%TEXTR("確認结果/检查毛茬的痕迹/仔细鑑賞")%的同时"
		ENDIF
	ENDIF
CASE "喝套内精液"
	LOCALS += @"%CALLNAME:PLAYER%は"
	SELECTCASE ABL:精液中毒
	CASE IS >= 3
		LOCALS += @"将%CALLNAME:TARGET%出色的飲用姿势"
	CASEELSE
		LOCALS += @"、把精液好好地喝干的%CALLNAME:TARGET%"
	ENDSELECT
CASE "让对方浴尿"
	SIF PREVPLAY("尿飲み干し")
		LOCALS += @"%CALLNAME:PLAYER%赞美了没有溢出来而是漂亮飲尽了尿液的%CALLNAME:TARGET%"
CASE "拳交", "両穴拳交"
	LOCALS += @"%CALLNAME:PLAYER%%TEXTR("看着沾满愛液的手/抚摸着股間/继续慢慢用手进出")%的同时、"
	IF ABL:Ｖ弛緩
		LOCALS += @"%TEXTR(@"目を見張る程に大きく広がった%CALLNAME:TARGET%の膣穴\/%CALLNAME:TARGET%の膣穴のガバガバ具合\/すっかり締まりを失ってしまった%CALLNAME:TARGET%のユルい膣穴")%を"
	ELSE
		LOCALS += @"%TEXTR(@"大きく広がった%CALLNAME:TARGET%の膣穴\/%CALLNAME:TARGET%の膣穴の深く柔軟な様\/腕だろうと受け入れられる程に成長した%CALLNAME:TARGET%の膣穴")%を"
	ENDIF
CASE "肛門拳交"
	IF PREVEX("前列腺高潮射精")
		LOCALS += @"%CALLNAME:PLAYER%、%TEXTR("用肛門拳交/用拳頭来回进出着肛門/仔细地将手腕压入尻穴")%刺激着前列腺"
		LOCALS += @"将%TEXTR("身体一阵一阵颤抖垂流出精液的/舒服地快要融化掉精液咕噜咕噜地漏出来了的/全身酥软露出了恍惚的表情就这样用软乎乎的肉棒射精了的")%%CALLNAME:TARGET%"
	ELSE
		LOCALS += @"%CALLNAME:PLAYER%%TEXTR("展示着被体液弄脏的手指的/抚摸着股间/温柔地不断用手指抚弄")%的同时、"
		IF ABL:Ａ弛緩
			LOCALS += @"%TEXTR(@"肉眼可见地进行了扩张的%CALLNAME:TARGET%的肛門\/%CALLNAME:TARGET%的尻穴变得乱七八糟的\/失去了能够紧密地包裹住内容物的%CALLNAME:TARGET%的湿滑尻穴")%を"
		ELSE
			LOCALS += @"%TEXTR(@"大大地扩张了的%CALLNAME:TARGET%的肛門\/%CALLNAME:TARGET%柔软的直肠\/能够将手腕放入其中成長了的%CALLNAME:TARGET%的肛門")%を"
		ENDIF
	ENDIF
CASEELSE
	IF PREVPLAY("穿環")
		LOCALS += @"%CALLNAME:PLAYER%は"
		IF PREVPLAY("乳環")
			LOCALS += @"、将%CALLNAME:TARGET%用乳環装饰着的乳頭"
		ELSEIF PREVPLAY("恥丘穿環")
			LOCALS += @"、观赏着%CALLNAME:TARGET%用乳環装饰着的恥丘"
		ELSEIF PREVPLAY("性器穿環")
			IF TALENT:男性
				LOCALS += @"脸伸入%CALLNAME:TARGET%的股间、将穿環的阴茎"
			ELSEIF TALENT:扶她
				LOCALS += @"脸伸入%CALLNAME:TARGET%的股间、将穿環的性器"
			ELSE
				LOCALS += @"脸伸入%CALLNAME:TARGET%的股间、将穿環的小穴"
			ENDIF
		ELSE
			LOCALS += @"、将%CALLNAME:TARGET%穿着環的肚脐眼"
		ENDIF
	ELSEIF PREVPLAY("恥垢清洁口交")
		LOCALS += @"%CALLNAME:PLAYER%溫柔地撫摸著%TEXTR("用舌尖溫柔地取下恥垢再數盡吞下的/殷勤地為掃除恥垢而扭動著舌頭的/用手溫柔地扶住陰莖用嘴清掃著其上的污垢的")%%CALLNAME:TARGET%的%TEXTR("頭髮/頭/臉頰")%的同時"
	ELSEIF PREVPLAY("Ａ清洁口交")
		LOCALS += @"%CALLNAME:PLAYER%溫柔地撫摸著正在為剛剛完成肛門性交的陰莖進行口交掃除的%CALLNAME:TARGET%的%TEXTR("頭髮/頭/臉頰")%的同時"
	ELSEIF PREVPLAY("清洁口交")
		LOCALS += @"%CALLNAME:PLAYER%溫柔地撫摸著正在為陰莖進行口交掃除的%CALLNAME:TARGET%的%TEXTR("頭髮/頭/臉頰")%的同時"
	ELSEIF PREVPLAY("阴茎接吻")
		;あんまり慣れてない
		IF TALENT:献身 + TALENT:好色 + TALENT:小悪魔 == 0 && (MARK:屈服刻印 <= 1 || EXP:口交経験 < 20)
			LOCALS += @"%CALLNAME:PLAYER%溫柔地撫摸著%TEXTR("害羞地叼著肉棒的/還不熟練地親吻著陰莖的/猶豫著用舌尖抵著陰莖的")%%CALLNAME:TARGET%的%TEXTR("頭髮/頭/臉頰")%的同時"
		ELSE
			LOCALS += @"%CALLNAME:PLAYER%溫柔地撫摸著%TEXTR("開心地親吻著陰莖的/快速地親吻吞吐著陰莖的/用心地親吻陰莖后帶著尊敬之情慢慢用舌頭濡濕肉棒的")%%CALLNAME:TARGET%的%TEXTR("頭髮/頭/臉頰")%的同時"
		ENDIF
	ELSEIF PREVEX("前列腺高潮射精")
		LOCALS += @"%CALLNAME:PLAYER%将因为对前列腺的刺激%TEXTR("身体一阵一阵地颤抖的同时不断地流出精液的/露出一副非常舒服的表情漏出了黏糊糊的精液的/全身变得软软的恍惚着摇晃软绵绵的阴茎射精了的")%%CALLNAME:TARGET%"
	ELSEIF PREVPLAY("万謝的亲吻")
		LOCALS += @"%CALLNAME:PLAYER%将脸埋进股间进行奉仕的同时、将%CALLNAME:TARGET%的%TEXTS("割れ目")%"
	ELSEIF TEQUIP:深喉
		LOCALS += @"%CALLNAME:PLAYER%溫柔地撫摸著帶著慌亂的吐息為陰莖進行深喉口交的%CALLNAME:TARGET%的%TEXTR("頭髮/頭/臉頰")%的同時"
	ELSEIF PREVEX("絶頂", MASTER)
		SELECTCASE TRAINNAME_EX(PREVCOM)
		CASE "奉仕舐陰"
			LOCALS += @"%CALLNAME:PLAYER%一边%TEXTR("抚摸着頭发/抚摸着頭/温柔地抚摸着脸颊")%、一边将%CALLNAME:TARGET%的%TEXTR("优秀清洁能力/高超舌技/奉仕力")%"
		ENDSELECT
	ENDIF
ENDSELECT
SIF LOCALS != ""
	LOCALS += @"%TEXTR("進行了多次讚美/不斷地誇讚")%…"
RETURNF LOCALS

@TRAIN_MESSAGE_COM283
#DIM MEMO_LINECOUNT
MEMO_LINECOUNT = LINECOUNT

IF TRAIN_MESSAGE_COM283_SUBS(PREVCOM) != ""
	PRINTFORMW %TRAIN_MESSAGE_COM283_SUBS(PREVCOM)%
	RETURN 1
ENDIF

PRINTFORM %CALLNAME:PLAYER%

;挿入中
IF INSERT("合体中") && RANDIF(1, TEQUIP:接吻)
	PRINTFORM 對%TEXTS("合体中", PLAYER)%
ELSEIF TEQUIP:接吻
	PRINTFORM 對%TEXTS("接吻継続")%、
	CALL SETFLAG, "追加接吻フラグ", TARGET
ELSE
	SELECTCASE TRAINNAME_EX(PREVCOM)
	CASE "愛撫"
		PRINTFORM %TEXTR("令人心焦地愛撫/溫柔地撫摸/壞心眼地揉弄著弱點")%的同時、
	CASE "舐陰"
		PRINTFORM 將臉埋入股間進行奉仕的同時、
	CASE "肛門愛撫"
		IF TEQUIP:肛用振動棒
			PRINTFORM 對%TEXTR("溫柔地攪動著插入直腸的玩具/用震動棒撫慰著腸壁/攪動著像是尾巴一樣從肛門中吐出來的振動棒")%的同時、
		ELSE
			PRINTFORM %TEXTR("令人心焦地愛撫尻穴/溫柔地撫摸尻穴/壞心眼地揉弄著尻穴弱點")%的同時
		ENDIF
	CASE "胸愛撫"
		PRINTFORM 對胸を%TEXTR("温柔地爱抚/轻柔地抚摸/壞心眼地揉弄著")%胸部的同时、
	CASE "阴部愛撫"
		PRINTFORM %TEXTR("温柔地爱抚/轻柔地抚摸/壞心眼地揉弄著")%股间的同时、
	CASE "指挿入"
		IF TEQUIP:振動棒
			PRINTFORM 對%TEXTR("溫柔地攪動著插入膣内的玩具/用震動棒撫慰著膣内/用振動棒刺激著膣内的軟肉")%的同時、
		ELSE
			PRINTFORM 對%TEXTR("緩緩地抽動插入膣内的手指/溫柔地用手指愛撫著膣内/用手指輕撓著膣襞")%的同時、
		ENDIF
	CASE "舐肛"
		PRINTFORM 向著尻穴低下頭進行奉仕的同時、
	CASE "尿道指挿入"
		PRINTFORM %TEXTR("緩緩地抽動插入尿道的手指/溫柔地用手指愛撫著尿道黏膜/用手指玩弄著過於敏感的地方")%的同時、
	CASE "自慰"
		PRINTFORM 在眼前進行著自慰的
	CASE "舐陰莖", "给对方手交", "给对方乳交"
		PRINTFORM 為%TEXTS("阴茎：視覚", TARGET)%獻上奉仕的同時、
	CASE "手淫"
		PRINTFORM 用手擼動著陰莖的
	CASE "口交"
		PRINTFORM 對将阴茎用嘴唇侍奉着的
	CASE "乳交"
		IF TALENT:巨乳
			PRINTFORM %TEXTR("用胸部奉仕陰莖/將陰莖放入胸部中裹挾擼動著")%的
		ELSE
			PRINTFORM %TEXTR("用胸部奉仕陰莖/用胸部摩擦陰莖")%的
		ENDIF
	CASE "奉仕舐陰"
		PRINTFORM 對將臉頰埋在股間侍奉著的
	CASE "強制口交"
		PRINTFORM 暫時停止了扭腰、從深喉口交中得到喘息機會的
	CASE "抱上去"
		PRINTFORMW 抱着%CALLNAME:TARGET%、說著甜蜜的情話…
		RETURN 1
	CASEELSE
		IF ASSI && TALENT:ASSI:甜言蜜语 && TALENT:MASTER:甜言蜜语 && ASSIPLAY
			PRINTFORM 和%CALLNAME:MASTER%對
		ELSEIF ASSI && TALENT:ASSI:甜言蜜语 && TALENT:MASTER:甜言蜜语 && ASSIPLAY == 0 && COND("只和你Ｈ") == 0
			PRINTFORM 和%CALLNAME:ASSI%對
		ELSE
			PRINTFORM 對
		ENDIF
	ENDSELECT
ENDIF

;PLAYER主導PLAY直後ならちょっと補足
IF TRAIN_GENRE("partner主導", PREVCOM) == 0
	IF PREVEX("絶頂漏尿")
		PRINTFORM %TEXTR("刚刚绝顶漏尿的/因为过度的快感而露出了羞耻的丑态的/沉浸在绝顶的余韵中断断续续地漏尿的")%
	ENDIF
ENDIF

IF AGE(TARGET) < AGE(PLAYER) && INSERT("合体中") == 0
	PRINTFORMW %CALLNAME:TARGET%說著溫柔的誇獎……
ELSE
	PRINTFORMW %CALLNAME:TARGET%說著甜蜜的情話……
ENDIF


@EQUIP_COM283_2
SIF TEQUIP:甜言蜜语 == 0
	RETURN 0
IF CFLAG:心情好 == 1
	CALL PRINT_STRW, @"%CALLNAME:TARGET%が[欣喜]成为了_黄色_(実行値に+10BOUNS)"
	CFLAG:心情好 = 2
	SIF PLAYER == MASTER
		TFLAG:好感度BOUNS += 5
ENDIF

;実行ターンの成功時のSOURCEはここで処理
IF SELECTCOM == 283
	;成功率Downの素質がある場合、取得sourceにBOUNSがつく
	;ソースの基準量や補正倍率はまだ調整途上
	LOCAL = CALCF("甜言蜜语")

	SOURCE:情愛 += LOCAL
	IF TALENT:男性 == 0
		IF TALENT:容易濕
			SOURCE:Ｖ液体追加 += UP_PALAMLV(LOCAL / 10)
		ELSEIF TALENT:不易濕
			SOURCE:Ｖ液体追加 += DOWN_PALAMLV(LOCAL / 10)
		ELSE
			SOURCE:Ｖ液体追加 += LOCAL / 10
		ENDIF
	ENDIF
	SOURCE:恭順追加 += LOCAL / 2
	SOURCE:欲情追加 += LOCAL / 4
	;叛逆な人は恭順が上がらな過ぎるので、補正
	SIF TALENT:叛逆
		SOURCE:恭順追加 += LOCAL * 3
	;情緒加算
	IF CHOSECOM(SELECTCOM) == 0
		FLAG:情緒 += 30 + TEQUIP:甜言蜜语/2*5
	ELSE
		FLAG:情緒 += 5 + TEQUIP:甜言蜜语/4
	ENDIF

	;好感度
	SIF PLAYER == MASTER
		TFLAG:好感度BOUNS += 1 + TEQUIP:甜言蜜语
ENDIF
;情緒アップ中
PRINTFORML ＜甜言蜜语効果発揮中＞
TEQUIP:甜言蜜语 -= 1

RETURN 1

;-------------------------------------------------
;汎用口上
;-------------------------------------------------
@KOJO_MESSAGE_COM283
;汎用成功
IF TEQUIP:甜言蜜语
	IF TALENT:高慢 && RAND:2
		PRINTFORMW %CALLNAME:TARGET%對此好像並不滿足……
	ELSEIF TALENT:開朗
		IF RAND:2 && TEQUIP:六九式 == 0 && INSERT("後背位") + INSERT("背面座位") == 0
			PRINTFORM %CALLNAME:TARGET%因此而露出了大大的笑容、將%CALLNAME:PLAYER%
			IF AGE(TARGET) >= 3
				PRINTW 緊緊抱住了。
			ELSE
				PRINTW 輕輕擁住了。
			ENDIF
		ELSE
			PRINTFORMW %CALLNAME:TARGET%小聲的反復嘀咕著%CALLNAME:PLAYER%的情話、露出了略帶羞澀的開心笑容。
		ENDIF
	ELSEIF TALENT:害羞
		PRINTFORMW %CALLNAME:TARGET%的臉頰變得通紅、扭扭捏捏地看過來了……
	ELSE
		PRINTFORMW %CALLNAME:TARGET%開心的笑著。
	ENDIF
;汎用失敗
ELSE
	IF TALENT:高慢 && RAND:2
		PRINTFORMW %CALLNAME:TARGET%對著%CALLNAME:PLAYER%的奉承話嗤笑起來……
	ELSE
		PRINTFORMW %CALLNAME:TARGET%並沒有認真的聆聽%CALLNAME:PLAYER%的情話……
	ENDIF
ENDIF
