@COM101
;尻素股
CALL PRINT_TRAIN_NAME(SELECTCOM)

;-------------------------------------------------
;実行できるかの判定
;-------------------------------------------------
CALL SHOW_COM_ORDER_COM, 101

;実行できない
SIF TCVAR:干劲 == 0
	RETURN 0
;-------------------------------------------------
;実行決定
;-------------------------------------------------
CALL TRAIN_MESSAGE_B

SIF REFUSE_CHECK()
	RETURN 0

STR:前回指令 = %STR:今回指令%
;-------------------------------------------------
;射精格子
;-------------------------------------------------
CALL SAMEN_CHECK

RETURN 1

@FLAG_COM101, ARG
SIF ASSIPLAY == 0
	TFLAG:好感度BOUNS += 1

@SOURCE_COM101, ARG
CALL VARSET_COMF

SOURCE:0:欲情追加 = CALCF("実行値による欲情追加")
SOURCE:0:屈従 = 1200
SOURCE:0:逸脱 = 50

CALL CALC, "調教ソース", ARG


@TRAIN_MESSAGE_COM101
#DIMS TEXT_ASS
#DIMS TEXT_PENIS

IF CHECK_CLO("Ｔ字褲臀圍") || CHECK_CLO("Ａ露出")
	TEXT_ASS = %TEXTR(@"%TEXTS("お尻：視覚")%/%TEXTS("お尻：感触")%")%
ELSE
	TEXT_ASS = %TEXTS("お尻：視覚")%
ENDIF
;前回挿入行為
IF PREVPLAY("挿入中", PLAYER)
	TEXT_PENIS = 、穴から抜いたばかりの\@ CHECK_STAIN(STAIN:PLAYER:Ｐ, "Ｖ", "Ａ") ? 弄脏的 # \@阴茎
ELSEIF TEXT_ASS == "お尻"
	TEXT_PENIS = 、%TEXTS("阴茎：視覚", PLAYER)%阴茎
ELSE
	TEXT_PENIS = 阴茎
ENDIF

IF CHECK_COM("Ｗ奉仕")
	IF SELECTCOM:1 == PREVCOM:1 && SELECTCOM == PREVCOM
		PRINTFORM 兩人
		IF TALENT:(TARGET:1):淫乱 + TALENT:(TARGET:1):恋慕 && TALENT:淫乱 + TALENT:恋慕 && RAND:3 == 0
			PRINT 神情恍惚、眼神濕潤的對視著的同時
		ELSEIF RAND:2 == 0
			PRINT 如同完全沉浸於快感一樣無意識的漏出涎水的同時
		ENDIF
		PRINTFORMW %CALLNAME:MASTER%的%TEXT_PENIS%用屁股摩擦着、持续地进行刺激…
	ELSE
		PRINTFORM %CALLNAME:TARGET%和%CALLNAME:(TARGET:1)%
		SIF TALENT:(TARGET:1):淫乱 + TALENT:(TARGET:1):恋慕 + TALENT:淫乱 + TALENT:恋慕 && RAND:2 == 0
			PRINTFORM 在用充滿慾望與依戀的雙瞳凝視著%CALLNAME:MASTER%赤裸身體的同時、
		PRINTFORMW 协力地将阴茎用屁股夹住上下撸动着…
	ENDIF
;被逆推ているとき
ELSEIF TEQUIP:推倒
	IF SELECTCOM == PREVCOM
		PRINTFORM %CALLNAME:TARGET%將%CALLNAME:PLAYER%的%TEXTS("阴茎：視覚", PLAYER)%阴茎
		PRINTFORMW %TEXTR("用屁股持续地摩擦/持续地用屁股夹着撸动")%…
	ELSE
		PRINTFORM %CALLNAME:TARGET%將%CALLNAME:PLAYER%的阴茎
		IF RAND:2
			PRINTFORMW 被用%TEXTS("お尻：感触")%夹着撸动着…
		ELSE
			PRINTFORMW 被%TEXTS("お尻：視覚")%摩擦着…
		ENDIF
	ENDIF
ELSEIF SELECTCOM == PREVCOM
	PRINTFORM %CALLNAME:PLAYER%將%CALLNAME:TARGET%的%TEXTR(@"%TEXTS("お尻：視覚")%/%TEXTS("お尻：感触")%")%
	IF TALENT:小尻 == 0 && RAND:2
		PRINTFORMW 将阴茎夹住持续地进行腰振…
	ELSE
		PRINTFORMW %TEXTR("将阴茎持续地摩擦着/将阴茎持续地撸动着")%…
	ENDIF
ELSEIF PREVCOM == TNUM("扒開菊穴")
	PRINTFORM %CALLNAME:PLAYER%在%CALLNAME:TARGET%
	IF RAND:2
		PRINTFORMW 一边将%TEXTS("肛門")%菊穴向两边扳開、一边用%TEXTS("お尻：感触")%摩擦着阴茎…
	ELSE
		PRINTFORMW 保持着屁股想两边打開的姿势、用%TEXTS("肛門周辺")%摩擦着阴茎…
	ENDIF
ELSE
	PRINTFORM %CALLNAME:PLAYER%將%CALLNAME:TARGET%的
	IF CHECK_CLO("Ａ露出")
	;まずは贴身制服
	ELSEIF CHECK_CLO("贴身制服露出")
		PRINTFORM %BODYS(TARGET, "略")%\@ CHECK_CLO("Ｔ字褲臀圍") ? 吞入其中 # 包裹着的 \@
	ELSEIF CHECK_CLO("连褲襪露出") || CHECK_BOTTOM("布鲁马")
		PRINTFORM 被%BOTTOM(TARGET, "略")%包裹着的
	ELSEIF CHECK_CLO("下衣露出")
		PRINTFORM %BOTTOM(TARGET, "略")%\@ CHECK_CLO("Ｔ字褲臀圍") ? 吞入其中 # 包裹着的 \@
	ELSEIF CHECK_CLO("胖次露出")
		PRINTFORM %PANTIES(TARGET)%\@ CHECK_CLO("Ｔ字褲臀圍") ? 吞入其中 # 包裹着的 \@
	ENDIF
	;長すぎる様なら"、"を前に着ける
	SIF STRLENSU(TEXT_ASS) >= 15 && CHECK_CLO("Ａ露出") == 0
		PRINTFORM 、
	PRINTFORM %TEXT_ASS%
	IF TALENT:小尻 == 0 && RAND:2 && CHECK_CLO("Ｔ字褲臀圍")
		PRINTFORMW 压在%TEXT_PENIS%上、用尻肉夹着開始了腰振…
	ELSEIF CLO("股間") != ""
		PRINTFORMW 摩擦起%TEXT_PENIS%…
	ELSE
		PRINTFORMW %TEXTR(@"摩擦着%TEXT_PENIS%/将%TEXT_PENIS%撸动着")%…
	ENDIF
ENDIF

@COM_ORDER_COM101, ARG
VARSET LOCAL
LOCALS = 

;すべての命令に共通の要素を考慮
;(信頼が高いと命令に従いやすいなど)
CALL COM_ORDER, ARG

LOCAL = RESULT

;ABL:奉仕精神
IF ABL:奉仕精神
	LOCAL += MIN(ABL:奉仕精神, 10) * 2
	LOCALS = %LOCALS% + 奉仕精神LV{ABL:奉仕精神}({MIN(ABL:奉仕精神, 10) * 2})
ENDIF
;ABL:精液中毒
IF ABL:精液中毒
	LOCAL += MIN(ABL:精液中毒, 5) * 3
	LOCALS = %LOCALS% + 精液中毒LV{ABL:精液中毒}({MIN(ABL:精液中毒, 5) * 3})
ENDIF

;害羞
IF TALENT:害羞
	LOCAL -= 3
	LOCALS = %LOCALS% - 害羞(3)
ENDIF
;否定快感
IF TALENT:否定快感
	LOCAL -= 1
	LOCALS = %LOCALS% - 否定快感(1)
ENDIF

;媚薬
IF TEQUIP:媚薬
	LOCAL += 6
	LOCALS = %LOCALS% + 媚薬(6)
ENDIF

;合計を表示(20以上で実行)
CALL PRINT_COM_ORDER_COM, LOCALS, ARG, LOCAL, 20

RETURN RESULT
