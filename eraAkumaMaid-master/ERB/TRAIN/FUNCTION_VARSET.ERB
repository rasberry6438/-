;-------------------------------------------------
;その名の街道、VARSETする関数を突っ込むファイル
;ドッペル你を用いる時は慎重に
;-------------------------------------------------

;-------------------------------------------------
;@IS_ABLUPの計算でドッペル你のパラメーターを必要値の判定に用いる
;-------------------------------------------------
@VARSET_ABLUP
;JUELの20番までを初期化
VARSET JUEL:0:0, 0, 0, 20

;-------------------------------------------------
;@COMFでのソースの計算でドッペル你のパラメーターを必要値の判定に用いる
;-------------------------------------------------
@VARSET_COMF
;SOURCEの29番までを初期化
VARSET SOURCE:0:0, 0, 0, 30
;DOWNBASEの9番までを初期化
VARSET DOWNBASE:0:0, 0, 0, 10

;-------------------------------------------------
;@SOURCE_NOTCVABMでのCUPの計算でドッペル你のパラメーターを必要値の判定に用いる
;-------------------------------------------------
@VARSET_NOTCVABM
;CUPの29番までを初期化
VARSET CUP:0:0, 0, 0, 30

;-------------------------------------------------
;@PROFILEでのCALL EVENT_PROFILE, "勧誘"内でのCFLAG,BASE,TALENT,ABL,EXP,CSTRの変更にドッペル你のパラメーターを用いる
;-------------------------------------------------
@VARSET_PROFILE
VARSET CFLAG:0:0, -1
VARSET BASE:0:0, -1
VARSET TALENT:0:0, -1
VARSET ABL:0:0, -1
VARSET EXP:0:0, -1
VARSET CSTR:0:0, "-1"

;-------------------------------------------------
;角色ARGを初期化する関数。並び(登録番号)などは保つ
;SHOP_CHARA 内のINPUT,INPUTSはISSKIP() がONなら勝手に値を選ぶようにして有ます
;-------------------------------------------------
@RESET_CHARA, ARG
#DIM MEMO_NO_ARG
#DIM MEMO_ARG
#DIM MEMO_TARGET

MEMO_ARG = ARG
MEMO_NO_ARG = NO:ARG

SKIPDISP 1

CALL DELETE_CHARA, ARG
CALL SHOP_CHARA, MEMO_NO_ARG
CALL CHANGE_CHARA_NO, CHARANUM - 1, MEMO_ARG

SKIPDISP 0


@VARSET_MAIDFACE, ARG
;髪と表情の各パラについて空文字だった場合には默认値を代入する
SIF CSTR:ARG:髪色 == ""
	CSTR:ARG:髪色 = 黒髪
SIF CSTR:ARG:髪長 == ""
	CSTR:ARG:髪長 = %CONDS("髪長", ARG)%
SIF CSTR:ARG:前髪 == ""
	CSTR:ARG:前髪 = 自然刘海
SIF CSTR:ARG:後髪 == ""
	CSTR:ARG:後髪 = 自然
SIF CSTR:ARG:改髪 == ""
	CSTR:ARG:改髪 = 无特殊髪型
SIF CSTR:ARG:呆毛 == ""
	CSTR:ARG:呆毛 = 无呆毛
SIF CSTR:ARG:蝴蝶結 == ""
	CSTR:ARG:蝴蝶結 = 无蝴蝶結
SIF CSTR:ARG:挑染 == ""
	CSTR:ARG:挑染 = 挑染无

SIF CSTR:ARG:瞳色 == ""
	CSTR:ARG:瞳色 = %CONDS("右瞳色", ARG)%
SIF CSTR:ARG:眼形 == ""
	CSTR:ARG:眼形 = %CONDS("右眼形", ARG)%
SIF CSTR:ARG:白眼 == ""
	CSTR:ARG:白眼 = %CONDS("右白眼", ARG)%
SIF CSTR:ARG:眉形 == ""
	CSTR:ARG:眉形 = %CONDS("眉形", ARG)%
SIF CSTR:ARG:嘴形 == ""
	CSTR:ARG:嘴形 = %CONDS("嘴形", ARG)%

SIF CSTR:ARG:種族 == ""
	CSTR:ARG:種族 = 人类
SIF ARG != MASTER
	CFLAG:ARG:颜绘 = 1
