;-------------------------------------------------
;取引画面と、购物の際の台詞を記述します
;-------------------------------------------------
;取引画面での台詞。悪魔以外は大部分が不要です
;-------------------------------------------------
@KOJO_WISH_K64, ARGS
#DIM MEMO_LINECOUNT

MEMO_LINECOUNT = LINECOUNT

SELECTCASE ARGS
CASE "取引開始"
	;自分を相手にＨしてる最中にお願いされた
	IF COND("Ｈ最中の取引")
		;しかも挿入中！
		IF INSERT("挿入相手") == MASTER
			PRINTFORMW 腰の動きを緩やかに変えてグラインドさせながら耳元で囁くように取引を持ち掛けてみた
			PRINTFORML
			PRINTFORMW 「くっ…こんなっ…時ni↘…取引なのっ？」
			PRINTFORMW 「これはっ…何かのっ…駆け引きっ…なのかしらっ」
			PRINTFORMW 「取り合えずっ…言ってっ…みなさいっ」
		ELSE
			PRINTFORMW 「今から取引したいの？」
			PRINTFORMW 「良く分からない領帯ミングで持ち掛けてくるわね…まあ良いわ何が望みなの？」
		ENDIF
	ELSE
		PRINTFORMW 「あら、取引したいのね…それでどんな望みがあるのかしら」
	ENDIF
CASE "愛の告白"
	;告白成功！
	IF TALENT:相思相愛
		PRINTFORMW 「…とうとうこの日が来たのね…」
		PRINTFORMW 「…まあ、散々%CNAME("一人称")%を自分だけのものにしたがって居たから本気で言ってるのは分かっているけど…」
		PRINTFORMW 「…本当に良いの？…%CNAME("一人称")%は童貞狩猎を趣味にしていた女よ…」
		PRINTFORMW 「身体だけの関係なら兎も角、態々こんな女を選ばなくても…%CNAME("二人称")%なら相応しい相手が見つかるでしょうに」
		PRINTFORML

		;各エンディングへ進むためのフラグのみを立てる。各エンディングを見るには更に条件を満たす必要がある
		IF CHARA_NUM("相思相愛") >= 2
			IF MARK:屈服刻印 == 3 && MARK:快楽刻印 == 3
				;ハーレムエンド/"愛欲の楽園"へ進むためのルート。狩られた狩人のフラグが立つ
				PRINTFORMW …
				PRINTFORMW ……
				PRINTFORMW ………
				PRINTFORMW 「…ふぅ…悪魔の世界では一夫多妻も珍しい事では無いし…私も貴方没有の生活なんて考えられない…」
				PRINTFORMW 「…この際、貴方の性癖には目を瞑って…私は貴方だけのものになると約束しましょう」
				PRINTFORMW 「…本当に困った子…私をこんな風に変えてしまうなんて…」
				PRINTFORML
				PRINTFORMW 諦めた様に語る師匠の表情はどこか欲情に塗れている様に見えた
				PRINTFORMW これまで狩る側であった彼女が狩られしまった事を自覚した瞬間でもある
				CALL SET_CEVENT, "恵：狩られた狩人"
				
			ELSE
				;ノーマルエンド/"世は並べて事も没有"へ進むためのルート。唯一何もフラグを立てない
				PRINTFORMW 「…本当に良いのね？…貴方だけのものになるかどうかは約束出来ないわよ？」
				PRINTFORMW 「…貴方だって他の女に手を出しているみたいだし…別の女と宜しくやってる間、私だけ寂しい思いをするなんて御免だわ」
				PRINTFORMW 「…それでも良いのなら…貴方の女になってあげても良いわよ…」
				PRINTFORML
				PRINTFORMW …仕方ない…確かに師匠の言う街道だ…%CNAME("二人称")%はそれでも良いと答えるしか無かった
				PRINTFORML
				PRINTFORMW 「…正直、今迄の関係とどう違うのか分からないのだけど…貴方が納得出来るのなら良しとしましょう」
				PRINTFORML
				PRINTFORMW 厳かに語る師匠の表情はどこか寂しそうだった
			ENDIF
			
		ELSE
			;独占の誓いのフラグが立つ。それぞれの条件を満たすことで結婚エンド・バッドエンドへ分岐する
			PRINTFORMW 「…本当に良いのね？…貴方だけのものになるかどうかは約束出来ないわよ？」
			PRINTFORMW 「…貴方の事だからこの先も他の女に手を出さないとは限らない…私だけ寂しい思いをするなんて御免だわ」
			PRINTFORMW 「…それでも良いのなら…貴方の女になってあげても良いわよ…」
			PRINTFORML
			PRINTFORMW ならば自分が他の女に手を出さない限り自分だけのもので居て欲しい
			PRINTFORML
			PRINTFORMW 「…良いでしょう…悪魔の契約は絶対…貴方が誓いを守り続ける限り…私は貴方だけのものよ」
			PRINTFORML
			PRINTFORMW 厳かに語る師匠の表情はどこか嬉しそうだった
			CALL SET_CEVENT, "恵：独占の誓い"
		ENDIF
		;恵は最初から淫乱を持っているので陥落人数にカウントされないため告白の領帯ミングでカウントする
		FLAG:この周での陥落人数 += 1
	;失敗
	ELSE
		PRINTFORMW 「ふふふ…可愛的子…でも、焦ってはダメよ」
		PRINTFORMW 「今は…気持ちだけ受け取っておくわね」
	ENDIF

;胖次のお願いした時に相手が没穿内褲だった
CASE "没穿内褲"
	PRINTFORMW 「ごめんなさいね、今は穿いていないのよ」
	PRINTFORMW %CALLNAME:TARGET%は悪びれもせずにあっけらかんと答えた

CASE "胖次交易"
	RETURN 0

CASE "胖次"
	;初回
	IF DEVENT(ARGS) == 0
		PRINTFORMW 「……流石の私も胖次欲しさに魂を差し出してくるなんて予想も出来なかったわ」
		PRINTFORMW 「でもまあ、それが望みだというのなら応えてあげましょう」
		PRINTL
		PRINTFORMW やや呆れ気味の%CALLNAME:TARGET%だったが、妙に色気のある仕草で胖次を脱掉と手渡ししてきた。
	;２回目以降(魂は貰わない)
	ELSE
		;胖次を脱いで渡してくる汎用地の文
		CALL DAILY_MESSAGE, "脱下胖次交了出去"
		IF  COND("易出汗")
			PRINTFORMW 「ちょっと汗で湿的てしまっているけど…その顔、逆に嬉しそうね…ちょっと理解出来ない性癖だわ」
		ELSE
			PRINTFORMW 「こういうのってまだ女性経験のない思春期特有の好奇心とか」
			PRINTFORMW 「女性に縁の無い人の一種の代償行為だと思っていたのだけど…もしかしてこれもフェチというものなのかしら」
		ENDIF
	ENDIF

CASE "胖次拒否"
	RETURN 0

;TFLAG:値上げ交渉 に数字を入れておくと、断られた際もその値上乗せで服を脱掉展開に出来る
;TFLAG:取引拒否 = 1 とすると本来取引できるかに関わらず、取引しなくなる
CASE "全裸交易"
	RETURN 0

CASE "全裸"
	;取引初成功
	IF COND("合意：全裸化") == 0
		PRINTFORMW 「…この場で全裸に？…床の上では駄目なの？」
		PRINTFORMW 「…良く分からないけど…それが望みだと言うのなら…まあ良いでしょう」
	ELSE
		PRINTFORMW 「诶嘿嘿…そんなに%CNAME("一人称")%の裸体が見たいのね」
	ENDIF
	;汎用地の文
	CALL EVENT_DATUI, "裸体"

CASE "全裸拒否"
	;二人きりなら脱いでくれるけど状況が悪い
	IF COND("合意：全裸化") && (CHARA_NUM("室内の邪魔者") || PLACE("個室") == 0)
		PRINTFORMW 「今ここで？…流石に人前では嫌よ…諦めなさい」
	ELSE
		PRINTFORMW 「…いくら%CNAME("二人称")%の願いでも聞いてあげられない事もあるわ」
	ENDIF

;TFLAG:取引拒否 = 1 とすると本来取引できるかに関わらず、取引しなくなる
CASE "事后避孕药取引"

CASE "事后避孕药"
	;代金をまけてくれた場合
	IF TFLAG:値切った
		;所持金が足りなかった場合です
		;現状、ここに来るのは恋慕无の時のみ
	;拝み倒したら代金を払わなくても許してくれた場合
	ELSEIF TFLAG:取引価格 == 0
		;現状、ここに来るのは恋慕有の時のみ
	ELSE
		;普通にお金を払った場合
		;口上无でも自然な感じです
		;ですが恋慕のときなどは、なにか一言あってもいいかもですね
	ENDIF

CASE "事后避孕药拒否"
	;これはCASE "事后避孕药取引"内でTFLAG:取引拒否 = 1 となる分岐を作った場合のみ
	IF TFLAG:取引拒否

	;拝み倒して失敗した場合
	ELSEIF TFLAG:取引価格 == 0
		;轻轻地地の文が表示されます。口上有无どちらでも大丈夫そうです。
	;其他、你が薬代を不支付場合
	ELSE
		;恋慕状態で、それなりに妊娠の恐惧がある場合
		IF ( COND("受精確認") || COND("胎内の精液量") ) && TALENT:恋慕
			;お金がないか、不支付を選んだ場合です。
			;それなら避妊できなくて妊娠しちゃっても仕方ないね…(爱心)って感じのやつです。
			;地の文が表示されるので何も書かないほうが良いかもしれません。
		;不支付、を選んだ場合
		ELSEIF MONEY >= TFLAG:取引価格
			;口上无でも自然な感じです
		;お金が足りなかった場合
		ELSE
			;不支付を選んだ場合も、お金が足りないときはここへ来ます。
		ENDIF
	ENDIF
CASE "同居拒否"
	PRINTFORMW 「同居ねぇ…魅力的なお誘いだとは思うのだけど…まだそこまでは踏み切れないわ」
	PRINTFORMW 「そのうち気が変わるかもしれないからまた誘ってちょうだい」

CASE "同居希望"
	PRINTFORMW 「そう言ってくれるのを待っていたわよ」
	PRINTFORMW 「これで夜も一緒に過ごせるわね…また楽しみが増えたわ」
	PRINTFORMW 「女仆桑が居るから苦手な家事の負担も多少は減りそうだしね」

CASE "同居頻度的相談"

CASE "便当拒否"

CASE "做便当"
	;便当のお願い２回目以降
	IF COND("合意：便当")
		PRINTFORMW 「お昼を一緒に？…勿論良いわよ」
		PRINTFORMW 「亲手自制の便当を持って行ってあげられなくてごめんなさいね」
	;以下は初めて作ってもらうよう变成了とき
	ELSE
		PRINTFORMW 「便当？…ごめんなさい」
		PRINTFORMW 「%CNAME("一人称")%は家事が苦手だからそういうのは無理よ」
		PRINTFORMW 「でもお昼を一緒に過ごす事は出来るわね…便利店の便当でよかったら一緒に買ってきて给わよ」
	ENDIF

;COND("口服避孕薬派")かどうかで初回が"口服避孕薬を飲んで欲しい"or"口服避孕薬を止めて欲しい"に分かれます
CASE "口服避孕薬"
	;角色が口服避孕薬派なら、こっちだけ書いてください
	IF COND("口服避孕薬派")
		;口服避孕薬を服用してもらう
		IF CFLAG:口服避孕薬

		;口服避孕薬の服用を止めてもらう
		ELSE
			;初回
			IF DEVENT(ARGS) == 0

			ELSE

			ENDIF
		ENDIF
	;角色が口服避孕薬派でないなら、こっちだけ書いてください
	ELSE
		;口服避孕薬を服用してもらう
		IF CFLAG:口服避孕薬
			;初回
			IF DEVENT(ARGS) == 0

			ELSE

			ENDIF
		;口服避孕薬の服用を止めてもらう
		ELSE

		ENDIF
	ENDIF
;COND("口服避孕薬派")の人に口服避孕薬服用を止めてもらうお願いをしたけど聞き入れてもらえなかった場合
CASE "口服避孕薬中断拒否"

;COND("讨厌口服避孕薬")の人に口服避孕薬服用のお願いをしたけど聞き入れてもらえなかった場合
CASE "口服避孕薬服用拒否"

CASE "淫紋拒否"

;"淫紋贴纸直前"or"淫紋贴纸"の片方を書けば十分だと思います
CASE "淫紋贴纸直前"
	;初回
	IF DEVENT(ARGS) == 0
	ENDIF

CASE "淫紋贴纸"
	;台詞を書いたら下のRETURN 0を消してください
	RETURN 0
	;初回
	IF DEVENT(ARGS) == 0

	ELSE

	ENDIF
;"淫紋直前"or"淫紋"の片方を書けば十分だと思います
CASE "淫紋直前"
	SELECTCASE MARK:淫紋
	CASE 2

	CASE 3

	CASE 4

	ENDSELECT
CASE "淫紋"
	;台詞を書いたら下のRETURN 0を消してください
	RETURN 0
	SELECTCASE MARK:淫紋
	CASE 2

	CASE 3

	CASE 4

	ENDSELECT

CASE "拜托処理性欲"
	;初回
	IF DEVENT(ARGS) == 0
		PRINTFORMW 「あら？…部活に参加したからもう必要ないのかと思っていたけど、以前と同じ様に性処理を再開して欲しいの？」
		PRINTFORMW 「…前から思っていたけど、%CNAME("二人称")%の性欲って底没有よねぇ…」
		PRINTFORMW 「まあ良いわ。%CNAME("二人称")%がそれを望むのならいつでも受けて立つわよ」
		PRINTFORMW 「幾ら吸精しても翌日には回復する事が分かったし、遠慮なく搾り取らせてもらうわ」
	ELSE
		PRINTFORMW 「また再開して欲しいのね？勿論OKよ」
	ENDIF

CASE "性処理の一時中断"
	PRINTFORMW 「%CNAME("二人称")%がそんな事を言い出すなんてちょっと意外だわ」
	PRINTFORMW 「…分かったわ。部での活動もある事だし無理に続ける必要も無いという事ね」

CASE "性処理拒否"

;悪魔、淫魔、妖狐専用
CASE "给我看尾巴"

CASE "给我看尾巴拒否"

;改变髪型のは、長さが披肩以上の人のみ。未設定だと披肩扱いです
;髪型を弄る際に手伝ってくれる人がASSIになっています。お手伝い桑を指名したい場合にはその人をASSIにして下さい
CASE "改变髪型"

CASE "髪型変更の感想"
	;どの髪型变成了かで分岐可能
	SELECTCASE CONDS("髪型の種類")
	CASE CONDS("普段の髪型")
		PRINTFORMW 
	CASE "齐刘海"
		PRINTFORMW 
	CASE "直髪"
		PRINTFORMW 
	CASE "卷髪"
		PRINTFORMW 
	CASE "外八"
		PRINTFORMW 
	CASE "双马尾"
		PRINTFORMW 
	CASE "马尾辫"
		PRINTFORMW 
	CASE "三股辫"
		PRINTFORMW 
	CASE "编起来"
		PRINTFORMW 
	CASE "団子頭"
		PRINTFORMW 
	;其他
	CASEELSE
		PRINTFORMW 
	ENDSELECT
CASE "改变髪型拒否"

;これは普段から连褲襪を履く人じゃないとあんまり見る機会ないと思う
CASE "连褲襪着替え"
	;台詞を書いたら下のRETURN 1を消してください
	RETURN 1
	;どれに履き替えてもらったか
	IF CHECK_BOTTOM("開放型连褲襪")
		PRINTFORMW 
	ELSEIF CHECK_BOTTOM("渔网连褲襪")
		PRINTFORMW 
	ELSEIF CHECK_BOTTOM("连褲襪")
		PRINTFORMW 
	;生足
	ELSE
		PRINTFORMW 
	ENDIF
CASE "连褲襪着替え拒否"

CASE "巨根化して"
	;これは"大きくなる前"のサイズなのに注意
	SELECTCASE CONDS("基本阴茎尺寸")
	CASE "短小"

	CASE "普通"

	CASE "巨根"

	CASE "馬根"

	;腕並以上
	CASEELSE

	ENDSELECT

CASE "巨根化して拒否"

CASE "短小化して"
	;これは"小さくなる前"のサイズなのに注意
	SELECTCASE CONDS("基本阴茎尺寸")
	CASE "普通"

	CASE "巨根"

	CASE "馬根"

	;腕並、規格外
	CASEELSE

	ENDSELECT

CASE "短小化して拒否"

;恋慕のみ　避妊の護符を取下
CASE "避妊解除可"

CASE "避妊解除拒否"

;一度解除した避妊の護符の再装着をお願いした場合
CASE "避妊の護符"

;以下は悪魔専用
CASE "魂が足りない"

CASE "想要钱"

CASE "甜言蜜语"

CASE "謎之魅力"

CASE "業物"

CASE "射精量強化"
	;自分を相手にＨしてる最中にお願いされた
	IF COND("Ｈ最中の取引")
		;しかもＶ挿入中！
		IF INSERT("Ｖ挿入相手") == MASTER

		ELSE

		ENDIF
	ELSE

	ENDIF
CASE "巨根化"
	;これは"大きくなる前"のサイズなのに注意
	SELECTCASE CONDS("基本阴茎尺寸", PLAYER)
	CASE "短小"

	CASE "普通"

	CASE "巨根"

	CASE "馬根"

	;腕並以上
	CASEELSE

	ENDSELECT
CASE "短小化"
	;これは"小さくなる前"のサイズなのに注意
	SELECTCASE CONDS("基本阴茎尺寸", PLAYER)
	CASE "普通"

	CASE "巨根"

	CASE "馬根"

	;腕並、規格外
	CASEELSE

	ENDSELECT
ENDSELECT

;以下は汎用台詞(すでに喋っている場合には下には行かない)
SIF LINECOUNT > MEMO_LINECOUNT
	RETURN 1

;汎用拒否
IF STRCOUNT(ARGS, "拒否")
	PRINTFORMW 「うーん…それはちょっと聞いてあげられないわね」
;汎用取引（特に記述することがないならスキップ）
ELSEIF STRCOUNT(ARGS, "取引")

;汎用ＯＫ
ELSEIF BASE:MASTER:魂 <= 100
	PRINTL
	PRINTFORMW 「…魂が不足しているみたいよ」
ELSE
	PRINTL
	PRINTFORMW 「良いでしょう…その望み叶えて给わ」
ENDIF

;-------------------------------------------------
;购物での台詞
;-------------------------------------------------
@KOJO_SHOP_K64, ARGS

SELECTCASE ARGS
CASE "一緒に出発"
	;初回
	IF SEVENT(ARGS) == 0

	;着替えてもらう
	ELSEIF CHECK_CLO("裸体") || CHECK_CLO("泳装姿") || CHECK_CLO("体操服姿") || CHECK_CLO("内衣姿")

	ELSE

	ENDIF
CASE "目送"

CASE "没収胖次出発"
	;初回
	IF SEVENT(ARGS) == 0

	;既に没穿内褲
	ELSEIF EQUIP:胖次 == 0

	ELSE

	ENDIF
CASE "保持现在的装扮出発"
	IF CHECK_CLO("泳装姿")

	ELSEIF CHECK_CLO("体操服姿")

	ELSEIF CHECK_CLO("内衣姿") || CHECK_CLO("裸体")

	ENDIF
CASE "会計交代"
	;初回
	IF SEVENT(ARGS) == 0 || SEVENT("商品購入") == 0

	ELSE

	ENDIF
;ここはwaitを使わないようにしてください(PRINTFORMW の代わりに PRINTFORML を使う)
CASE "询问有什么想要的东西"
	;PRINTFORML 
CASE "商品購入"
	;今買った物
	SELECTCASE STR:購入道具
	;ギリギリ通常商品の範疇or你用
	CASE "撮影機材", "潤滑液", "媚薬", "飞机杯"

	CASE "避孕套"
		;この商品を初めて買わされた
		IF SEVENT(STR:購入道具) == 0

		ELSE

		ENDIF
	;えっちな商品
	CASEELSE

	ENDSELECT
CASE "店内待機"
	;とりあえず何か一個買った時or33％で喋る
	SIF COND("買上品数") != 1 && RAND:3
		RETURN 0
	;胖次没収中
	IF COND("買い物胖次没収中")

	ELSE

	ENDIF
CASE "购物終了"
	;胖次没収中
	IF COND("買い物胖次没収中")

	;なにも買わなかった
	ELSEIF COND("買上品数") == 0

	ELSEIF CHECK_CLO("泳装姿") || CHECK_CLO("体操服姿")
	
	ENDIF
ENDSELECT

