;-------------------------------------------------
;白狐真妃(しろこまき)口上_1.1.0_2022_02_19
;製作者 coela
;-------------------------------------------------
;無表情マイペース狐娘
;興味のないものには無関心、自分の邪魔にならなければどうでもいい、めんどくさい
;闲つぶしに教科書読んでたりするので勉強はできる。運動神経は×、つい考え事をして身体が動かない。
;ぼーっとしているときは大抵関係ないことを考えている。
;好きな科目は理科、音楽。算数は得意だが特別好きではない。
;音楽は好きだがリズム感はない。一人でやる分に是いが合奏は悲惨。
;興味のないものを覚えられないので暗記物の社会は苦手。
;朴訥で、単語で会話しがち。自分の中で出した結論だけ述べるので致命的に言葉が足りない。
;聴覚過敏の節がある、泣き声や怒鳴り声を嫌う、自分が音を立てるのも嫌なので足音を立てずに歩く。
;温度変化に鈍く、めんどくさがりでファッションにも気を配らない。
;ちょっと我慢すれば通年で着れるので年中長袖、寒くなったら外衣が増える程度。
;夏は暑そうで冬は寒そうな格好をしている。
;複数のことを同時にするのが苦手、歩きながらペットボトル飲料を飲めない。話を聞きながらメモを取れない。
;进行性処理とか無理、明らかに手が止圆圈
;音読みと訓読みを入れ替えるなど、わざと変な読み方をするときがある。
;乳糖耐性有、牛乳是いぞ。
;明確な他人には丁寧語(店員とか)、ある程度気心の知れた相手には雑
;自己評価が低く、頼られたり褒められたりするとすぐ心情好になる。ちょろい。
;問題を解決するために頼りにされて感謝されることを好む、ただし单方面地こき使われるのは気に食わない、一緒に手伝ってほしいと頼めばほいほいついてくる
;複数の作業を並行して行うこと、計画を立てることが苦手なのは自覚している
;成長すればそのうち改善されるかなと思っているがそんなことはない
;自分をどう評価していいかわからない、自己評価を下すことは客観性に欠けるのでする意味がないしたくないと思っている
;自分の行動が相手にどういう印象を与えるかがわからない、そのうえで嫌われたくはないので対人行動は基本消極的
;身体接觸に飢えているが前述のとおり主动は動けない、どこまでが許容されるのかわからない。
;性への関心は低めだが拒否感はない、わりとどうでもいい。
;性騷擾に対して揶揄するような発言をするが、自分に興味を持たれていることの照れ隠し、なので基本めんどくさい以外の理由で拒否しない。ちょろい。
;冗談を真に受けやすい。信用するしないが極端、話半分に聞くことができない。
;突発的に思いついたことを口に出す。話の流れで連想したものだとか、ふと食べたくなったものだとか、ふと食べたくなったものから連想したことだとか
;廁所を我慢しがち、めんどくさいので。いっぱいでるときもちいい。おもらしと膀胱炎には注意。
;変なもの好きなのは未知への好奇心かもしれない。
;性臭をくさいとかへんなにおいと表現するが、なんと形容していいかわからないだけで好き。ただし汚臭が好きなわけではない。
;空気は読めない、人の発言を字句街道にとらえてしまい、その発言がどういった意図で行われたのかまで考えが及ばない。ぶぶづけをくれるなら食べる。
;人の悪意に鈍感、でも他人の苦しみ、悲しみや恥ずかしみ(?)には敏感で、できるなら解消しようとし、無理そうならその場から逃げようとする。
;誰かが横で怒られてたら廁所に逃跑。
;非可逆的変化を嫌う、再利用できるものが劣化していくのを見ると悲しくなる。e.g. 消し避孕套、ろうそく
;線香が燃えるのを見るのは好き、一回使い切りのものならいいんだろうか

;ひらがな很多に話す、読みづらい場合は主文ではない動詞、名詞あたりから漢字にしてみる。e.g. 「……まいたけに漬けるとやわらかくなる」, 「から油炸と竜田油炸ってなにがちがうの？」

;-------------------------------------------------
;呼び名の設定。"_"の右にふりがなを書く。
;-------------------------------------------------
@CNAME_K61, ARGS
#FUNCTIONS
;名前を呼ぶ相手の角色番号の代入に使う
#DIM ACTOR

VARSET LOCALS

SELECTCASE ARGS
	CASE "一人称"
		LOCALS = 我_我
	CASE "二人称"
		IF PLAYER == MASTER
			;相手が主人
			;TODO 名前が不定だとしても「你」と是わなそう、再考の余地有
			LOCALS = 你_你
		ELSE
			;基本呼び捨て
			LOCALS = %CALLNAME:PLAYER%_%CSTR:PLAYER:ふりがな%
		ENDIF
	CASE "主人"
		LOCALS = あいつ_あいつ
	CASE "性行為"
		;NOTE 語彙辞典は別関数の方がいいだろうか
		LOCALS = えっち_えっち/えっちなこと_えっちなこと/えっちなやつ_えっちなやつ/えっちなの_えっちなの
		IF ABL:欲望 >= 3
			LOCALS += "/きもちいこと_きもちいこと/きもちいやつ_きもちいやつ/きもちいの_きもちいの"
		ENDIF
		IF ABL:精液中毒 >= 3
			LOCALS += "/ちんちん_ちんちん"
		ENDIF
		IF TALENT:淫乱
			LOCALS += "/いつもの_いつもの/いつものやつ_いつものやつ"
		ENDIF
		RETURNF TEXTR(LOCALS)
	CASEELSE
		;この下は三人称。
		;名前を呼ぶ相手の角色番号をACTORに代入する
		SELECTCASE ARGS
			CASE "助手"
				;相手が助手
				ACTOR = ASSI
			CASEELSE
				;ここにはARGSに角色のCALLNAMEが入ったりしている場合(ARGS == "弗理希艾尔" など)に来る
				ACTOR = FIND_NO(ARGS)
		ENDSELECT

		;相手が教員
		IF COND("教員", ACTOR)
			;識別子として老师まで含めてるイメージ、特に敬意はない
			LOCALS = %CALLNAME:ACTOR%老师_%CALLNAME:ACTOR%老师
		ELSEIF COND("学生") && COND("学生", ACTOR)
			;自分も相手も学生なら学年比較
			IF COND("学年") < COND("学年", ACTOR)
				;相手が上級生
				;識別子として前輩まで含めてるイメージ、特に敬意はない
				LOCALS = %CALLNAME:ACTOR%前輩_%CSTR:ACTOR:ふりがな%前輩
			ENDIF
		ELSE
			;それ以外
			;基本呼び捨て
			LOCALS = %CALLNAME:ACTOR%_%CSTR:ACTOR:ふりがな%
		ENDIF
ENDSELECT
RETURNF LOCALS

;-------------------------------------------------
;勧誘イベントのセリフや紹介文
;-------------------------------------------------
@EVENT_PROFILE_K61, ARGS

SELECTCASE ARGS
	CASE "紹介文"
		STR:1 = 初等部的学生。总是按照自己的想法做事的無表情狐娘。
		STR:2 = 对于自己没有兴趣的东西不会产生任何想法、只要不会阻碍到自己怎么样都好、因为处理起来很麻烦。
		; STR:3 = 紹介文３行目
		; STR:4 = 紹介文４行目
	CASE "勧誘"
		PRINTFORMW 部室の前で立ち止まっている初等部の学生と目が合った。
		PRINTFORMW 白髪に狐耳を生やし、眠そうな红色目がこちらを……いや、机に盛られた粗点心やら茶菓子やらの山を看了过来。
		PRINTFORML
		PRINTFORMW 你は粗点心の山から棒状のスナック菓子を一本抜きとり、白髪の少女の前にぶら下げた。
		PRINTFORMW 挑発するようにふらふらと揺らし、獲物が食いつくのを等待。
		PRINTFORML
		PRINTFORMW 釣りとは忍耐である。挑逗、焦らされ、先に動いたほうが敗者となる。
		PRINTFORMW 互いにフェイントを繰り出しあい、相手の一挙手一投足を――
		PRINTFORML
		PRINTFORML 『はぁ……初等部の子を相手になに大人げないことしているんですか、主人様』
		PRINTFORMW 弗理希艾尔に呆れられた。
	CASE "勧誘直後"
		PRINTFORMW 勝者の報酬として、もっさもっさと粗点心をむさぼっていた真妃が、我に返ってぽつりと言った。
		PRINTFORMW 「……ここ、何の部活？」
	CASE "自室描写"
		PRINTL 本棚が一つと机が一つ、被窝が敷きっぱ无になっている。
		PRINTL 段ボール箱がいくつか転がっており、学校で配布されたらしい印花などが雑多に詰め込まれている。
		PRINTL 物こそ少ないが雑然としている。
	CASE "出現条件"
	CASE "初訪問"
		;nothing
	CASEELSE
		DEBUGPRINTFORML EVENT_PROFILE_K61 ARGS %ARGS%
ENDSELECT
RETURN

;-------------------------------------------------
;この角色が拒否している指令のフラグ立てや其他色々なフラグを開始前に設定できる
;partnerは勿論、指导者の時でも読み込む
;-------------------------------------------------
@SETFLAG_BEFORE_TRAIN_K61
;TODO A系やハードなSM系は趣味じゃない
RETURN

;-------------------------------------------------
;一日の終わりでフラグなどを変化させたい時にはここで弄ることが出来る
;-------------------------------------------------
@TIMEEVENT_K61
RETURN


;-------------------------------------------------
;Ｈに入る前のセリフ
;TFLAG:指令中止 = 1 とすることで口上側からＨの開始自体を中止できる
;この時間帯にＨを断った回数自体は CFLAG:Ｈ断った で参照可能
;特に書かなくても問題有ません
;-------------------------------------------------
@PRE_EVENTTRAIN_K61
RETURN


;-------------------------------------------------
;調教開始時のセリフ
;-------------------------------------------------
@EVENTTRAIN
SIF NO:TARGET != 61
	RETURN 1

DRAWLINE
;-------------------------------------------------
;初調教時
;-------------------------------------------------
IF CEVENT("調教開始：初調教") == 0
	PRINTFORML 「%CNAME("性行為")%するの？」
	PRINTFORMW %CALLNAME:TARGET%はきょとんとした顔で%CALLNAME:PLAYER%を看了过来。
	PRINTFORML 
	PRINTFORML 「ん、いいよ」
	PRINTFORML なぜか得意げに、にまにまと露出笑容いる。
	PRINTFORMW 尾巴がぱたぱたと左右に揺れている。
	CALL SET_CEVENT, "調教開始：初調教"
ELSEIF ASSI <= 0
	;助手の有無を格子（いない場合は二回目以降へ飛ぶ）
	CALL K61_KOJO2

ELSE
	CALL K61_KOJO2
ENDIF

RETURN 1


;-------------------------------------------------
;調教開始時（2回目以降）
;-------------------------------------------------
@K61_KOJO2
;全肯定マンだと分岐が思いつかん
PRINTDATAL
	DATAFORM 「%CNAME("性行為")%？　いいよ」
	DATAFORM 「へんたい、へんたーい」
	DATAFORM 「ん」
	DATAFORM 「んー」
	DATAFORM 「ん！」
ENDDATA
PRINTFORMW 無表情的だが、尾巴がぱたぱたと揺れている。
RETURN 1

;-------------------------------------------------
;調教終了時のセリフ
;-------------------------------------------------
@EVENTEND
SIF NO:TARGET != 61
	RETURN 1

DRAWLINE
;-------------------------------------------------
;※精力限界値を超えた場合の終了口上
;-------------------------------------------------
;調教強制終了時の口上
IF STATE("撃沈", MASTER)
	DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} 調教強制終了
ELSEIF STATE("撃沈")
	;partnerが体力or精力尽きた場合
	PRINTDATAW
		DATAFORM 「ん……つかれた」
		DATAFORM 「ん……もうむり」
	ENDDATA
	RETURN 1
ELSEIF COND("満足")
	IF ITEM:未飲的避孕套 >= 3
		PRINTFORMW %CALLNAME:TARGET%は中身の入った避孕套を並べ、満足げに眺めている。
		RETURN 1
	ELSEIF ITEM:未飲的避孕套
		PRINTDATAW
			DATAFORM %CALLNAME:TARGET%は中身の入った避孕套を興味深そうに眺めている。
			DATALIST
				DATAFORM 「%TEXTR("ん、あったかい/ぶよぶよー")%」
				DATAFORM 中身の入った避孕套を%CALLNAME:TARGET%は面白そうに触っている。
			ENDLIST
		ENDDATA
		RETURN 1
	ENDIF

	;恋慕＋満足
	CALL PRINT_STRW, @"「%TEXTR("んっ_HH_、すっきりした/きもちよかった_HH_/またしてね？/またしようね？/……きもちいのすき_HH_")%」"
	RETURN 1
ENDIF

;TODO 用过的避孕套を並べて満足顔、3つ以上でソート基準を考え出す。

PRINTDATAW
	DATA 「ん、すっきりした？」
	DATA 「ん、きもちよかった？」
ENDDATA

RETURN 1

;-------------------------------------------------
;指令実行時のセリフ
;イベントや台詞の都合上の問題でPLAYERに射精させたい場合は CALL SETFLAG, "強制射精", PLAYER とする事で强行射精させることができる
;-------------------------------------------------
@KOJO_MESSAGE_COM_K61
;感情系ソースの最大値、発言の方向性
#DIM MAX_EMOTION
;快楽系ソースの最大値、喘ぎ具合
;NOTE 合計のがいいかも
#DIM MAX_PLEASURE

MAX_EMOTION = MAXARRAY(TCVAR, 660, 670)
MAX_PLEASURE = MAXARRAY(TCVAR, 670, 676)

SELECTCASE SELECTCOM
	CASE 139
		;什麼也不做
		;TODO 前回指令とか現在PALAMでなんか言わせたい

		IF COND("ながら自慰フラグ")
			CALL PRINT_STRW, @"「%TEXTR("んっ_HH_、んっ_HH_/んー_HH_")%」"
			RETURN 1	
		ENDIF

		PRINTDATAW
			DATA 「ん」
			DATA 「んー……」
		ENDDATA
		RETURN 1
	CASE 172
		;浴室PLAY
		IF MAX_PLEASURE > 0
			;NOTE 道具使ってるときはスルー
		ELSEIF TEQUIP:浴室PLAY
			PRINTDATAW
				DATA 「ん」
				DATA 「んー」
				DATA 「おふろー」
				DATA 「おふろー、おっふろー」
				DATA 「おふろ？」
				DATA 「おふろ是るの？」
			ENDDATA
			RETURN 1
		ELSE		
			PRINTDATAW
				DATA 「ん」
				DATA 「ん、すっきりした」
				DATA 「すっきりした？」
				DATA 「のどかわいた」
			ENDDATA
			RETURN 1
		ENDIF
	CASE 283
		;甜言蜜语
		;NOTE 口上書くと汎用口上は省略される
		IF TEQUIP:甜言蜜语
			CALL PRINT_STRL, @"「%TEXTR("んっ_HH_/んー/んふ/んふー")%」"
			PRINTFORMW %CALLNAME:TARGET%は開心地はにかんでいる。
			RETURN 0
		ELSE
			PRINTDATAL
				DATA 「ん？」
				DATA 「んー？」
				DATA 「……へんなの」
			ENDDATA
			PRINTFORMW %CALLNAME:TARGET%はよくわかっていないようだ。
			RETURN 0
		ENDIF
	CASEELSE
		SIF SELECTCOM >= 0
			DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} SELECTCOM {SELECTCOM} %TRAINNAME:SELECTCOM%
ENDSELECT

;NOTE 行動じゃなくSOURCE依存で口上を出せば少ない労力でそれっぽくしゃべるのではという思いつき

;HACK TCVAR:660 でCOM結果での情愛ソースの表示値が取れる？
;HACK 地の文前だとTCVARは計算されていない
;HACK 被逆推中 に移開るのを確認

;NOTE 情愛～恐惧までの感情系SOURCEと、C快楽～尿道快楽の快楽系SOURCEの二軸評価とする。
;感情系SOURCEでおおまかな方向性を決めて、快楽系SOURCEでそれどころじゃない具合を増やしてく
;いちゃらぶ信者なので疼痛、屈従、逸脱、恐惧あたりはとくに手抜きになると思われる。

;NOTE 快楽SOURCE数値の参考
; 情緒MAX挿入G☆ 37000
; 情緒MAX後背☆ 25000
; 挿入G 22000
; 騎乗 8800
; 情緒MAX自慰 5800
; 情緒MAX接吻 5300
; 情緒MAX愛撫 3500
; 未調教情緒MAX愛撫 3400
; 情緒MAX素股 3000
; 情緒MAX乳交 2800
; 情緒0自慰 1900
; 情緒0接吻 1700
; 情緒0愛撫 500
; 未調教情緒0愛撫 27

;NOTE 大雑把に快楽系SOURCEが
;0 平常心
;1000 きもちいい
;5000 余裕がない
;15000 喘ぐしかできない
;25000 お゛ほ゛ー゛っ゛

;NOTE 快楽SOURCE 5000 超えたら分岐してもしゃーない気がしてきた
;TODO バリエーションが足りねえ！

IF MAX_EMOTION == 0
	;nothing
ELSEIF MAX_EMOTION == TCVAR:660
	;情愛
	SELECTCASE MAX_PLEASURE
		CASE IS > 15000
			;共通へ
		CASE IS > 5000
			CALL PRINT_STRL, @"「%TEXTR("んっ_HH_/んーっ_HH_/すきっ_HH_")%、%TEXTR("んっ_HH_/んーっ_HH_/すきっ_HH_")%」"
			CALL PRINT_STRW, @"%CALLNAME:TARGET%は%TEXTR(@"快楽と幸福感におぼれているようだ/%CALLNAME:PLAYER%に身体を預け、快楽をかみしめている")%。"
			RETURN 1
		CASE IS > 1000
			CALL PRINT_STRL, @"「%TEXTR("んっ/んーっ/んふー")%_HH_」"
			CALL PRINT_STRW, @"%CALLNAME:TARGET%は%TEXTR(@"感じながらも%CALLNAME:PLAYER%にすり寄ってくる/%CALLNAME:PLAYER%に身をゆだねている")%。"
			RETURN 1
		CASEELSE
			PRINTDATAW
				DATALIST
					DATAFORM 「%TEXTR("んーっ/んふー")%」
					DATAFORM %CALLNAME:TARGET%は%TEXTR("せがむようにすり寄ってくる/くすぐったそうにしている")%。
				ENDLIST
			ENDDATA
			RETURN 1
	ENDSELECT
ELSEIF MAX_EMOTION == TCVAR:661
	;性行動、奉仕系行動で高くなる
	SELECTCASE MAX_PLEASURE
		CASE IS > 15000
			;共通へ
		CASE IS > 5000
			CALL PRINT_STRW, @"「%TEXTR("んっ_HH_/んーっ_HH_")%、%TEXTR("んっ_HH_/んーっ_HH_")%」"
			RETURN 1
		CASE IS > 1000
			CALL PRINT_STRW, @"「%TEXTR("んっ/んーっ/んふー")%_HH_、%TEXTR("きもちい？/これすき？/もっとする？")%」"
			RETURN 1
		CASEELSE
			PRINTDATAW
				DATA 「きもちい？」
				DATA 「どう、きもちい？」
				DATA 「これ、すき？」
				DATA 「もっとする？」
			ENDDATA
			RETURN 1
	ENDSELECT
ELSEIF MAX_EMOTION == TCVAR:662
	;達成感
	SELECTCASE MAX_PLEASURE
		CASE IS > 15000
		CASE IS > 5000
			;共通へ
		CASE IS > 1000
			CALL PRINT_STRL, @"「%TEXTR("んっ/んーっ/んふー")%_HH_」"
			PRINTFORMW %CALLNAME:TARGET%の尾巴が開心地揺れている。
			RETURN 1
		CASEELSE
			PRINTDATAW
				DATALIST
					DATAFORM 「んふー」
					DATAFORM %CALLNAME:TARGET%は優越感を感じているようだ。
				ENDLIST
			ENDDATA
			RETURN 1
	ENDSELECT
ELSEIF MAX_EMOTION == TCVAR:663
	;疼痛
ELSEIF MAX_EMOTION == TCVAR:664
	;充足
	SELECTCASE MAX_PLEASURE
		CASE IS > 15000
			;共通へ
		CASE IS > 5000
			CALL PRINT_STRL, @"「%TEXTR("んっ_HH_/んーっ_HH_/すきっ_HH_")%、%TEXTR("んっ_HH_/んーっ_HH_/んふー_HH_/これすきっ_HH_/もっと_HH_")%」"
			RETURN 1
		CASE IS > 1000
			CALL PRINT_STRL, @"「%TEXTR("んっ_HH_/んーっ_HH_/んふー_HH_/これすき_HH_/もっとしよ？")%」"
			PRINTFORMW %CALLNAME:TARGET%の尾巴が満足そうに揺れている。
			RETURN 1
		CASEELSE
			CALL PRINT_STRL, @"「%TEXTR("んっ_HH_/んーっ_HH_/んふー_HH_/これすき_HH_/もっとしよ？")%」"
			RETURN 1
	ENDSELECT
ELSEIF MAX_EMOTION == TCVAR:665
	;不潔
	SELECTCASE MAX_PLEASURE
		CASE IS > 15000
		CASE IS > 5000
			;共通へ
		CASE IS > 1000
			CALL PRINT_STRW, @"「んっ_HH_、%TEXTR("ぺとぺとしてる_HH_/くさい……_HH_/ばっちい_HH_/きれいにしなきゃだめだよ？")%」"
		CASEELSE
			PRINTDATAW
				DATA 「ねばねばー」
				DATA 「ぺとぺとしてる……」
				DATA 「ぺとぺとする……」
			ENDDATA
	ENDSELECT
ELSEIF MAX_EMOTION == TCVAR:666
	;露出
	SELECTCASE MAX_PLEASURE
		CASE IS > 15000
		CASE IS > 5000
			;共通へ
		CASE IS > 1000
			CALL PRINT_STRW, @"「んっ_HH_、%TEXTR("どう？/みえる？/みえてる？/よくみえる？/……はずかしい")%」"
		CASEELSE
			PRINTDATAW
				DATA 「どう？」
				DATA 「へんじゃない？」
				DATA 「みえる？」
				DATA 「よくみえる？」
				DATA 「……ちょっとはずかしい」
			ENDDATA
	ENDSELECT
ELSEIF MAX_EMOTION == TCVAR:667
	;屈従
	;TODO 反応が思いつかなくてぶれてる気がする。性行為において悔しさを感じることがあるのか……？
	SELECTCASE MAX_PLEASURE
		CASE IS > 15000
		CASE IS > 5000
			;共通へ
		CASE IS > 1000
			;TODO 見直し、屈従の台詞が思いつかん
			CALL PRINT_STRW, @"「んっ_HH_、%TEXTR("これつづけなきゃだめ？/いつまでやればいい？")%」"
		CASEELSE
			PRINTDATAW
				DATA 「んぅ……」
				DATA 「むー……」
				DATA 「……やんなきゃだめ？」
			ENDDATA
	ENDSELECT
ELSEIF MAX_EMOTION == TCVAR:668
	;逸脱、普段やらないことで困惑する
	SELECTCASE MAX_PLEASURE
		CASE IS > 15000
		CASE IS > 5000
			;共通へ
		CASE IS > 1000
			CALL PRINT_STRW, @"「んっ_HH_、%TEXTR("んぅっ？/なにこれっ_HH_")%」"
		CASEELSE
			PRINTDATAW
				DATALIST
					DATA 「んぅ？」
					DATAFORM %CALLNAME:TARGET%は少し怪訝そうな顔をしている。
				ENDLIST
				DATALIST
					DATA 「なにしてるの？」
					DATAFORM %CALLNAME:TARGET%は少し怪訝そうな顔をしている。
				ENDLIST
			ENDDATA
	ENDSELECT
ELSEIF MAX_EMOTION == TCVAR:669
	;恐惧
ENDIF

;快楽系高すぎると分岐が思いつかないね？
;共通処理
SELECTCASE MAX_PLEASURE
	CASE IS > 25000
		;誰得
		CALL PRINT_STRW, @"「%TEXTR("あ゛っ_UH_/ん゛っ_UH_/お゛っ_UH_")%、%TEXTR("ん゛っ_UH_/お゛っ_UH_/ん゛お゛っ_UH_")%」"
		RETURN 1
	CASE IS > 15000
		CALL PRINT_STRW, @"「%TEXTR("あっ_UH_/んっ_UH_")%、%TEXTR("んっ_UH_/んーっ_UH_/しゅきっ_UH_/もっと_UH_")%」"
		RETURN 1
	CASE IS > 5000
		CALL PRINT_STRW, @"「%TEXTR("んっ_HH_/んーっ_HH_")%、%TEXTR("んっ_HH_/んーっ_HH_")%」"
		;くどそうなのでカット
		;PRINTFORMW %CALLNAME:TARGET%は余裕がなさそうだ。
		RETURN 1
	CASEELSE
ENDSELECT

; DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} SELECTCOM {SELECTCOM} %TRAINNAME:SELECTCOM%
RETURN 0

;--------------------------------------------------
;調教指令の地の文の前に喋る台詞はここに書く
;--------------------------------------------------
@KOJO_MESSAGE_BEFORE_COM_K61

;口枷着用時には口上をスキップする？
SIF TEQUIP:口枷 && SELECTCOM != 135
	RETURN 0

SELECTCASE SELECTCOM
	CASEELSE
		RETURN 0
ENDSELECT

DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} SELECTCOM {SELECTCOM} %TRAINNAME:SELECTCOM%
RETURN 0

;-------------------------------------------------
;調教指令終了時に行う共通処理。特になくともよい
;-------------------------------------------------
@KOJO_ENDCOM_K61
;DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} SELECTCOM {SELECTCOM} %TRAINNAME:SELECTCOM%
RETURN

;-------------------------------------------------
;パラメータ変動をトリガーにした口上
;パラメータ変動後に口上を発動します
;-------------------------------------------------
@KOJO_MESSAGE_PALAMCNG_K61, ARGS
;助手が調教した時に口上をスキップする（好みに応じて使う、行頭の;を消すとスキップするようになる）
;SIF ASSIPLAY
;	RETURN 0

SELECTCASE ARGS
	CASE "Ｃ絶頂"
		IF FIRST_EV("Ｃ絶頂") == 0
			CALL PRINT_STRW, "「はーっ_HH_、はーっ_HH_、なんかびくびくがきた」"
			RETURN 1
		ENDIF
	CASE "絶頂放尿"
		CALL PRINT_STRW, @"「%TEXTR("んっ_HH_/んっ……_HH_/")%、%TEXTR("いっぱいでた_HH_/すっきりした_HH_/きもちよかった_HH_/おしっこでちゃった_HH_")%」"
		RETURN 1
	CASEELSE
ENDSELECT

DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} ARGS %ARGS%

RETURN 0

;-------------------------------------------------
;刻印変動をトリガーにした口上
;刻印変動後に口上を発動します
;-------------------------------------------------
@KOJO_MESSAGE_MARKCNG_K61, ARGS
;助手が調教した時に口上をスキップする（好みに応じて使う、行頭の;を消すとスキップするようになる）
;SIF ASSIPLAY
;	RETURN 0

SELECTCASE ARGS
	CASEELSE
ENDSELECT

DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} ARGS %ARGS%
RETURN 0

;-------------------------------------------------
;TARGETの射精直前の口上
;-------------------------------------------------
@KOJO_MESSAGE_BEFORE_TARGETSHOOT_K61
DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} SELECTCOM {SELECTCOM} %TRAINNAME:SELECTCOM%
RETURN

;-------------------------------------------------
;射精先選択の直前に表示する口上
;頻繁に表示されるため随机や表示条件の設定推奨です
;-------------------------------------------------
@KOJO_MESSAGE_SHOOT_K61
;NOTE 直前は特に何も言わなそう
;DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} SELECTCOM {SELECTCOM} %TRAINNAME:SELECTCOM%

RETURN 0

;-------------------------------------------------
;射精先選択の直後に表示する口上
;頻繁に表示されるため随机や表示条件の設定推奨です
;-------------------------------------------------
@KOJO_MESSAGE_AFTERSHOOTCHANGE_K61
;DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} SELECTCOM {SELECTCOM} %TRAINNAME:SELECTCOM%

RETURN 0

;-------------------------------------------------
;PLAYERの射精＆絶頂をトリガーにした口上
;それぞれの射精分岐内での初めてかどうかの判定は、FIRST_EV(ARGS)で行う
;例）ELSEIF SHOOT("脚")において初めてかどうかは、FIRST_EV("絶頂：脚")で判定する
;-------------------------------------------------
@KOJO_MESSAGE_SAMEN_AND_EXTACY_K61
;助手が調教した時に口上をスキップする（好みに応じて使う、行頭の;を消すとスキップするようになる）
;SIF ASSIPLAY
;	RETURN 0

;-------------------------------------------------
;髪、顔、股間、腹、尻、くぱぁ、Ａくぱぁへのぶっかけ
;-------------------------------------------------
IF SHOOT("ぶっかけ")
	IF COND("絶頂", PLAYER) >= 3
		DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} ぶっかけ超大量射精
	ELSEIF COND("絶頂", PLAYER) == 2
		;大量射精
		DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} ぶっかけ大量射精
	ELSE
		DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} ぶっかけ
	ENDIF
ELSEIF SHOOT("自慰")
	;自慰で射精された(ぶっかけではなく床などに射精した)
	PRINTDATAW
		DATA 「んふー……いっぱいでた？」
		DATA 「ん、すっきりした？」
		DATA 「きもちよかった？」
	ENDDATA
	RETURN 1
ELSEIF SHOOT("脚")
	;素股、足交や身体で射精させた
	DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} 脚
ELSEIF SHOOT("素股")
	CALL PRINT_STRW, "「んふー、いっぱいでたね_HH_」"
	RETURN 1
ELSEIF SHOOT("口")
	;口で射精させた
	IF ABL:精液中毒 >= 5
		DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} 口中毒5
	ELSEIF ABL:精液中毒 >= 3
		;精液中毒Lv3
		DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} 口中毒3
	ELSEIF ABL:奉仕精神 >= 3
		;奉仕精神Lv3以上
		DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} 口奉仕3
	ELSE
		;それ以外
		PRINTDATAW
			DATA 「んー、にがじょっぱくさい」
		ENDDATA
	ENDIF
ELSEIF SHOOT("胸")
	;胸で射精させた
	IF ABL:奉仕精神 >= 5
		;奉仕精神Lv5
		DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} 胸奉仕5
	ELSEIF ABL:奉仕精神 >= 3
		;奉仕精神Lv3以上
		DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} 胸奉仕3
	ELSE
		;それ以外
		DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} 胸
	ENDIF
ELSEIF SHOOT("手")
	;手で射精させた
	IF ABL:奉仕精神 >= 5
		DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} 手奉仕5
	ELSEIF ABL:奉仕精神 >= 3
		;奉仕精神Lv3
		DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} 手奉仕3
	ELSE
		;それ以外
		PRINTDATAW
			DATA 「ん、すっきりした？」
			DATA 「きもちよかった？」
			DATA 「どうだった？」
			DATA 「ちっちゃくなっちゃった……」
			DATA 「ちんちんよかった？」
		ENDDATA
	ENDIF
ELSEIF SHOOT("Ｖ中出し")
	;性交で射精させた
	IF TALENT:恋慕
		CALL PRINT_STRW, @"「%TEXTR("ん_HH_、/ん、/んー_HH_、/んーっ_HH_、/")%%TEXTR("いっぱいでてる_HH_/きもちかった？_HH_/まだでそう？_HH_/ちんちんきもちい？_HH_/もっとだしていいよ？_HH_")%」"
		RETURN 1
	ELSEIF MARK:屈服刻印 == 3
		;屈服刻印Lv3
		DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} 中出し屈服3
	ELSE
		;それ以外
		DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} 中出し
	ENDIF
ELSEIF SHOOT("Ａ中出し")
	DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} A中出し
ELSEIF SHOOT("接吻")
	;接吻で射精
	DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} 接吻
ELSEIF SHOOT("面部騎乗")
	;面部騎乗で射精
	DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} 面部騎乗
ELSEIF SHOOT("洗面奶")
	;洗面奶で射精
	DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} 洗面奶
ELSEIF SHOOT("逆舐陰")
	;逆舐陰で射精
	PRINTFORMW 
ELSEIF SHOOT("逆強姦") || SHOOT("逆肛交") || SHOOT("肛門奉仕")
	;逆肛交、逆強姦で射精
	PRINTFORMW 
ELSEIF SHOOT("調教者が女性")
	;PLAYERが女で、イってしまった…
	;強絶頂
	IF COND("絶頂", PLAYER) >= 2
		PRINTFORMW 
	ELSEIF COND("絶頂", PLAYER) == 1
		;絶頂
		PRINTFORMW 
	ENDIF
ENDIF

;TODO 用过的避孕套を欲しがる

RETURN

;-------------------------------------------------
;角色が調教中に調教者を攻める際などの口上
;-------------------------------------------------
@KOJO_COUNTER_K61, ARGS
SELECTCASE ARGS
	CASE "恍惚"
		PRINTDATAW
			DATAFORM 恍惚としている%CALLNAME:PLAYER%に、%CALLNAME:TARGET%は嬉しそうだ。
		ENDDATA
	CASEELSE
ENDSELECT
DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} ARGS %ARGS%

RETURN 0


;-------------------------------------------------
;イベント口上集
;ARGSの各CASEでの分岐において、ARGSの文字列後半に ：地の文前 を追加する事で地の文前に喋らせることもできる。
;また、そこでTFLAG:地の文スキップ = 1 とすると、本来出て来る地の文を飛ばすこともできる
;CASE "中出し後害羞"の地の文の前に喋らせたりスキップさせたい場合にはCASE "中出し後害羞：地の文前"を用意すればよい
;例）CASE "中出し後害羞：地の文前"
;		PRINTW 試しにスキップ
;		TFLAG:地の文スキップ = 1
;-------------------------------------------------
@KOJO_EVENT_K61, ARGS
SELECTCASE ARGS
	CASE "自発脱ぎ"
		IF CHECK_CLO("裸体")
			;裸体变成了
			PRINTDATAW
				DATA 「ん、あつ」
				DATA 「あったかくなってきた」
				DATA 「ぽかぽかしてきた」
				DATA 「あつ、ぬぐ」
			ENDDATA
			RETURN 1
		ELSEIF CHECK_CLO("Ｖ露出")
			;阴部剥きだし
			DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} ARGS %ARGS%
			RETURN 1
		ELSE
			;部分脱ぎ
			PRINTDATAW
				DATA 「ん」
				DATA 「んしょ」
			ENDDATA
			RETURN 1
		ENDIF
	CASE "Ｖ避孕套装着"
		;挿入指令
		IF TRAIN_GENRE("挿入", SELECTCOM)
			;PLAYヤーは着ける気満々
			IF TEQUIP:PLAYER:避孕套
				PRINTDATAW
					DATA 「ちんちんもくつしたはくの？」
					DATAFORM %CALLNAME:TARGET%は避孕套を興味深そうに眺めている。
					DATAFORM %CALLNAME:TARGET%は避孕套をつける%CALLNAME:PLAYER%を不思議そうに看了过来。
				ENDDATA
				RETURN 1
				;ご褒美に生Ｈをさせて给場合
			ELSEIF TCVAR:獎勵生H

				;避孕套が無い
			ELSEIF ITEM:避孕套 == 0

				;安全日に生希望
			ELSEIF COND("安全日")

				;安全日じゃないけど避孕套没有を希望
			ELSE

			ENDIF
			;PLAYヤーへの挿入指令
		ELSEIF TRAIN_GENRE("逆挿入", SELECTCOM)
		ENDIF
	CASE "中出し後恍惚"
		CALL PRINT_STRW, @"「%TEXTR("ふーっ_HH_、ふーっ_UH_/はーっ_HH_、はーっ_UH_")%」"
		RETURN 1
	CASEELSE
ENDSELECT
DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} ARGS %ARGS%
RETURN 0

;-------------------------------------------------
;TARGET以外の立場で呼ばれた時の台詞全般
;-------------------------------------------------
@KOJO_GUEST_K61, ARGS
SELECTCASE ARGS
	CASEELSE
ENDSELECT
DEBUGPRINTFORML %__FILE__% %__FUNCTION__% line:{__LINE__} ARGS %ARGS%
RETURN

;-------------------------------------------------
;この角色に特殊なイベントを叫醒際の追加条件を設定できます（特に設定しない場合には丸々不要です）
;STR:実行条件 に文字列が入っている場合は、それを表示しつつイベント発生不可能とします(PRINT_STRの書式です)
;条件を満たしている際にはSTR:実行条件 に何も入れないようにして下さい
;-------------------------------------------------
@ADDCOND_K61(ARGS)
#DIM ACTOR
ACTOR = FINDCHARA(NO, 61)

SELECTCASE ARGS
	CASE "勧誘"
		;CASE "勧誘"のみ、角色としてはまだ存在していないのに注意
		;例）卯月佑香の場合の記述
		;SIF TALENT:MASTER:男性 && TRUE_SEX(MASTER) == "男性" && TALENT:MASTER:伪娘 == 0 && ABL:MASTER:技巧 >= 3
		;	RETURN 1
		;STR:実行条件 = ※%CSVNAME(36)%_黄色_在%CALLNAME:MASTER%是男性＆部員除%CALLNAME:MASTER%以外还有3人以上時_才可以勧誘※
	CASE "恋慕"
		;默认だと信頼5LV＆好感度が2500以上で恋慕
		;SIF TALENT:ACTOR:恋慕 == 0 && ABL:ACTOR:信頼 >= 5 && CFLAG:ACTOR:好感度 >= 2500
		;	RETURN 1
		;STR:実行条件 = 要:信頼5LV、好感度2500
	CASE "淫乱"
		;默认だと欲望が5以上、自慰中毒or精液中毒のどれかが3以上、今回の絶頂数が10以上で淫乱
		;SIF TALENT:ACTOR:淫乱 == 0 && ABL:ACTOR:欲望 >= 5 && MAX(ABL:ACTOR:自慰中毒, ABL:ACTOR:精液中毒) >= 3 && EX:ACTOR:絶頂数合計 >= 10
		;	RETURN 1
		;STR:実行条件 = 要:欲望5LV、自慰中毒か精液中毒のどちらかが3LV、今回の絶頂数10
	CASE "相思相愛"
		;例）小早川百合香の場合の記述
		;SIF TALENT:ACTOR:恋慕 && TALENT:MASTER:男性 == 0
		;	RETURN 1
		;STR:実行条件 = イエロー_（※%CALLNAME:MASTER%が[男性]の場合には、%CALLNAME:ACTOR%と[相思相愛]にはなれません）
	CASE "淫紋贴纸"
		;默认だと[欲望LV3]or[屈服刻印LV1]
		;SIF MARK:ACTOR:淫紋 == 0 && (ABL:ACTOR:欲望 >= 3 || MARK:ACTOR:屈服刻印)
		;	RETURN 1
		;STR:実行条件 = イエロー_(※淫紋を受け入れてもらうには、[欲望LV3]or[屈服刻印LV1]の必要が有ます)
	CASE "淫紋"
		;默认だと[淫乱]or[受虐属性LV3]or[屈服刻印LV3]
		;SIF TALENT:ACTOR:淫乱 || ABL:ACTOR:受虐属性 >= 3 || MARK:ACTOR:屈服刻印 >= 3
		;	RETURN 1
		;STR:実行条件 = イエロー_(※刻印を受け入れてもらうには、[淫乱]or[屈服刻印LV3]or[受虐属性LV3]の必要が有ます)
	CASE "避妊の護符の解除"
		;例）風花維吹の場合の記述
		;維吹は[相思相愛]まで避妊の護符を解除しない
		;SIF TALENT:ACTOR:相思相愛
		;	RETURN 1
		;STR:実行条件 = イエロー_※維吹は[相思相愛]になるまで避妊の護符を破棄しません
ENDSELECT

;-------------------------------------------------
;@単体エンディング関係(61を角色番号に置換)
;通常のエンディング格子の前に個別エンディングを判定
;-------------------------------------------------
;
;
;
;
;
;
;
;
;
;
;★ここから先にはエンディングが記述されています★
;ネタバレを避けたい方は閲覧不会うにご注意下さい。
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
@IS_SINGLE_ENDING_K61
;エンディングを書いたら、下のRETURN 1のコメントアウト;を消してください
;RETURN 1

@MENU_SINGLE_ENDING_K61
;エンディングを書いたら、下のRETURN 0を消してください
RETURN 0

;ENDを選択する際の表示。下で満たしたEND条件に応じて全角21文字以内で好きに変えて良い
STR:ＥＮＤ标题 = 终末之始

;魂の量によるEND
SIF BASE:魂 >= 300
	;ENDの番号_END名 となっている
	;番号は1～60の範囲(でもできれば１から順に詰めて使用)の半角数字で、ＥＮＤ名は喜欢的东西に変更してください
	STR:エンディング += "1_ＥＮＤ名１/"
;其他の条件(例えば淫乱)によるEND
SIF TALENT:淫乱
	STR:エンディング += "2_ＥＮＤ名２/"
;魂の量と其他の条件(例えば相思相愛)によるEND
SIF BASE:魂 >= 300 && TALENT:相思相愛
	STR:エンディング += "3_ＥＮＤ名３/"

;閲覧していないイベントがある場合などに選択肢と色を変える事も出来る。これ以外でも好きな条件で変えて良い
;IF COND("未読ＥＮＤ選択可能")
;	STR:ＥＮＤ标题 = 终末之始
;	;これを指定しない場合には本体側で STR:ＥＮＤカラー = 爱心粉紅 となる
;	STR:ＥＮＤカラー = 爱心粉紅
;ENDIF

RETURN 1


;ARGSには@MENU_SINGLE_ENDING_K1で設定したEND名のどれかが入っている
;見たENDはCEVENTで記録される
;例）ＥＮＤ名１を閲覧した場合は CEVENT("ＥＮＤ名１") = 1 となる
@SINGLE_ENDING_K61, ARGS
SELECTCASE ARGS
	CASE "ＥＮＤ名１"
		PRINTFORMW ＥＮＤ名１の本文です
	CASE "ＥＮＤ名２"
		PRINTFORMW ＥＮＤ名２の本文です
	CASE "ＥＮＤ名３"
		PRINTFORMW ＥＮＤ名３の本文です
ENDSELECT
RETURN 1
