;-------------------------------------------------
;取引画面と、购物の際の台詞を記述します
;-------------------------------------------------
;取引画面での台詞。悪魔以外は大部分が不要です
;-------------------------------------------------
@KOJO_WISH_K62, ARGS
#DIM MEMO_LINECOUNT

MEMO_LINECOUNT = LINECOUNT

SELECTCASE ARGS
CASE "取引開始"
	;自分を相手にＨしてる最中にお願いされた
	IF COND("Ｈ最中の取引")
		;しかも挿入中！
		IF INSERT("挿入相手") == MASTER

		ELSE

		ENDIF
	ELSE
		[IF_DEBUG]
			PRINTFORMW @KOJO_WISH_K62, %ARGS%
		[ENDIF]
	ENDIF
CASE "愛の告白"
	;告白成功！
	IF TALENT:相思相愛
		PRINTFORMW 「ばっ、あっ、……%CNAME("二人称","どもり")%ね……！」
		PRINTFORMW 「一応言っとくけど%CNAME("一人称")%たち血のつながった%CONDS("間柄")%%CONDS("間柄", MASTER)%なのよ？」
		PRINTFORMW %CALLNAME:MASTER%何を今更なことを言っているのだろうか？と訝しんだ。
		PRINTFORMW 「……%CNAME("二人称")%が何を言いたいかは分かるわよ？確かにいろいろヤッちゃった後だし、今更感があるけど……」
		PRINTFORMW やはり駄目だろうか？自分としては真剣に考えてのことなのだが……と、%CALLNAME:MASTER%が肩を落として言う。
		PRINTFORMW 「いや、ダメとかじゃなくて、その、いきなり言われてもビッ阴蒂するって言うか……」
		PRINTFORMW 「それにほら！%CNAME("一人称")%、カレもいるし……その、そうなるにしても順序ってものがあるでしょ？だから、え～っと……是！この話は終了！！」
		PRINTFORMW %CALLNAME:TARGET%通过耳まで真っ赤に染めつつ、胖次胖次と手を叩いて終わりを主張しているが、気にせず%CALLNAME:MASTER%ジッと見つめてみる。
		PRINTFORMW 「……何よ？」
		PRINTFORMW 若干の居心地の悪さを感じたのか%CALLNAME:TARGET%が斜眼で尋ねてきた。
		PRINTFORMW %CALLNAME:MASTER%堂々とした態度で返事を酱と聞いていない。返事が欲しい。と伝えた。
		PRINTFORMW 「うぐっ！……う～、あ～、その……%CNAME("二人称","どもり")%も……えっと……嫌いじゃないっていうか……」
		PRINTFORMW %CALLNAME:TARGET%通过暫く唸ったり、パクパクと口を動かしたりを繰り返していたが、吹っ切れたように顔を上げ、無言でズカズカと近づいてきた。
		PRINTFORMW 就这様目と鼻の先まで近づいたかと思えば、悄悄的、温柔的唇を寄せる。
		PRINTFORMW 「……それが答えだから！」
		PRINTFORMW 湯気が出るんじゃないかと思える程赤面した%CALLNAME:TARGET%がそう言い捨てて走り去ってしまった。
		PRINTFORMW %CALLNAME:MASTER%接吻だって今更じゃないだろうか？と思いはするが、まあ、%CONDS("間柄")%なりの精一杯なんだろうと思い直し、男として大号的気持ちで接受ことにした。
	;失敗
	ELSE
		PRINTFORML 「何をバカなこと言ってんの？」
		PRINTFORML 「いい加減%CONDS("間柄")%出口したほうがいいんじゃない？」
	ENDIF
;胖次のお願いした時に相手が没穿内褲だった
CASE "没穿内褲"
	IF COND("合意：胖次交易")
		PRINTFORMW 「い、いや、今日は偶々履いてないないっていうか……」
	ELSE

	ENDIF
;胖次を要前の会話。
;ただし、悪魔の場合には魂を払っているので確実に渡すことになる
;ここで本来胖次を给かどうかなどを加味して分岐を設ける事も出来る。特に書かなくてもよい
;TFLAG:取引承諾 = 0とすると胖次拒否に行くようになり、TFLAG:取引承諾 = 1とすると判定無視で胖次を渡せるようになる
;TFLAG:取引価格 に数字を入れる事で好きな額を要求できるようになる。基準相場は$500です
;TFLAG:値上げ交渉 に数字を入れておくと、断られた際もその値上乗せで胖次を渡す展開に出来る
;TFLAG:取引拒否 = 1 とすると本来取引できるかに関わらず、取引しなくなる
CASE "胖次交易"
	;ＯＫ！
	IF TFLAG:取引承諾
		;日期と時間参照随机
		IF COND("合意：胖次交易") && RANDC(4) == 0
			PRINTFORMW 「お金払うって……そんなに欲しいの？」
			PRINTFORMW 「ん～……じゃあ、これだけ払ってもらおうか？」
			TFLAG:取引価格 = 1000
		ELSE
			PRINTFORMW
		ENDIF
	;断られる
	ELSE
		;これを指定しておくと、実行値が足りない際にこの額上乗せで応じてくれるようになる
		TFLAG:値上げ交渉 = 500
	ENDIF
CASE "胖次"
	;値上げ交渉した
	IF TFLAG:値上げ交渉
		PRINTFORMW 「えぇ……そこまでして？ホントに？……ちょっとあっち向いてなさい」
	;相場より高い額を要求されるままに払った
	ELSEIF TFLAG:取引価格 >= 1000
		PRINTFORMW 「えぇ……ホントに払っちゃうんだ……」
	;値切って相場と変わらず$500払う。ここでTFLAG:取引承諾 = 0とすることで拒否するのもよいでしょう
	ELSEIF TFLAG:値切った
		TFLAG:取引承諾 = 0
		PRINTFORMW 「じゃあ、ダメ。諦めなさい」
	ELSE
		TFLAG:取引承諾 = 0
		PRINTFORMW 「え゛！？ダメに決まってるじゃない！？」
	ENDIF
	;胖次を脱いで渡してくる汎用地の文
	CALL DAILY_MESSAGE, "脱下胖次交了出去"

CASE "胖次拒否"
	;取引を拒否した際
	IF TFLAG:取引拒否
		PRINTFORMW 「え゛！？無理！！さすがにキモい！！」
	ELSE
		PRINTFORMW 「はぁあ！？なに気持ち悪いこと言ってんの？」
	ENDIF

;TFLAG:値上げ交渉 に数字を入れておくと、断られた際もその値上乗せで服を脱掉展開に出来る
;TFLAG:取引拒否 = 1 とすると本来取引できるかに関わらず、取引しなくなる
CASE "全裸交易"
	;ＯＫ！
	IF TFLAG:取引承諾
		PRINTFORMW 
	;断られる
	ELSE
		;これを指定しておくと、実行値が足りない際にこの額上乗せで応じてくれるようになる
		;TFLAG:値上げ交渉 = 2000
	ENDIF
CASE "全裸"
	;値上げ交渉した("全裸交易"で設定した場合のみ)
	IF TFLAG:値上げ交渉

	;取引初成功
	ELSEIF COND("合意：全裸化") == 0

	ELSE

	ENDIF
	;汎用地の文
	CALL EVENT_DATUI, "裸体"
CASE "全裸拒否"
	;取引を拒否した際("全裸交易"で設定した場合のみ)
	IF TFLAG:取引拒否
		PRINTFORMW 「絶っ対嫌！」
	;二人きりなら脱いでくれるけど状況が悪い
	ELSEIF COND("合意：全裸化") && (CHARA_NUM("室内の邪魔者") || PLACE("個室") == 0)
		PRINTFORMW 「絶っ対嫌！」
	ELSE
		PRINTFORMW 「絶っ対嫌！」
	ENDIF

;TFLAG:取引拒否 = 1 とすると本来取引できるかに関わらず、取引しなくなる
CASE "事后避孕药取引"

CASE "事后避孕药"
	;代金をまけてくれた場合
	IF TFLAG:値切った
		;所持金が足りなかった場合です
		;現状、ここに来るのは恋慕无の時のみ
	;拝み倒したら代金を払わなくても許してくれた場合
	ELSEIF TFLAG:取引価格 == 0
		;現状、ここに来るのは恋慕有の時のみ
	ELSE
		;普通にお金を払った場合
		;口上无でも自然な感じです
		;ですが恋慕のときなどは、なにか一言あってもいいかもですね
	ENDIF

CASE "事后避孕药拒否"
	;これはCASE "事后避孕药取引"内でTFLAG:取引拒否 = 1 となる分岐を作った場合のみ
	IF TFLAG:取引拒否

	;拝み倒して失敗した場合
	ELSEIF TFLAG:取引価格 == 0
		;轻轻地地の文が表示されます。口上有无どちらでも大丈夫そうです。
	;其他、你が薬代を不支付場合
	ELSE
		;恋慕状態で、それなりに妊娠の恐惧がある場合
		IF ( COND("受精確認") || COND("胎内の精液量") ) && TALENT:恋慕
			;お金がないか、不支付を選んだ場合です。
			;それなら避妊できなくて妊娠しちゃっても仕方ないね…(爱心)って感じのやつです。
			;地の文が表示されるので何も書かないほうが良いかもしれません。
		;不支付、を選んだ場合
		ELSEIF MONEY >= TFLAG:取引価格
			;口上无でも自然な感じです
		;お金が足りなかった場合
		ELSE
			;不支付を選んだ場合も、お金が足りないときはここへ来ます。
		ENDIF
	ENDIF
CASE "同居拒否"

CASE "同居希望"

CASE "同居頻度的相談"

CASE "便当拒否"
	PRINTFORMW 「嫌！メンドイ！！」
CASE "做便当"
	;便当のお願い２回目以降
	IF TALENT:相思相愛
		IF COND("合意：便当")
			PRINTFORMW 「いいわよ♪そっかぁ……そんなに美味しかったかぁ…」
			PRINTFORMW 「リクエストがあれば入れてあげてもいいわよ♪」
		ELSE
			IF COND("同居中")
				PRINTFORMW 「え？%CNAME("一人称")%の亲手自制がいいの？」
			ELSE
				; 同居が前提
			ENDIF
			PRINTFORMW 「そこまで言うなら作って给♪」
		ENDIF
	ELSE
		IF COND("合意：便当")
			PRINTFORMW 「えぇ～またぁ～？……ふぅん、美味しかったんだ。まあ、カレにも好評だったし？」
			PRINTFORMW 「しょうがないわねぇ。作って给。ついでにね」
		;以下は初めて作ってもらうよう变成了とき
		ELSE
			IF COND("同居中")
				PRINTFORMW 「えっ！？お母桑じゃなくて？」
			ELSE
				; 同居が前提
			ENDIF
			PRINTFORMW 「えぇ……面倒なんだけど……じゃあ、カレの分のついでってことなら……」
		ENDIF
	ENDIF

;COND("口服避孕薬派")かどうかで初回が"口服避孕薬を飲んで欲しい"or"口服避孕薬を止めて欲しい"に分かれます
CASE "口服避孕薬"
	;角色が口服避孕薬派なら、こっちだけ書いてください
	IF COND("口服避孕薬派")
		;口服避孕薬を服用してもらう
		IF CFLAG:口服避孕薬

		;口服避孕薬の服用を止めてもらう
		ELSE
			;初回
			IF DEVENT(ARGS) == 0

			ELSE

			ENDIF
		ENDIF
	;角色が口服避孕薬派でないなら、こっちだけ書いてください
	ELSE
		;口服避孕薬を服用してもらう
		IF CFLAG:口服避孕薬
			;初回
			IF DEVENT(ARGS) == 0

			ELSE

			ENDIF
		;口服避孕薬の服用を止めてもらう
		ELSE

		ENDIF
	ENDIF
;COND("口服避孕薬派")の人に口服避孕薬服用を止めてもらうお願いをしたけど聞き入れてもらえなかった場合
CASE "口服避孕薬中断拒否"

;COND("讨厌口服避孕薬")の人に口服避孕薬服用のお願いをしたけど聞き入れてもらえなかった場合
CASE "口服避孕薬服用拒否"

CASE "淫紋拒否"
	PRINTFORMW 「はぁあ！？何それ！？嫌！絶対！嫌！！」
;"淫紋贴纸直前"or"淫紋贴纸"の片方を書けば十分だと思います
CASE "淫紋贴纸直前"
	;初回
	IF DEVENT(ARGS) == 0
		PRINTFORMW 「シールなら……まあ、いいのかな？」
	ELSE
		PRINTFORMW 「うぇっ！？また？う゛ぅ～……ぃいわよ？」
	ENDIF

CASE "淫紋贴纸"
	;初回
	IF DEVENT(ARGS) == 0
		PRINTFORMW （？何か、ちょっとだけ熱い……？）
	ELSE
		PRINTFORMW （うぅぅぅ……貼っちゃった……んっ）
	ENDIF
;"淫紋直前"or"淫紋"の片方を書けば十分だと思います
CASE "淫紋直前"
	SELECTCASE MARK:淫紋
	CASE 2
		PRINTFORMW 「い、一生消えないの……？見えなくする方法とかは？」
		IF TALENT:相思相愛
			PRINTFORMW 「自分のモノにしたいって……ば、バカ！何言ってるのよ……」
		ELSE
			PRINTFORMW 「カレにバレちゃったら……。え？嫌いな男是ないって？」
		ENDIF
		PRINTFORMW 「でも、……うぅぅ……ちょっと、怖い……」
		PRINTFORMW 「い、痛くないのよね？何かあったら責任取ってくれる？」
	CASE 3
		PRINTFORMW 「画数を増やす？」
		PRINTFORMW 「え？えっ？……えっと、増えるとどうなるの？」
		PRINTFORMW 「……良くなる？曖昧な言い方ね？具体的には？」
		PRINTFORMW 「……見栄えが良くなる？えぇー……まあ、それなら……」
	CASE 4
		PRINTFORMW 「またぁ？……これで最後？」
		PRINTFORMW 「中途半端は良くないわよね？そういうことならしょーがないわ」
		PRINTFORMW 「何？にやけてる？……そ、そんなことないわよ？」
		PRINTFORMW 「ほら、闲じゃないんだからちゃっちゃと済まして頂戴」
	ENDSELECT
CASE "淫紋"
	SELECTCASE MARK:淫紋
	CASE 2
		PRINTFORMW 「……痛くなかった……」
		PRINTFORMW 「はぁ～ホントに彫っちゃた……。お腹見える服とか着れなくなっちゃた。温泉も……」
		PRINTFORMW 「いや、オシャレよオシャレ。積極的に見せる気はないけど」
	CASE 3
		PRINTFORMW 「……はぁはぁ、あれ？彫った後ってこんなに……んっ」
		PRINTFORMW 「え！？感度も良くなる！？そういうのは先ni↘……はぁっはぁっ」
		PRINTFORMW 「……ちょっと、責任取ってもらうわよ」
	CASE 4
		PRINTFORMW 「あっ、ん、これが疼くってやつね……」
		PRINTFORMW 「はぁ、ほら、ぼーっと突っ立てないでどんな感じか試さないとダメでしょ？」
		PRINTFORMW 「……何よ？まさか、%CNAME("一人称")%の相手する気じゃないなんて言わないでしょうね？」
		PRINTFORMW 「最初に責任取るって言ったわよね？」
	ENDSELECT
CASE "拜托処理性欲"
	IF TALENT:恋慕
		PRINTFORMW 「……そこまで言うなら断れないわね」
		PRINTFORMW 「仕方なく、よ？」
	ELSE
		PRINTFORMW 「…………はぁ？」
		TFLAG:取引拒否 = 1
	ENDIF
CASE "性処理の一時中断"

CASE "性処理拒否"
	PRINTFORMW 「――馬鹿！大馬鹿者！！お母桑に言いつけるからね！」
;悪魔、淫魔、妖狐専用
CASE "给我看尾巴"

CASE "给我看尾巴拒否"

;改变髪型のは、長さが披肩以上の人のみ。未設定だと披肩扱いです
;髪型を弄る際に手伝ってくれる人がASSIになっています。お手伝い桑を指名したい場合にはその人をASSIにして下さい
CASE "改变髪型"
	PRINTFORMW 「簪の使い方知ってるの？じゃあ、偶には別の改髪にしてもらおうかしら？」
CASE "髪型変更の感想"
	;どの髪型变成了かで分岐可能
	;ツインは2本、三股辫等の毛先の方で留めるのは不要、妹妹頭と钻頭は……まあ、うん
	SELECTCASE CONDS("髪型の種類")
	CASE CONDS("普段の髪型")
		PRINTFORMW 「……いつもの街道なんだけど、なんで一旦解いたの？」
	CASE "低団子頭"
		PRINTFORMW 「おっ！擅長いじゃない。そういえば、団子頭と盘頭って同じ意味なの知ってた？」
	CASE "马尾辫", "侧边马尾", "编起来", "单辫", "高侧盘頭"
		PRINTFORMW 「偶にはこういうのもいいわよね」
	CASE "団子頭", "双马尾", "短双马尾", "長双马尾", "卷双马尾", "团子頭双马尾", "細双马尾", "侧盘頭"
		PRINTFORMW 「2本で擅長くまとめたわね」
	CASE "大三股辫", "三股辫", "三股辫双马尾", "麻花辫", "双辫", "简易扎发"
		PRINTFORMW 「簪使わない改髪はずいぶん久しぶりね」
	CASE "妹妹頭"
		PRINTFORMW 「はぇ！？今何したの？え、切って……ない、わね……？」
	CASE "钻頭双马尾ール"
		PRINTFORMW 「……時間をかけた甲斐があったわね」
	;其他
	CASEELSE
		PRINTFORMW 
	ENDSELECT
CASE "改变髪型拒否"
	PRINTFORMW 「%CNAME("二人称")%、簪の使い方知らないでしょ？」
;これは普段から连褲襪を履く人じゃないとあんまり見る機会ないと思う
CASE "连褲襪着替え"
	;どれに履き替えてもらったか
	IF CHECK_BOTTOM("開放型连褲襪")
		PRINTFORMW 「えっと、穴空いてるんだけど……そういうこと？」
	ELSEIF CHECK_BOTTOM("渔网连褲襪")
		PRINTFORMW 「うわっ、えっちだぁ～」
	ELSEIF CHECK_BOTTOM("连褲襪")
		PRINTFORMW 「まあ、いつも履いてるし……」
	;生足
	ELSE
		PRINTFORMW 「脱掉の？」
	ENDIF
CASE "连褲襪着替え拒否"
	PRINTFORMW 「え？なんで？……フェチ？キモ」
CASE "巨根化して"
	;これは"大きくなる前"のサイズなのに注意
	SELECTCASE CONDS("基本阴茎尺寸")
	CASE "短小"

	CASE "普通"

	CASE "巨根"

	CASE "馬根"

	;腕並以上
	CASEELSE

	ENDSELECT

CASE "巨根化して拒否"

CASE "短小化して"
	;これは"小さくなる前"のサイズなのに注意
	SELECTCASE CONDS("基本阴茎尺寸")
	CASE "普通"

	CASE "巨根"

	CASE "馬根"

	;腕並、規格外
	CASEELSE

	ENDSELECT

CASE "短小化して拒否"

;恋慕のみ　避妊の護符を取下
CASE "避妊解除可"

CASE "避妊解除拒否"

;一度解除した避妊の護符の再装着をお願いした場合
CASE "避妊の護符"

;以下は悪魔専用
CASE "魂が足りない"

CASE "想要钱"

CASE "甜言蜜语"

CASE "謎之魅力"

CASE "業物"

CASE "射精量強化"
	;自分を相手にＨしてる最中にお願いされた
	IF COND("Ｈ最中の取引")
		;しかもＶ挿入中！
		IF INSERT("Ｖ挿入相手") == MASTER

		ELSE

		ENDIF
	ELSE

	ENDIF
CASE "巨根化"
	;これは"大きくなる前"のサイズなのに注意
	SELECTCASE CONDS("基本阴茎尺寸", PLAYER)
	CASE "短小"

	CASE "普通"

	CASE "巨根"

	CASE "馬根"

	;腕並以上
	CASEELSE

	ENDSELECT
CASE "短小化"
	;これは"小さくなる前"のサイズなのに注意
	SELECTCASE CONDS("基本阴茎尺寸", PLAYER)
	CASE "普通"

	CASE "巨根"

	CASE "馬根"

	;腕並、規格外
	CASEELSE

	ENDSELECT
ENDSELECT

;以下は汎用台詞(すでに喋っている場合には下には行かない)
SIF LINECOUNT > MEMO_LINECOUNT
	RETURN 1

;汎用拒否
IF STRCOUNT(ARGS, "拒否")
	[IF_DEBUG]
		PRINTFORMW @KOJO_WISH_K62, 汎用拒否
	[ENDIF]
;汎用取引（特に記述することがないならスキップ）
ELSEIF STRCOUNT(ARGS, "取引")

;汎用ＯＫ
ELSE
	[IF_DEBUG]
		PRINTFORMW @KOJO_WISH_K62, 汎用ＯＫ
	[ENDIF]
ENDIF

;-------------------------------------------------
;购物での台詞
;-------------------------------------------------
@KOJO_SHOP_K62, ARGS

SELECTCASE ARGS
CASE "一緒に出発"
	;初回
	IF SEVENT(ARGS) == 0
		PRINTFORMW 「ん？どっか行くの？%CNAME("一人称")%も行くー！」
		PRINTFORMW 「……ん？この店って……？」
	;着替えてもらう
	ELSEIF CHECK_CLO("裸体") || CHECK_CLO("泳装姿") || CHECK_CLO("体操服姿") || CHECK_CLO("内衣姿")

	ELSE
		PRINTFORMW 「あ……、またあそこ行くの？」
		PRINTFORMW 「変な物買わないように、%CNAME("一人称")%が付いてって给」
	ENDIF
CASE "目送"
		PRINTFORMW 「いてらー」
CASE "没収胖次出発"
	;初回
	IF SEVENT(ARGS) == 0

	;既に没穿内褲
	ELSEIF EQUIP:胖次 == 0

	ELSE

	ENDIF
CASE "保持现在的装扮出発"
	IF CHECK_CLO("泳装姿")

	ELSEIF CHECK_CLO("体操服姿")

	ELSEIF CHECK_CLO("内衣姿") || CHECK_CLO("裸体")

	ENDIF
CASE "会計交代"
	;初回
	IF SEVENT(ARGS) == 0 || SEVENT("商品購入") == 0
		PRINTFORMW 「えっ！？%CNAME("一人称")%！？%CNAME("一人称")%は別に欲しいものなんて……」
		PRINTFORMW 「うぅ……、一個だけ……」
	ELSE
		PRINTFORMW 「%CNAME("一人称")%はここで買うものなんてないわよ……」
		PRINTFORMW 「あっ、あれ、どうしよ……」
	ENDIF
;ここはwaitを使わないようにしてください(PRINTFORMW の代わりに PRINTFORML を使う)
CASE "询问有什么想要的东西"
	;PRINTFORML 
CASE "商品購入"
	;今買った物
	SELECTCASE STR:購入道具
	;ギリギリ通常商品の範疇or你用
	CASE "撮影機材", "潤滑液", "媚薬", "飞机杯"

	CASE "避孕套"
		;この商品を初めて買わされた
		IF SEVENT(STR:購入道具) == 0
			PRINTFORMW 「うぅぅ……、こ、これくださぃ」
		ELSE

		ENDIF
	;えっちな商品
	CASEELSE
		PRINTFORMW 買ったものを視界に入れないようにそっぽを向いている
	ENDSELECT
CASE "店内待機"
	;とりあえず何か一個買った時or33％で喋る
	SIF COND("買上品数") != 1 && RAND:3
		RETURN 0
	;胖次没収中
	IF COND("買い物胖次没収中")

	ELSE

	ENDIF
CASE "购物終了"
	;胖次没収中
	IF COND("買い物胖次没収中")

	;なにも買わなかった
	ELSEIF COND("買上品数") == 0

	ELSEIF CHECK_CLO("泳装姿") || CHECK_CLO("体操服姿")
	
	ENDIF
ENDSELECT

