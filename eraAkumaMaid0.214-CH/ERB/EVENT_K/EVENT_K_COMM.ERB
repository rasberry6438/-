;--------------------------------------------------
;角色間やり取りは例外的に全角色分ここに置く
;やり取りを思いついたり台詞を思いついた人は加筆してみてください
;--------------------------------------------------
;会話してる人の颜绘を横に並べる
;--------------------------------------------------
@PRINT_TaiTaChara, ARG, ARG:1, ARG:2
#DIM LCOUNT

CVARSET CFLAG, GETNUM(CFLAG, "交流中")

SIF ARG
	CFLAG:交流中 = 1
FOR LCOUNT, 0, 3
	SIF ARG:LCOUNT
		CFLAG:(ARG:LCOUNT):交流中 = 1
NEXT
FOR LCOUNT, 1, CHARANUM
	SIF CFLAG:LCOUNT:交流中
		CFLAG:LCOUNT:闲 = 0
NEXT

CALL REPRINT_SHOP_NAME

CVARSET CFLAG, GETNUM(CFLAG, "交流中")
;再描画をしても同じセリフが出るように乱数調整
CALL RESET_RANDOMIZE

;--------------------------------------------------
;コミュニケーションイベントでの台詞。
;--------------------------------------------------
@KOJO_COMM, ARGS
#DIM MEMO_LINECOUNT

MEMO_LINECOUNT = LINECOUNT
TRYCALLFORM KOJO_COMM_K{NO:TARGET}, ARGS

SIF LINECOUNT != MEMO_LINECOUNT
	PRINTL 

;--------------------------------------------------
;哈娜
;杏珠酱口上からお借りしました
;--------------------------------------------------
@TaiTaChara_K7
;イベントが起きる角色の名前を/区切りでこれに突っ込み、TEXTRで取り出す
#DIMS EVENT_TABLE
;イベント発生中の角色
#DIM ACTOR
;イベント発生中の角色の默认のCALLNAME
#DIMS CALLNAME_ACTOR

;現在この場にいる、自分以外の全角色の名前を取得する
EVENT_TABLE = %NAMES("対話可能角色一覧", TARGET)%
;誰も居ないなら終わり
SIF EVENT_TABLE == ""
	RETURN 0

;この角色のイベントが起きる
CALLNAME_ACTOR = %TEXTR(EVENT_TABLE)%
ACTOR = FIND_COND(CALLNAME_ACTOR)
CALL PRINT_TaiTaChara, ACTOR

;この分岐はTEXTR(EVENT_TABLE)はEVENT_TABLEに何も入ってないならCASEELSEへ、弗理希艾尔/小菊/哈娜/なら等確率で３人のどれかの分岐に行く
SELECTCASE CALLNAME_ACTOR
CASE "弗理希艾尔"
	IF DEVENT("弗理希艾尔初会話") == 0
		IF COND("夜")
			PRINTFORML 「おぉう、女仆桑とか初めて見たっス　えーと%CNAME("一人称")%は%NAME:TARGET%っス！！よろしくお願いします！！」
			PRINTFORML 『是、こちらこそ。フフフ』
		ELSE
			PRINTFORML 「えっ、%CNAME("弗理希艾尔")%って女仆桑だったんスか！？　しかも前輩専用！？」
			PRINTFORML 『是、実は女仆だったんです。主人様専用では無いですけどね』
		ENDIF
		CALL SET_DEVENT, "弗理希艾尔初会話"
	ELSE
		IF RAND:3 == 0
			PRINTFORML 「へーっ、%CONDS("略称", ACTOR)%桑って女仆桑なだけあって家事全般得意なんっスねー」
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%の仕事ぶりに感心している
		ELSEIF RAND:3
			PRINTFORML 「女仆桑って家事全般以外に何するんスか？　へー、そんなことまで…」
			PRINTFORML 『ええ。主人様って、ああ見えて結構お擅長なんですよ』
			CALL PRINT_STRL, "『……フフ_H_』"
		ELSE
			PRINTFORML 「%CONDS("略称", ACTOR)%桑と女仆咖啡厅の女仆桑って服全然違うっスねー」
			PRINTFORML 『フフ。ところがですね、そう見えて本質は結構似てるんですよ』
		ENDIF
	ENDIF
CASE "濡烏の君"
	IF DEVENT("濡烏の君初会話") == 0
		PRINTFORML 「前輩って狐なんスか？　%CNAME("一人称")%は狼なんスよ、これからよろしくお願いします！！」
		PRINTFORML 『元気のいい奴だな。私からもよろしく願おう』
		CALL SET_DEVENT, "濡烏の君初会話"
	ELSE
		IF RAND:3 == 0
			PRINTFORML 「%CONDS("略称", ACTOR)%前輩の髪ってさらさらで綺麗っスねー、%CNAME("一人称")%はどっちかというと固めだから大変なんスよー」
			PRINTFORML 『ふっ、何事にも長所があるものだ。你も自分なりの良さを模索するがいい』
			PRINTFORML %CALLNAME:ACTOR%は褒められて嬉しいのか、気分良さそうに前輩風を吹かせている
		ELSEIF RAND:3
			PRINTFORML 「%CONDS("略称", ACTOR)%前輩何読んでるんスか？」
			PRINTFORML 『ん……あぁ、数学の参考書だよ。どうも苦手でな』
		ELSE
			PRINTFORML 「何書いてるんスかー？%CONDS("略称", ACTOR)%前輩　なんか難しそうな字っスねー」
			PRINTFORML 『これか、これは……まぁ、内職みたいなものだな。闲なら你も書いてみるか？』
		ENDIF
	ENDIF
CASE "西西莉亚"
	IF DEVENT("西西莉亚初会話") == 0
		PRINTFORML 「前輩ってまほー使いなんスか！　ばばーんって雷とか炎とか出るっスか！！」
		CALL SET_DEVENT, "西西莉亚初会話"
	ELSE
		IF DEVENT("西西莉亚呼称噛々") == 0
			PRINTFORML 「つぇちー…　ちぇつぃー…　うぅー　ごめんなさいなんでもないっス…」
			CALL SET_DEVENT, "西西莉亚呼称噛々"
		ELSEIF RAND:3 == 0
			PRINTFORML 「んんー？　前輩何読んでるっスか？　自然学のれーこん論？難しくて分かんないっス…」
		ELSE
			PRINTFORML 「まほーってどんな事できるんスか？　%CNAME("一人称")%でも使えるんスかねー？」
		ENDIF
	ENDIF
CASE "阿丽努"
	IF DEVENT("阿丽努初会話") == 0
		PRINTFORML 「保健の老师っスか！！　%CNAME("一人称")%は怪我多いから手間かけちゃうかもっスけど　よろしくお願いします！！」
		CALL SET_DEVENT, "阿丽努初会話"
	ELSE
		PRINTFORM 「老师！老师！！背！せー伸びるクスリって無いっスか！！
		SIF FIND_COND("六華") && BASE:FIND_COND("六華"):身高 >= BASE:身高
			PRINTFORM 　%CNAME("一人称")%は負けられないっス…　初等部の子に…
		PRINTFORML 」
	ENDIF
CASE "六華"
	IF DEVENT("六華初会話") == 0
		IF TALENT:ACTOR:娇小 == 2
			PRINTFORML 「おぉー　%CNAME("一人称")%と同じくらいの背なんて珍しいっスね、えっ…　初等…部…？」
		ELSE
			PRINTFORML 「初めましてっス！%CNAME("一人称")%は人狼の哈娜っス　六華酱は蛇の神様なんスねー」
		ENDIF
		CALL SET_DEVENT, "六華初会話"
	ELSE
		IF RAND:3 == 0
			PRINTFORML 「んー？六華酱どーしたっスか？　これ？游戏機っスよ！　これについてる棒を倒すとー　そっちに動くっスよ」
		ELSEIF RAND:3
			PRINTFORML 「六華酱は甜食が怖いっスかー　んー…　%CNAME("一人称")%はお肉が怖いっスね」
		ELSE
			IF BASE:ACTOR:身高 >= BASE:身高
				PRINTFORML 「んんんー…　しょ…初等部の子に背で負けた…」
			ELSE
				PRINTFORML 「んへへー、甜食ばっかりじゃ背は伸びないっスよー？」
			ENDIF
		ENDIF
	ENDIF
CASE "樱"
	IF DEVENT("樱初会話") == 0
		CALL PRINT_STR, @"「さ、樱酱びょーき大丈夫なんスか？　ココに居るって事は…　～～～～～～っ_／／／_」_L_"
		CALL SET_DEVENT, "樱初会話"
	ELSE
		IF RAND:3 == 0
			PRINTFORML 「おぉー、樱酱何読んでるっスか？　んん？　%TEXTR("マンタの夏/ガラス玉のお姫様/フォルナム戦記/トルク歩き/幻視砲塔/南の島のエイリアン/竜虎伝")%？%TEXTR("金の海、銀の狼/うちの妹があまりにも可愛すぎる/砂糖と香料と素敵な爆弾/勇者大人は時給千円！/幸福の王子は笑わない/精灵の主人様/追憶の空")%？%TEXTR("おかしな世界の取り替え子/嘘つきたちの壊れた世界/私の彼氏/図書館司書と機関銃/メイガス・フィールド/白陽天動乱/断章ナイトメア")%？%TEXTR("猿でもわかる人类関係入門/明日からぐっと可愛くなる大人のメイク/カレの胃袋をがっちりつかむ　デキる女的家庭料理/男の子はココを見ている　女子力アップ大作戦/恋愛擅長になるための七つの秘密/引っ込み思案な你のための服選び/召しませ乙女の愛情手料理")%…？」
		ELSEIF RAND:3
			PRINTFORML 「どーしたっスか樱酱？　えっ、オススメの本っスか？　んー…　%TEXTR("火吹山の魔法使/Ｄ＆Ｄ/Ｍetro2033")%とかどーっスか？」
		ELSE
			PRINTFORML 「んんんんー！！　か、勝てない…　樱酱%TEXTR("パズル/音楽游戏/蕾丝游戏/クイズ游戏/ストラテジー")%強過ぎっスよ」
		ENDIF
	ENDIF
CASE "ユリ"
	IF DEVENT("ユリ初会話") == 0
		PRINTFORML 「お、おぉー…　ユリ前輩すごい、服…　あっ、%CNAME("一人称", "どもり")%は哈娜って言うっス！」
		CALL SET_DEVENT, "ユリ初会話"
	ELSE
		;IF RAND:3 == 0
			PRINTFORML 「ゆ、ユリ前輩服！！　服ちっちゃくてつんつるてんになっちゃってるっスから！！」
		;ELSEIF RAND:3
			
		;ELSE
			
		;ENDIF
	ENDIF
CASE "帕拉奇娜"
	IF DEVENT("帕拉奇娜初会話") == 0
		PRINTFORML 「おぉ、修女服桑っス！修女服桑！！　ウチ神道だからあんまり関わり無かったんスよねー　よろしくお願いします！！帕拉奇娜前輩」
		CALL SET_DEVENT, "帕拉奇娜初会話"
	ELSE
		IF RAND:2 == 0
			PRINTFORML 「えっ、クレリックってぶんぶんメイス振り回してメガクラッシュでアンデッドを浄化するんじゃないんスか！？」
		ELSE
			PRINTFORML 「%CNAME("一人称", "どもり")%はワーウルフじゃ無いっスよ…？」
		ENDIF
	ENDIF
CASE "麦莉爱娜"
	IF DEVENT("麦莉爱娜初会話") == 0
		PRINTFORML 「あっ…　べっ、別にココでやましーことしてないっスよ…？　別に…　えっ？老师もここで…？」
		CALL SET_DEVENT, "麦莉爱娜初会話"
	ELSE
		IF DEVENT("麦莉爱娜関係話") == 0
			PRINTFORML 「へーっ、老师と前輩って親子だったんスか　って事は…」
			CALL SET_DEVENT, "麦莉爱娜関係話"
		ELSEIF RAND:2 == 0 && COND("同居中", ACTOR) && COND("同居中") == 0
			PRINTFORML 「へー、前輩って休みの日そんな感じなんスかー」
		ELSE
			PRINTFORML 「老师、老师ー！　この部分がちょっとわかんないんスけど…」
		ENDIF
	ENDIF
CASE "莉雅拉"
	IF DEVENT("莉雅拉初会話") == 0
		PRINTFORML 「あれっ…？　%CNAME("一人称")%とおねー桑って初対面でしたっけ…？　どっかで見たことあるような無いような…」
		CALL SET_DEVENT, "莉雅拉初会話"
	ELSE
		IF RAND:3 == 0
			PRINTFORML 「ふっふっふ…　%CNAME("一人称")%の青緑デッキに耐えられるっスかー！！」
		ELSEIF RAND:3
			PRINTFORML 「ふっふっふ…　緑にはコントロールは辛いんじゃないっスかー？　あ、アレ…？　ちょ…まって…」
		ELSE
			PRINTFORML 「ふへへー　%CNAME("莉雅拉")%の气味って落ち着くっスねー」
		ENDIF
	ENDIF
CASE "成美"
	IF DEVENT("成美初会話") == 0
		PRINTFORML 「おぉ、前輩のクラスの委員長桑っスか！　前輩ってクラスではどんな感じなんスか？」
		CALL SET_DEVENT, "成美初会話"
	ELSE
		IF RAND:3 == 0
			PRINTFORML 「前輩前輩、成美前輩！　実は折り入って相談が…」
			PRINTFORML 
			PRINTFORML 
			PRINTFORML 「勉強教えてください…」
		ELSEIF RAND:3
			PRINTFORML 「うむむむ…　成美前輩の髪の毛もまっすぐで綺麗っスねー　羨ましいっス…」
		ELSE
			PRINTFORML 「えっ、こっち？　こっちに代入するっスか！？　えっ？えっ…？」
		ENDIF
	ENDIF
CASE "アイリ"
	IF DEVENT("アイリ初会話") == 0
		PRINTFORML 「んんっ…？　おぉ！！　前輩は猫っスか！　%CNAME("一人称")%は狼っスよ！
		PRINTFORML 「ふへー、酱と耳と尾巴あるんスねー　%CNAME("一人称")%の血筋は実体じゃないから羨ましいっス」
		PRINTFORML 『そう…？目立ちすぎるのも結構大変なのよ？』
		CALL SET_DEVENT, "アイリ初会話"
	ELSE
		IF RAND:3 == 0
			PRINTFORML 「鶏も良いっスけど豚も牛も甲乙付けがたいんス…　ちょっと確かめるのに焼肉が良いっスねー」
			PRINTFORML 『…哈娜が食べたいだけじゃないの？それって…』
		ELSEIF RAND:3
			PRINTFORML 「アイリ前輩分かるっス…　はつじょーきって辛いっスよねぇ…」
			PRINTFORML 『こっちの意思とはお構い无なのよね…本当に困るわ…』
		ELSE
			PRINTFORML 「どーしましたアイリ前輩？　えっ、はつじょーきの解消方っスか？　小小的頃は駆け回っててよく分かんなかったっスけど…　最近は前輩と…」
			PRINTFORML 『うぅ…やっぱりそれしかないのかしら……？』
		ENDIF
	ENDIF
CASE "織"
	IF DEVENT("織初会話") == 0
		PRINTFORML 「初めましてっス、織前輩！　吸血鬼って事は霧变成了り出来るんスか？」
		CALL SET_DEVENT, "織初会話"
	ELSE
		IF RAND:3 == 0
			PRINTFORML 「そーいえばヴァン餡餅アとワーウルフって天敵同士って言う映画での設定あったっスねー」
		ELSEIF RAND:3
			PRINTFORML 「織前輩って筋トレ好きなんスか？　%CNAME("一人称")%も運動はキライじゃないっス！」
		ELSE
			PRINTFORML 「血って言えば胸罩ッドソーセージとか良いっスよねー」
		ENDIF
	ENDIF
CASE "槞彁"
	IF DEVENT("槞彁初会話") == 0
		PRINTFORML 「您好？こんばんわ？　んー…　わかんない…　%CNAME("一人称")%は哈娜っス！！」
		CALL SET_DEVENT, "槞彁初会話"
	ELSE
		IF RAND:3 == 0
			PRINTFORML 「んっ、コレっスか？　コレはからあげって言うっス」
			PRINTFORML 「そーそー、からあげ　鶏肉って言ってー鶏舎にいっぱいニワトリが居るんスよ」
			PRINTFORML 「余裕はあるっスけどぎゅうぎゅうといってもいいかも知れないっスね」
			PRINTFORML 「えっ、それはフォアグラの作り方っス　なにそれこわい」
		ELSEIF RAND:3
			IF BASE:ACTOR:身高 >= BASE:身高
				PRINTFORML 「んんんん～～～～っ！！　なんで…　なんでっスかー！！　中等部に背で負けるなんて…」
			ELSE
				PRINTFORML 「ふへへー、%CNAME("一人称")%の方がせー高いっス！」
				PRINTFORML %CALLNAME:TARGET%通过年下の%CALLNAME:ACTOR%との背比べに勝利して勝ち誇っている…
			ENDIF
		ELSE
			PRINTFORML 「ふへー、槞彁酱のきょーど料理って美味しそうっスねー」
		ENDIF
	ENDIF
CASE "杏珠"
	IF DEVENT("杏珠初会話") == 0
		PRINTFORML 「おぉ！前輩の同級生っスか！　大丈夫っスか？　杏珠前輩変な事されてないっスか？」
		CALL SET_DEVENT, "杏珠初会話"
	ELSE
		IF RAND:2 == 0
			PRINTFORML 「うわっ、杏珠前輩その角色ひきょーっスよー」
		ELSE
			SELECTCASE TEXTS("季節")
				CASE "春"
					PRINTFORML 「春っスねー杏珠前輩、そーいえば桜餅って花びら入ってるんスかね」
				CASE "夏"
					PRINTFORML 「あ゛づい゛っス～、杏珠前輩カキ氷食べに行かないっスか…」
				CASE "秋"
					PRINTFORML 「落ち葉いっぱいっスねぇ、烤红薯とかどーっスか？」
				CASE "冬"
					PRINTFORML 「ふへー、杏珠前輩って冷え性なんスか　一緒にひとっ走りして足暖めましょうか！！」
			ENDSELECT
		ENDIF
	ENDIF
CASE "小菊"
	IF DEVENT("小菊初会話") == 0
		PRINTFORML 「おぉう、小菊酱お人形桑みたいっスねー　ん？ウチの蔵にも小菊酱に似た感じの人形あったような…」
		CALL SET_DEVENT, "小菊初会話"
	ELSE
		;IF RAND:3 == 0
			;PRINTFORML 「」
		;ELSEIF RAND:3
			
		;ELSE
			
		;ENDIF
	ENDIF
CASE "焰"
	IF DEVENT("焰初会話") == 0
		PRINTFORML 「うひゃぁっ、%CNAME("焰", "どもり")%…？　べ、別にやましー事なんてしてないっスよ…？
		PRINTFORML というか老师がなんでここに…　あっ！！」
		CALL SET_DEVENT, "焰初会話"
	ELSE
		IF RAND:3 == 0
			PRINTFORML 「老师ー　%CNAME("焰")%、マラソンでのフォームってこうで良いんスか？」
		ELSEIF RAND:3
			PRINTFORML 「老师老师！　冬には雪合戦を授業にとか！！　あ、そーっスよね…　ダメっスよね」
		ELSE
			PRINTFORML 「んむむむ～…　勉強苦手っスけど、赤点補修もいやっス…」
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%に赤点候補の科目を見てもらっているようだ
		ENDIF
	ENDIF
CASE "万音"
	IF DEVENT("万音初会話") == 0
		PRINTFORML 「うわっ、胸部すごい…　あっ、ごめんなさい　%CNAME("一人称")%は哈娜って言うっス…」
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%の大号的胸に圧倒されている…
		CALL SET_DEVENT, "万音初会話"
	ELSE
		IF RAND:2 == 0
			PRINTFORML 「むむむ…　どうしたらそんなに胸部が…」
		ELSE
			PRINTFORML 「ふへー、淫魔ってのも大変なんスねー」
		ENDIF
	ENDIF
CASE "卡莉斯塔"
	IF DEVENT("卡莉斯塔初会話") == 0
		PRINTFORML 「%CNAME("一人称")%は哈娜って言うっス！
		PRINTFORML 「えっ、前輩で女の子だったんスか！？　執事服だからてっきり男の子かと…」
		CALL SET_DEVENT, "卡莉斯塔初会話"
	ELSE
		IF RAND:3 == 0
			PRINTFORML 「前輩前輩、卡莉斯塔前輩！　今度Ｄ＆Ｄでもどーっスか？　何人か分かる人も誘ってー」
		ELSEIF RAND:3
			PRINTFORML 「んー、そのわっかってどーやって浮いてるんスか？　天使ちからとかそんな感じっスか？」
		ELSE
			PRINTFORML 「きちーっと執事服着るのって疲れないっスか？　毎日服をプレスてパリっとさせたりで…」
		ENDIF
	ENDIF
CASE "祥子"
	IF DEVENT("祥子初会話") == 0
		PRINTFORML 「おぉう…」
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%の姿にすっかり見とれてしまっている…
		PRINTFORML 「あっ、ごめんなさい…　%CNAME("一人称")%は哈娜っス…」
		CALL SET_DEVENT, "祥子初会話"
	ELSE
		IF RAND:3 == 0
			PRINTFORML 「しょーこ前輩も発情期あるんスかー…　あの時期だけは中々辛いっスよねぇ…」
		ELSEIF RAND:3
			PRINTFORML 「その尾巴の火って熱くないんスか？　へーっ、物には影響しないんスかー」
		ELSE
			PRINTFORML 「梦话で言ってたっスけど、しょーこ前輩の事食べないっスよ？」
		ENDIF
	ENDIF
CASE "琉娜"
	IF DEVENT("琉娜初会話") == 0
		PRINTFORML 「あ、あぁあ…　で、伝説の琉娜前輩っスか！！あわわわわ…　%CNAME("一人称", "どもり")%は%CALLNAME:TARGET%って言うっス！！　よろしくおねがいしまっす！！」
		CALL SET_DEVENT, "琉娜初会話"
	ELSE
		IF RAND:3 == 0
			PRINTFORML 「んんっ…　琉娜前輩は%CNAME("一人称")%の耳触れるんスね…　触れる人ほとんど居ないから慣れて無くって…」
			PRINTFORML 『そこまで大したモンじゃないけど、竜の魔力的な何かがあるのは確かかな　あ、痛くしちゃったらゴメンね？』
		ELSEIF RAND:3
			PRINTFORML 「あっ、琉娜前輩！そっち行ったっス！！　まてー！！」
		ELSE
			PRINTFORML 「んんん～～～…　こ、この数字がここに入って…　あっ、これがこっちっスね　琉娜前輩！」
			PRINTFORML 『そうそう！　やりゃあ出来るじゃん、このこのっ♪』
		ENDIF
	ENDIF
CASE "玛丽"
	IF DEVENT("玛丽") == 0
		PRINTFORML 「よろしくお願いします！玛丽前輩！！　玛丽前輩も帕拉奇娜前輩とおんなじ%TEXTR("あくまばらい？/修女服桑")%なんスねー　やっぱメイスぶんぶんなんスか？」
		CALL SET_DEVENT, "玛丽"
	ELSE
		IF RAND:3 == 0
			PRINTFORML 「あっ、玛丽前輩今度マラソン大会あるんスけど、体力つくりにどーっスか？」
		ELSE
			PRINTFORML 「おぉう…　なんスか、その槍？でっかいっスねー、おっきいっスねー」
		ENDIF
	ENDIF
;保留中
;CASE "千穂"
	;IF DEVENT("千穂") == 0
		;PRINTFORML 「
		;CALL SET_DEVENT, "千穂"
	;ELSE
		;IF RAND:3 == 0
			
		;ELSEIF RAND:3
			
		;ELSE
			
		;ENDIF
	;ENDIF
CASE "乃々"
	IF DEVENT("乃々") == 0
		PRINTFORML 「はじめまして乃々酱！　乃々酱も自分のこと%CNAME("一人称")%なんスね、おかー桑とかからなおせーとかって、え…？男…？　こんなに可爱のに…？えっ…？」
		CALL SET_DEVENT, "乃々"
	ELSE
		IF RAND:3 == 0
			IF FIND_COND("現在存在", "卡莉斯塔")
				PRINTFORML 「乃々酱のわっかも天使ちからとかで浮いてるんスか？」
			ELSE
				PRINTFORML 「乃々酱のわっかが浮いてるのって天使ちからとかなんスかね…」
			ENDIF
		ELSE
			PRINTFORML 「うむむむ…　女子ちから負けてる気がするっス、ちょ、ちょっとコツとか…」
		ENDIF
	ENDIF
CASE "恭子"
	IF DEVENT("恭子") == 0
		PRINTFORM 「おおぅ、
			IF FIND_COND("現在存在", "西西莉亚")
				PRINTFORML 恭子酱も『つぇちーりあ』前輩みたいにまほーつかいなんスか、え？魔法少女？どう違うんスか？」
			ELSE
				PRINTFORML 恭子酱ってまほーつかいなんスか、魔法少女…？どう違うんだろう…　アレっすかシャランラーみたいな感じっスか」
			ENDIF
		CALL SET_DEVENT, "恭子"
	ELSE
		PRINTFORML 「梦话でしょくしゅはーって言ってたっスけど、たしかにうにょうにょしてるっスもんねなまことか見た目アレっスけどおいしいんスよ？」
		PRINTFORML 多分%CALLNAME:TARGET%が思い浮かべている触手とはまったく違うものだろう
	ENDIF
CASE "維吹"
	IF DEVENT("維吹") == 0
		PRINTFORML 「はじめまして！維吹前輩！！%CNAME("一人称")%は哈娜って言うっス
		PRINTFORML 維吹前輩雪女のハーフなんスか、%CNAME("一人称")%は殆ど人みたいな人狼っス」
		CALL SET_DEVENT, "維吹"
	ELSE
		IF RAND:3 == 0
			PRINTFORML 「維吹前輩山とか好きなんスか？　いーっスねー山、小小的ころ友達と山で遊んだなー」
		ELSEIF RAND:3
			PRINTFORML 「維吹前輩は山で何するんスか？　散歩？　虫取りとか鳥捕まえたりはしないんスか？」
		ELSE
			PRINTFORML 「雪山もいーっスよね　誰も踏んでない新雪とか、冬毛の兎や狐…　雪中行軍とか…」
		ENDIF
	ENDIF
CASEELSE
	CALL PRINT_TaiTaChara
	PRINTFORML 「ん～？何スか%CNAME("二人称")%」
ENDSELECT

;--------------------------------------------------
;九重亜依璃
;杏珠酱口上内の構文をお借りしました
;--------------------------------------------------
@TaiTaChara_K13
;イベントが起きる角色の名前を/区切りでこれに突っ込み、TEXTRで取り出す
#DIMS EVENT_TABLE
;イベント発生中の角色
#DIM ACTOR
;イベント発生中の角色の默认のCALLNAME
#DIMS CALLNAME_ACTOR

;まずは初期化
EVENT_TABLE = 

SIF FIND_COND("弗理希艾尔", "対話可能")
	EVENT_TABLE += "弗理希艾尔/"
SIF FIND_COND("濡烏の君", "対話可能")
	EVENT_TABLE += "濡烏の君/"
SIF FIND_COND("西西莉亚", "対話可能")
	EVENT_TABLE += "西西莉亚/"
SIF FIND_COND("六華", "対話可能")
	EVENT_TABLE += "六華/"
SIF FIND_COND("樱", "対話可能")
	EVENT_TABLE += "樱/"
SIF FIND_COND("哈娜", "対話可能")
	EVENT_TABLE += "哈娜/"
SIF FIND_COND("麦莉爱娜", "対話可能")
	EVENT_TABLE += "麦莉爱娜/"
SIF FIND_COND("莉雅拉", "対話可能")
	EVENT_TABLE += "莉雅拉/"
SIF FIND_COND("織", "対話可能")
	EVENT_TABLE += "織/"
SIF FIND_COND("槞彁", "対話可能")
	EVENT_TABLE += "槞彁/"
SIF FIND_COND("杏珠", "対話可能")
	EVENT_TABLE += "杏珠/"
SIF FIND_COND("祥子", "対話可能")
	EVENT_TABLE += "祥子/"
SIF FIND_COND("琉娜", "対話可能")
	EVENT_TABLE += "琉娜/"
SIF FIND_COND("乃々", "対話可能")
	EVENT_TABLE += "乃々/"
SIF FIND_COND("奥丝卡", "対話可能")
	EVENT_TABLE += "奥丝卡/"
SIF FIND_COND("寧子", "対話可能")
	EVENT_TABLE += "寧子/"
SIF FIND_COND("灯", "対話可能")
	EVENT_TABLE += "灯/"
SIF FIND_COND("綾乃", "対話可能")
	EVENT_TABLE += "綾乃/"
SIF FIND_COND("栞", "対話可能")
	EVENT_TABLE += "栞/"
SIF FIND_COND("小夜", "対話可能")
	EVENT_TABLE += "小夜/"
SIF FIND_COND("休托莉", "対話可能")
	EVENT_TABLE += "休托莉/"

;現在この場にいる、自分以外の全角色の名前を取得する場合はこれ
;EVENT_TABLE = %NAMES("対話可能角色一覧", TARGET)%

;誰も居ないならくしゃみして終わり
IF EVENT_TABLE == ""
	PRINTFORML 「くしゅん！」
	PRINTFORML 「うー…風邪かしら？」
	RETURN 0
ENDIF

;この角色のイベントが起きる
CALLNAME_ACTOR = %TEXTR(EVENT_TABLE)%
ACTOR = FIND_COND(CALLNAME_ACTOR)
CALL PRINT_TaiTaChara, ACTOR

;この分岐はEVENT_TABLEが例えば弗理希艾尔/小菊/哈娜/なら等確率で３人のどれかの分岐に行く
SELECTCASE CALLNAME_ACTOR
CASE "弗理希艾尔"
	IF CFLAG:便当 && RAND:2
		PRINTFORML 「明日の便当、おかずが一品決まらないなあ…」
		PRINTFORML 「%CNAME(CALLNAME_ACTOR)%…なんかいいレシピ知らない？」
		CALL PRINT_STRL, "『そういう時には、アイリ桑が食べたいものを入れるのが良いと思いますよ_H_』"
		PRINTFORML 『作る側にも楽しみが有ませんとね、フフ♪』
	ELSE
		PRINTFORML 「何？%CNAME(CALLNAME_ACTOR)%…？」
		PRINTFORML 「…%TEXTR("これ、洗濯物？畳んでおいてくれたの？/えっ、あの番組録画しといてくれたの？/ん、曲奇焼いたんだ…もらっていいの？")%あ、有がとう…」
		SIF RAND:2
			PRINTFORML 「さすが悪魔…このままだと%CNAME("一人称")%、確実に堕落するわ…」
		PRINTFORML 『いえいえ、とんでもございません。フフフ』
	ENDIF
CASE "濡烏の君"
;そもそも「君」が敬称だから呼び捨てがいいのかなこの場合　でも名前変えるケースもあるからやっぱ敬称つける
	IF RAND:2
		PRINTFORML 「そのお札って、どういう効果があるんですか？%CNAME(CALLNAME_ACTOR)%」
		IF DEVENT("アイリお札") == 0
			PRINTFORML 『フ……興味があるようなら一枚やろう。北東の壁にでも貼るがいい』
			PRINTFORML 「……え？あ、有がとうございます……部屋に貼ってみます…」
			CALL SET_DEVENT, "アイリお札"
		ELSE
			PRINTFORML 「この前もらったのも部屋に貼ったんですけど…特に何も起こってなくて」
			PRINTFORML 『昔から言うだろう？』
			PRINTFORML 『たよりがないのは良い便り、とな』
		ENDIF
	ELSE
		PRINTFORML 「%CNAME(CALLNAME_ACTOR)%の髪の毛、綺麗だなぁ…」
		IF TALENT:ACTOR:動物耳 && RAND:2
			PRINTFORML 「獣耳あっても長は似合うのね…%CNAME("一人称")%も伸ばしてみてもいいかも…」
		ELSE
			PRINTFORML 「%CNAME("一人称")%も伸ばしてみたいけど、手入れが大変そうなのよね…」
		ENDIF
	ENDIF
CASE "西西莉亚"
	IF RAND:2 && COND("茶") && STRCOUNTS(CSTR:ACTOR:DAILYCOM履歴, "泡茶", "沏茶")
		PRINTFORML 「……！%CNAME(CALLNAME_ACTOR, "どもり")%…！」
		PRINTFORML 「今日の香草茶、气味、強すぎて……くしゅんっ！」
	ELSE
		PRINTFORML 「ごめんなさい、%CNAME(CALLNAME_ACTOR)%…古代エジプトの話はあんまり興味なくって…」
		PRINTFORML 「バステト…？すいません、それもよくわからないです…」
	ENDIF
CASE "六華"
	PRINTFORML 「%CNAME(CALLNAME_ACTOR)%って本当に神様だったのね…」
	PRINTFORML 「獣人仲間だ、とか思って気安く声かけたり頭撫でたりしちゃったことあるんだけど…」
	PRINTFORML 「それがもとで祟られたりとか…そういうの、無いわよね？」
CASE "樱"
	;游戏大好き樱酱
	PRINTFORML 「あっ…！またやられた…！」
	PRINTFORML 「え？%TEXTR("今のは中段技だから立ってないと守備できない/ボムはどこで使うのかあらかじめ決めておいた方がいい/そこまで近距離なら銃よりもナイフを使うべき")%…？」
	PRINTFORML 「%CNAME(CALLNAME_ACTOR)%…やっぱりもう一回手本見せてもらえる…？」
CASE "哈娜"
	IF COND("発情期", ACTOR)
		PRINTFORML 「%CNAME(CALLNAME_ACTOR)%が発情しちゃってるみたいね…」
			IF TALENT:ACTOR:処女 && TALENT:ACTOR:恋慕 == 0
				PRINTFORML 『だ、だいじょうぶ…大丈夫っスよ？　ちょっとひとっ走りしてくれば収圆圈はずっス…んっ、は、んんっ…』
			ELSE
				PRINTFORML 『え、えへへ…　あか酱…　前輩と…　うへへ…』
			ENDIF
		PRINTFORML 「ちょっと辛そうだし、もし余裕があるんなら構ってあげたら？」
	ELSE
		PRINTFORML 「%CNAME(CALLNAME_ACTOR)%には悪いけど、こればっかりは譲れないわ…」
		PRINTFORML 「牛や豚よりもやっぱり鶏！%CNAME("一人称")%の答えは変わらないんだから！」
		PRINTFORML 『鶏っスかー、コレは確かめるために%TEXTR("焼肉/焼き鳥")%しか…？』
	ENDIF
CASE "麦莉爱娜"
	PRINTFORML 「%CNAME(CALLNAME_ACTOR)%…この問題でちょっと聞きたい事が…」
	PRINTFORML 「……なるほど、%TEXTR("そこミスってたんですね/そういう応用の仕方が/これ覚えとかないと")%…」
CASE "莉雅拉"
	PRINTFORML 「何ですか、%CNAME(CALLNAME_ACTOR)%…？」
	PRINTFORML 「%TEXTR("自慰のときの利き手はどっちか/初体験是つなの/中で酱とイける領帯プか")%、って…お、教えませんよ、そんなの！」
CASE "織"
	IF RAND:2 && COND("昼")
		PRINTFORML 「%CNAME(CALLNAME_ACTOR)%……その席、日当たらない？」
		PRINTFORML 「良ければこっちと替わるけど……どうする？」
	ELSE
		PRINTFORML 「%CNAME(CALLNAME_ACTOR)%…その、服選びとか困ったら、いつでも相談していいからね」
		PRINTFORML 「何？どうしたのよ…？そんなに嫌がらなくてもいいでしょ…」
	ENDIF
CASE "槞彁"
	IF RAND:4 == 0
		CALL EVENT_槞彁COMM_LIBRARY("日常Talk：アイリ１")
	ELSEIF RAND:3 == 0
		CALL EVENT_槞彁COMM_LIBRARY("日常Talk：アイリ２")
	ELSEIF RAND:2
		CALL EVENT_槞彁COMM_LIBRARY("日常Talk：アイリ３")
	ELSE
		CALL EVENT_槞彁COMM_LIBRARY("日常Talk：アイリ４")
	ENDIF
CASE "杏珠"
	PRINTFORML 「どうしたの？%CNAME(CALLNAME_ACTOR)%…？」
	IF RAND:3 == 0
		PRINTFORML 「…○○桑家のミケが、最近元気なさそう？」
		PRINTFORML 「そうね、もう結構おじい酱だったはずだし…仕方ないのかもね」
	ELSEIF RAND:2
		PRINTFORML 「…□□桑とこのタマ、また家出したんだ？」
		PRINTFORML 「まあ、いつものことだし…そのうちお腹すかせて帰って来るでしょ…」
	ELSE
		PRINTFORML 「この前%TEXTR("学校の近く/川の土手/超市の方")%で××桑とこのトラを見た？」
		PRINTFORML 「あー…あの子も割と行動範囲广阔わよね」
	ENDIF
CASE "祥子"
	PRINTFORML 「いくら%CNAME(CALLNAME_ACTOR)%が鼠に取り憑かれてるからって私を怖がる必要はないと思うんですけど…」
	PRINTFORML 「大体、食べる物なら他にもたく桑有ますし…」
	PRINTFORML 「……あ！いや、『他にも』ってのは言い間違いで！もともと食べるつもりはないですから！」
CASE "琉娜"
	PRINTFORML 「%CNAME(CALLNAME_ACTOR)%…？何ですかその目つきは、そしてその手つきは…」
	PRINTFORML 「……さっきから距離近くないですか？あの、ちょっと、聞いてます！？」
CASE "乃々"
	IF RAND:2
		PRINTFORML 「是、乳酪……っと」
		PRINTFORML 「撮れたわよ、%CNAME(CALLNAME_ACTOR)%…こんな感じでいい？」
	ELSE
		PRINTFORML 「……%CNAME(CALLNAME_ACTOR)%、これ言ったら変な感じになるかもしれないけど…」
		PRINTFORML 「こうやって見てると、你が男性だってこと忘れそうになるのよね…」
	ENDIF
CASE "奥丝卡"
	IF RAND:2
		PRINTFORML 「淫紋……？」
		IF MARK:淫紋
			PRINTFORML 「あ、あれを自己…！？本当に大丈夫なんですか%CNAME(CALLNAME_ACTOR)%…」
		ELSE
			PRINTFORML 「それが%CNAME(CALLNAME_ACTOR)%のお腹に…ふーん…」
			PRINTFORML 「そういうのって、やらしいことしか考えてない悪魔が発明したのね、きっと……」
		ENDIF
	ELSE
		PRINTFORML 「……え？あ、ごめんなさい%CNAME(CALLNAME_ACTOR)%…」
		PRINTFORML 「別に、用があるわけじゃなくて……尾巴が、その、動いてたから気になって…」
	ENDIF
CASE "寧子"
	IF RAND:3 == 0
		PRINTFORML 「小鱼干しねえ…おいしいけど、ちょっと味濃くない？」
			IF RAND:2
				PRINTFORML 「%CNAME(CALLNAME_ACTOR)%もあんまり食べ過ぎないほうが……って余計なお世話か」
			ELSE
				PRINTFORML 「口が寂しい、ってだけなら%CNAME("一人称")%のお菓子分けてあげてもいいけど…」
			ENDIF
	ELSEIF RAND:2
		PRINTFORML 「寧子、言っとくけど、○○町の空地には入っちゃダメだからね」
		PRINTFORML 「なんで、って…%CNAME("一人称")%のナワバリだからよ、一応覚えといてよね」
	ELSE
		PRINTFORML 「猫としての前輩…って言われてもなあ…」
		PRINTFORML 「%CNAME("一人称")%も%CNAME(CALLNAME_ACTOR)%も人类に混じって生きてるわけだし関係ないんじゃない…？」
	ENDIF
CASE "灯"
	IF RAND:2
		PRINTFORML 「%CNAME(CALLNAME_ACTOR)%…もう少し女の子らしくできないの…？仕草とか、言葉とか…」
		PRINTFORML 『なんで？別にいいじゃん随便てさ』
		PRINTFORML 「……ちょっと、都合のいい時だけ男アピールしないでよ」
		PRINTFORML 『だって男だも～ん』
	ELSE
		PRINTFORML 「%CNAME(CALLNAME_ACTOR)%、%TEXTR("ああいう服/あの化粧品")%って…どこで売ってるの？いくらくらい？」
		PRINTFORML 『え？それ俺に聞くの？』
		PRINTFORML 「いやだって、你知識は確かだし……男なのに」
		PRINTFORML 『あぁ……まあ別にいいけどさ。女装コミュのツテで知った奴でも構わない？』
	ENDIF
CASE "綾乃"
	IF RAND:2
		PRINTFORML 「%CNAME(CALLNAME_ACTOR)%前輩…%TEXTR("302教室/百人斬り/〇〇老师")%の噂って本当なんですか…？」
		PRINTFORML 「え？え？どういうことですか…？否定するならはっきり否定してください…」
	ELSE
		PRINTFORML 「ふぇ？あ、なんでもないです…すみません%CNAME(CALLNAME_ACTOR)%前輩…」
		PRINTFORML 「いけない、うっかり見とれてたわ…さすが淫魔」
	ENDIF
CASE "栞"
	IF RAND:2
		PRINTFORML 「%CNAME(CALLNAME_ACTOR)%前輩…%TEXTR("明日の天気/次の試験の範囲/来週のドラマの展開")%とかって…わかります？」
		PRINTFORML 「ああいえ、ごめんなさい…くだらないこと聞いちゃって…」
	ELSE
		PRINTFORML 「%CNAME(CALLNAME_ACTOR)%前輩…難しい顔してますけど…何を見てるんですか？」
		PRINTFORML 「星……？今は昼なのに、ですか？」
	ENDIF
CASE "小夜"
	IF RAND:2
		PRINTFORML 「ん…？なんですか、%CNAME(CALLNAME_ACTOR)%前輩…どうかしましたか？」
		PRINTFORML 「……え…？すいません、もう一度言ってもらえます…？」
		PRINTFORML 「あああ、ちょっと！諦めないでくださいって…酱と聞きますから…！」
	ELSE
		PRINTFORML 「%CNAME(CALLNAME_ACTOR)%前輩…何をニヤニヤしてるんですか？」
		PRINTFORML 「……」
		PRINTFORML 「…幸せそうだし、悄悄的しといてあげようかな…」
	ENDIF
CASE "休托莉"
	IF RAND:2
		PRINTFORML 「%CNAME(CALLNAME_ACTOR)%…肌青いけど、きれいな色よね」
		PRINTFORML 「でも、それってメイクはどうするの…？するとしたらだけど」
	ELSE
		PRINTFORML 「%CNAME(CALLNAME_ACTOR)%…あんまりアイツの言うこと真に受けない方がいいからね」
		PRINTFORML 「純真な子に変なこと吹き込まないでほしいわ、ほんとに…」
	ENDIF
CASEELSE
	CALL PRINT_TaiTaChara
	PRINTFORML 「くしゅん！」
	PRINTFORML 「うー…風邪かしら？」
ENDSELECT


;--------------------------------------------------
;玉寄杏珠
;--------------------------------------------------
@TaiTaChara_K16
;イベントが起きる角色の名前を/区切りでこれに突っ込み、TEXTRで取り出す
#DIMS EVENT_TABLE
;イベント発生中の角色
#DIM ACTOR
;イベント発生中の角色の默认のCALLNAME
#DIMS CALLNAME_ACTOR

;まずは初期化
EVENT_TABLE = 

SIF FIND_COND("弗理希艾尔", "対話可能")
	EVENT_TABLE += "弗理希艾尔/"
SIF FIND_COND("小菊", "対話可能")
	EVENT_TABLE += "小菊/"
SIF FIND_COND("哈娜", "対話可能")
	EVENT_TABLE += "哈娜/"
SIF FIND_COND("槞彁", "対話可能")
	EVENT_TABLE += "槞彁/"

;現在この場にいる、自分以外の全角色の名前を取得する場合はこれ
;EVENT_TABLE = %NAMES("対話可能角色一覧", TARGET)%

;誰も居ないなら終わり
IF EVENT_TABLE == ""
	PRINTFORML 「へっくし！」
	RETURN 0
ENDIF

;この角色のイベントが起きる
CALLNAME_ACTOR = %TEXTR(EVENT_TABLE)%
ACTOR = FIND_COND(CALLNAME_ACTOR)
CALL PRINT_TaiTaChara, ACTOR

;この分岐はEVENT_TABLEが例えば弗理希艾尔/小菊/哈娜/なら等確率で３人のどれかの分岐に行く
SELECTCASE CALLNAME_ACTOR
CASE "弗理希艾尔"
	PRINTFORML 「%CNAME(CALLNAME_ACTOR)%ってさ～、%CNAME("二人称")%の前じゃどうか知らないけど 結構イジワルよ？」
	PRINTFORML 「７並べでカードがっちり止めるし しりとりでも り ばっかり使ってくるしさー」
CASE "小菊"
	PRINTFORML なんと%CALLNAME:TARGET%が%CALLNAME:ACTOR%に本を朗読ているようだ。
	PRINTFORML 「えーと…？ 『%TEXTR("ボールまてまて』/おおきいのはどっち？』/ぶらんこのせて』/びびでな ばびでな』")%」
CASE "哈娜"
	PRINTFORML %CALLNAME:TARGET%と%CALLNAME:ACTOR%が駆け回りながら玩具の光線銃で撃ち合っている…。
	PRINTFORML 「ばきゅーん！ ばきゅーん！ %TEXTR("このソファーは絶対防衛ラインだ！ 死守せよー/ほらどいたどいた！ ここは戦場だぞー！/そ　し　て　時がすこーーやかにーー♪/うわーっ！ 戦線を維持できませーん！！/撃て撃てー！ 地球は渡桑ぞー！")%」
		IF RAND:3 == 0
			PRINTFORML 『ふははははー、地球はこの哈娜帝国のものっス！ひれふすのだー！！』
		ELSEIF RAND:3
			PRINTFORML 『て、撤退っス！戦線を一時下げるっス！！』
		ELSE
			PRINTFORML 『た、弾が…　アパム、弾持ってくるっスア布ム！！』
		ENDIF
CASE "槞彁"
	PRINTFORML 「ほら、 %CNAME(CALLNAME_ACTOR)% %TEXTR("ゆで卵/お菓子/布丁/ボンタンアメ/ホット蛋糕")% 食べな～♪」
	PRINTFORML 「%TEXTR("何かこのコ とりあえずお腹いっぱいにさせてあげたいわぁ～/よ～しよ～し、好きなだけ食べなよ 取らないかんね/何喋ってるかはわかんないけどお腹空いてるのはわかるぞ～/気にしない気にしない！ どーせ誰かが勝手に食べちゃうんだから！")%」
CASEELSE
	CALL PRINT_TaiTaChara
	PRINTFORML 「へっくし！」
ENDSELECT


;--------------------------------------------------
;卡莉斯塔
;--------------------------------------------------
;ダメならスレでの報告か、修正版をうｐして頂けると助かります。
@TaiTaChara_K20
;イベントが起きる角色の名前を/区切りでこれに突っ込み、TEXTRで取り出す
#DIMS EVENT_TABLE
;イベント発生中の角色
#DIM ACTOR
;イベント発生中の角色の默认のCALLNAME
#DIMS CALLNAME_ACTOR

;現在この場にいる、自分以外の全角色の名前を取得する
EVENT_TABLE = %NAMES("対話可能角色一覧", TARGET)%
;誰も居ないなら終わり
IF EVENT_TABLE == ""
	PRINTFORML 「…っくしゅ。」
	PRINTFORML 「………？」
	RETURN 0
ENDIF

;この角色のイベントが起きる
CALLNAME_ACTOR = %TEXTR(EVENT_TABLE)%
ACTOR = FIND_COND(CALLNAME_ACTOR)
CALL PRINT_TaiTaChara, ACTOR

;この分岐はEVENT_TABLEが例えば弗理希艾尔/小菊/哈娜/なら等確率で３人のどれかの分岐に行く
SELECTCASE CALLNAME_ACTOR
CASE "哈娜"
	IF DEVENT("哈娜初会話") == 0
		PRINTFORML 「%CNAME("哈娜")%、%CNAME("一人称")%は%CALLNAME:TARGET%と申します。」
		PRINTFORML 「（耳と尾巴がぴょこぴょこ動いてて可爱…）」
		CALL SET_DEVENT, "哈娜初会話"
	ELSE
		IF RAND:3 == 0
			PRINTFORML 「Ｄ＆Ｄですね、版は何がよろしいでしょうか？」
			PRINTFORM 『あっ、5版持ってるっスよ　
			IF RAND:2 == 0
				PRINTFORML 今回は僕がMasterしときましょうかねー、前輩も一緒にどーっスか？』
			ELSE
				PRINTFORML じゃあ種族はドワーフでー、職はファイターかなー』
			ENDIF
		ELSEIF RAND:3
			PRINTFORML 「天使の輪も獣人の尾巴も、通常の人类には見えない以上、
			PRINTFORML 　本来の物理法則とは違う力が働いていることしか分かりませんね…。」
			PRINTFORML 『物理法則とは違う…　やはり天使ちから…？』
		ELSE
			PRINTFORML 「執事服についてですが、フォーマル制服のように、
			PRINTFORML 　定期的な手入れ等については心掛けていますよ。」
			PRINTFORML 『ふへー、中々に手間隙かかるんスねー』
		ENDIF
	ENDIF
CASE "帕拉奇娜"
	;作者桑が来た時困るやつだこれー！？
	IF DEVENT("帕拉奇娜初会話") == 0
		PRINTFORML 「教皇庁の方ですね。%CNAME("一人称")%は%CALLNAME:TARGET%と申します。宜しくお願い致します。」
		CALL SET_DEVENT, "帕拉奇娜初会話"
	ELSE
		IF RAND:2
			PRINTFORML 「他の天使の方々についてでしょうか？そうですね……。」
		ELSE
			PRINTFORML 「教皇庁は今どんな状況なのでしょうか？」
		ENDIF
	ENDIF
CASE "琉娜"
	IF DEVENT("琉娜初会話") == 0
		PRINTFORML 「%CNAME("琉娜")%は竜人…でしょうか？」
		PRINTFORML 「竜人は游戏でしか見ていないので良く分からなくて…。」
		CALL SET_DEVENT, "琉娜初会話"
	ELSEIF RAND:2 == 0
		PRINTFORML 「%TEXTR("では、これやってみましょう。/要望街道手下留情しませんよ。/うーん、そう来ますか…/（流石にリアルファイトは止めて下さい…）/最近、来る度游戏やってません？")%」
		PRINTFORML %CALLNAME:TARGET%と%CALLNAME:ACTOR%は%TEXTR("格闘游戏/蕾丝游戏/バックギャモン/パズル游戏/オセロ")%に興じているようだ。
	ELSE
		IF RAND:3 == 0
			PRINTFORML 「噂って怖いですね…。」
			PRINTFORML 「天使にも能力のせいで堕天使であるか疑われる方もいますし。」
		ELSEIF RAND:2 == 0
			PRINTFORML 「ふむふむ、竜石を使って本来の姿に返回ことは無いのですね。」
			;PRINTFORML %CALLNAME:TARGET%、それFEや。
		ELSE
			PRINTFORML 「天使にも性別は有ますよ。」
			PRINTFORML 「中性的な容貌の方々が割合的に多い等の理由で分からなくなっているだけで。」
		ENDIF
	ENDIF
CASE "乃々"
	IF DEVENT("乃々初会話") == 0
		PRINTFORML 「初めましてでしょうか、%CNAME("一人称")%は%CALLNAME:TARGET%と申します。」
		PRINTFORML 「ふむふむ、%CNAME("乃々")%は堕天使の兒童桑なのですね…。」
		CALL SET_DEVENT, "乃々初会話"
	ELSE
		IF RAND:2 == 0
			PRINTFORML 「天使の間では堕天使のイメージはやはり悪いようです。」
			PRINTFORML 「生まれだけで堕天使と扱われて、大変でしたか…？」
		ELSE
			;学園の七不思議についてはEVENT_K25_DAILYを参照。
			PRINTFORML 「この学園の七不思議は数十個もあるのですか！？」
			PRINTFORML 「数十個もあるなら、もはや七不思議では有ませんね…。」
			;PRINTFORML この学園そのものが不思議空間とでも言うつもりか。
		ENDIF
	ENDIF
CASEELSE
	CALL PRINT_TaiTaChara
	PRINTFORML 「…っくしゅ。」
	PRINTFORML 「………？」
ENDSELECT


;--------------------------------------------------
;祥子
;ここを参考にして書きました。有がとうございます！
;--------------------------------------------------
;ダメなら遠慮なく仰ってください
@TaiTaChara_K21
;イベントが起きる角色の名前を/区切りでこれに突っ込み、TEXTRで取り出す
#DIMS EVENT_TABLE
;イベント発生中の角色
#DIM ACTOR
;イベント発生中の角色の默认のCALLNAME
#DIMS CALLNAME_ACTOR

;発情期には会話は无
SIF COND("発情期")
	RETURN 0

;現在この場にいる、自分以外の全角色の名前を取得する
EVENT_TABLE = %NAMES("対話可能角色一覧", TARGET)%
;誰も居ないなら終わり
SIF EVENT_TABLE == ""
	RETURN 0

;この角色のイベントが起きる
CALLNAME_ACTOR = %TEXTR(EVENT_TABLE)%
ACTOR = FIND_COND(CALLNAME_ACTOR)
CALL PRINT_TaiTaChara, ACTOR

;この分岐はEVENT_TABLEが例えば弗理希艾尔/小菊/哈娜/なら等確率で３人のどれかの分岐に行く
SELECTCASE CALLNAME_ACTOR
CASE "琉娜"
	IF RAND:2
		PRINTFORML 「%CNAME("琉娜")%の武勇伝は凄いんですよ！」
		PRINTFORM 「なんでも
		IF RAND:4 == 0
			PRINTFORM エンジン事故で炎上した飛行機を下から支えて校庭に下ろし、数多くの人命を救った
		ELSEIF RAND:3 == 0
			PRINTFORM そのアンニュイな瞳で壁ドンされて堕ちた女子は数知れず、旧宿直室の奥の隠し扉の先に愛の巣がある
		ELSEIF RAND:2
			PRINTFORM 10000年以上前に起こった噴火がこの地に大災害をもたらし、南の湖を作った原因が%CNAME("琉娜")%の産声だ
		ELSE
			PRINTFORM %CNAME("琉娜")%の裏には石油王が居て、国会議員や県知事はもちろん、校長なんて顎で使える
		ENDIF
		PRINTFORML そうです、本当なんですか！？」
		PRINTFORML 『えぇ…何処のどいつよ、そんな噂流したの…』
	ELSE
		PRINTFORML 「わぁ、季節の食べ物がいっぱいですね。」
		PRINTFORML 「料理をするなら、%CNAME("一人称")%にも手伝わせてくださいっ。」
		PRINTFORML 『手伝ってくれるの？　有がとね、良い後輩を持てて嬉しいよー』
	ENDIF
CASE "卡莉斯塔"
	IF DEVENT("卡莉斯塔初会話") == 0
		PRINTFORML 「男の子で部員というのは珍しいですね。」
		PRINTFORML 「えっ、女の子なんですか？てっきり%CNAME("主人")%が性別の垣根を超えたのかと思いました。」
		CALL SET_DEVENT, "卡莉斯塔初会話"
	ELSE
		IF RAND:2
			PRINTFORML 「手が届きませんか？このお皿ですよね。%CNAME("一人称")%に任せてください。」
		ELSE
			PRINTFORML 「%CNAME("卡莉斯塔")%がいるってことは天国もあるんですね。どんなところなんですか？」
		ENDIF
	ENDIF
CASE "万音"
	IF DEVENT("万音初会話") == 0
		PRINTFORML 「この胸部、本物……ですか？またまた御冗談を♪」
		PRINTFORML 「そんな触ってもいいだなんて偽物なのがばれま……！！！！！」
		PRINTFORML 「%CNAME("一人称")%が……これ……%CNAME("万音")%っ！淫魔になるにはどうしたらいいんですか！？」
		;今も似たようなもんやで
		CALL SET_DEVENT, "万音初会話"
	ELSE
		PRINTFORML 「%CNAME("万音")%は淫魔ですから、その、こういう衝動には詳しいですよね。」
		PRINTFORML 「何か建议とか、有ませんか？」
		IF DEVENT("淫魔覚醒：万音", ACTOR)
			PRINTFORML 『発情をどうにかって……子を无たい本能そのものを無くしたらたいへんでしょう？』
			PRINTFORML 『せっかく%CNAMET(ACTOR, "主人")%がいるんだし、あやかったらいいのに……ってだめなの？』
			PRINTFORML 「%CNAME("一人称")%だって%CNAMET(ACTOR, "主人")%となら、でもこれからも有ますし……。」
			PRINTFORML 『牝の本能のままにするの、この世の一番の至福なのに。もったいない』
		ELSE
			PRINTFORML 『え、えっ、%CNAMET(ACTOR, "一人称")%に聞かれても……そ、その、ため込むとよくないから適度に発散とか』
			PRINTFORML 『それができないから悩ましいって、そ、それは、そういう気持ちはすごく、よくわかるけど』
			PRINTFORML 『そ、そういう場合って、%CNAMET(ACTOR, "主人")%にえっちしたいって拜托了んじゃ、だめなのかな』
			PRINTFORML 【わ、我だって、気兼ねなくしたいよ、したいけど……】
			PRINTFORML 「特別な方法は、無いんですね。有がとうございます。」
		ENDIF
	ENDIF
CASE "焰"
	IF DEVENT("焰初会話") == 0
		PRINTFORML 「%CNAME("焰")%は素敵なおしどり夫婦だと聞いていたので意外です。」
		PRINTFORML 「噂では朝の早い時間に起きて旦那桑に愛妻弁当を作ってあげているって聞いていたのに。」
		PRINTFORML 「えっ、有名ですよ。地獄の焔の朝袭って。」
		CALL SET_DEVENT, "焰初会話"
	ELSE
		IF RAND:2
			PRINTFORML 「%CNAME("一人称")%が本気で走ってない、ですか？きっ気のせいですよ……。」
		ELSE
			PRINTFORML 「共働きで忙しいとすれ違いは多いものなんですね。」
		ENDIF
	ENDIF
CASE "小菊"
	IF DEVENT("小菊初会話") == 0
		PRINTFORML 「蓬松頭发に綺麗なお和服！%CNAME("主人")%、この子どこから連れて来たんですか！？」
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%の見た目に感激している。
		CALL SET_DEVENT, "小菊初会話"
	ELSE
		PRINTFORML 「こんなに綺麗でも、怪談話に登場するとおどろおどろしくなっちゃうんですね。」
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%に見えないように叹气をついた。
	ENDIF
CASE "杏珠"
	IF RAND:2
		PRINTFORML 「え、尾巴の炎が消えたらどうなるか、ですか？」
		PRINTFORML 「%CNAME("一人称")%にもちょっと……試すのは怖いですし。」
		PRINTFORML %CALLNAME:ACTOR%は目の前でゆらゆらと燃える%CALLNAME:TARGET%の尾巴の先を両手で挟むように掴んだ
		PRINTFORML 「ふふっ、手では消えませんよっ。って水はダメです！ダメな気がするんです！」
	ELSE
		PRINTFORML 「えっ、そうなんですか？へぇ、あのお二人が。」
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%と八卦をしている。
	ENDIF
CASE "槞彁"
;人类年齢で14～15歳くらいの「巨乳」だそうです
	IF DEVENT("槞彁初会話") == 0
		PRINTFORML 「%CNAME("槞彁")%は、魔界では、何を、吃掉了んですか？」
		PRINTFORML 「う、うーん。何かの名前を言っているのは分かるんですが……。」
		PRINTFORML 「そのポーズはなんだか不穏過ぎませんかっ！？」
		CALL SET_DEVENT, "槞彁初会話"
	ELSE
		IF RAND:2
			PRINTFORML 「ううーん、%CNAME("槞彁")%は%CNAME("一人称")%より年下のはずですよね。なんでこんなに胸が。」
		ELSE
			PRINTFORML 「見れば見るほど不思議なお洋服です。きめ細かな感触で光沢も綺麗ですし、何で出来ているんですか？」
		ENDIF
	ENDIF
CASE "織"
	IF DEVENT("織初会話") == 0
		PRINTFORML 「吸血鬼ってあの！夜な夜な処女の血を啜るっていう！凄い！感激です！」
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%の手を掴みブンブンと振り回すように握手している。
		CALL SET_DEVENT, "織初会話"
	ELSE
		IF RAND:2
			PRINTFORML 「%CNAME("主人")%の魂だけじゃなくて血もっ！？」
		ELSE
			PRINTFORML 「%CNAME("織")%は男の子だけど女の子で%CNAME("主人")%のことが好きなんですよね！」
		ENDIF
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%の話を目を輝かせながら聞いている。
	ENDIF
CASE "アイリ"
;天敵その４
	IF DEVENT("アイリ初会話") == 0
		PRINTFORML 「%CNAME("一人称")%は%NAME:TARGET%と言います。%CNAME("アイリ")%。よろしくおねｇ！！！」
		PRINTFORML (ピンと立った三角の耳に人を邀请ように晃动的尾巴……ね、猫！！！)
		PRINTFORML 『%CNAMET(ACTOR, CALLNAME:TARGET)%？どうかしましたか？』
		PRINTFORML 「あっ……いえ、お願いします……。」
		PRINTFORML 脂汗を浮かべ顔色が悪い%CALLNAME:TARGET%通过やっとのことで言葉を絞り出した。
		CALL SET_DEVENT, "アイリ初会話"
	ELSE
		IF RAND:2
			PRINTFORML 「%CNAME("アイリ")%、その、友達料です！これで何とか！」
			PRINTFORML 『えっ%CNAMET(ACTOR, CALLNAME:TARGET)%？こんなの受け取れませんよ。何もしませんから！』
			PRINTFORML 「でっでも気が変わるかもしれませんし、中身は%CNAME("一人称")%の亲手自制の%TEXTR("乳酪蛋糕/スモーク乳酪/曲奇/大福")%です！」
			PRINTFORML 『普通に！普通になら貰いますから！止めてください！』
		ELSE
			PRINTFORML 「是这様吗、%CNAME("アイリ")%にも発情期が……辛いですよね。」
		ENDIF
	ENDIF
CASE "成美"
	IF DEVENT("成美初会話") == 0
		PRINTFORML 「%CNAME("主人")%の同班同学ですね、よろしくお願いします。」
		PRINTFORML (わっ%CNAME("一人称")%、威厳で負けてません、よね？せっ前輩ですしっ。)
		CALL SET_DEVENT, "成美初会話"
	ELSE
		CALL PRINT_STR, "「その、どんな気分なんですか？おっ男の人のってっ_／／／_」_L"
	ENDIF

CASE "莉雅拉"
	IF DEVENT("莉雅拉初会話") == 0
		PRINTFORML 「初めまして、ではないですよね？でもどこで……ああ、すみません目の前で考えこんじゃってっ。」
		PRINTFORML %CALLNAME:TARGET%通过親しみやすい空気を持つ%CALLNAME:ACTOR%と疑問に思いながら会話している。
		CALL SET_DEVENT, "莉雅拉初会話"
	ELSE
		IF RAND:2
			PRINTFORML 「噂では、この学校を見守っている幽霊がいるらしいんです。」
			PRINTFORML 「無くした物を見つけてくれたとか、温柔的介抱されて、その、エッチなことをされたりとか」
			PRINTFORML 「そんなこと、あるわけないですよね、あっははは……。」
		ELSE
			PRINTFORML 「%CNAME("莉雅拉")%は不思議な人ですね。」
			PRINTFORML 「この子と出会ってから色々な物が見えるよう成为了。でも、そのどれとも違う気がします。」
		ENDIF
	ENDIF
CASE "麦莉爱娜"
	IF DEVENT("メリィエー初会話") == 0
		PRINTFORML 「%CNAME("麦莉爱娜")%にはお子桑が居るって噂では聞いてましたが、%CNAME("主人")%の母親だったんですか！？」
		PRINTFORML 「え、えっとっ打招呼しなおしたほうがいいんでしょうか？\@ TRUE_SEX(MASTER) == "男性" ? 息子 # 娘 \@桑に是つもお世話になっていますっ。」
		CALL SET_DEVENT, "メリィエー初会話"
	ELSE
		IF RAND:2
			PRINTFORML 「%CNAME("麦莉爱娜")%、今日の授業なんですが……。」
		ELSE
			PRINTFORML 「老师なら多分知ってますよね……。」
			PRINTFORML 「%CNAME("一人称")%の胸はどうしたら大きくなると思いますか！」
		ENDIF
	ENDIF
CASE "帕拉奇娜"
	IF DEVENT("帕拉奇娜初会話") == 0
		PRINTFORML 「本物の修女服桑なんて初めてです！よろしくお願いします！」
		CALL SET_DEVENT, "帕拉奇娜初会話"
	ELSE
		IF RAND:2
			PRINTFORML 「祈りの作法を教えてくれませんか？もしかしたら何か変わるかもしれません。」
		ELSE
			PRINTFORML 「こっこれ！本場の乳酪ですよね！頂けるんですか！有がとうございます！」
		ENDIF
	ENDIF
CASE "ユリ"
;作者桑が来た時困るやつだ！
	;PRINTFORML 「%CALLNAME:ACTOR%は覚えていないかもしれませんが%CNAME("一人称")%達、一年生の頃は同じクラスだったんですよ。」
	;PRINTFORML 「あの頃は話しかける勇気が有ませんでしたが、縁というのは不思議なものですね。お話できて嬉しいです。」
CASE "哈娜"
;天敵その３
	IF DEVENT("哈娜初会話") == 0
	;哈娜桑の口上と対応しています。
		PRINTFORML 「您好、%CNAME("哈娜")%。%CNAME("一人称")%は%NAME:TARGET%と言います。」
		PRINTFORML 『あっ、ごめんなさい…　%CNAMET(ACTOR, "一人称")%は%CALLNAME:ACTOR%っス…』
		PRINTFORML (……あれ？謝られてしまいました。少し間も有ましたし。)
		PRINTFORML (それに頭に付いているあれって……狼の耳！？品定めされてる！？)
		PRINTFORML 「お、お手柔らかにお願いしますっ。」
		CALL SET_DEVENT, "哈娜初会話"
	ELSE
		IF RAND:2
			PRINTFORML 『%CNAMET(ACTOR, CALLNAME:TARGET)%！』
			PRINTFORML 「きゃぁぁぁーーー！おね、お願いです。出口てっ、出口てぇー！！！」
			PRINTFORML 『どうしたんスか？怖くないっスよ。』
			PRINTFORML (頭撫でられてる、ここままがぶりとやられちゃうんだ……。)
		ELSE
			PRINTFORML 「%CNAME("哈娜")%は小小的ころから発情期で困っているんですよね。」
			PRINTFORML 「%CNAME("一人称")%はごく最近からなので分からないことが多くて。」
			PRINTFORML 「前輩として何か建议は有ませんか？」
			PRINTFORML 『運動っス！！　もしくは…　前輩の%TEXTR("ちんちん/ちんこ")%っスかね…。』
			CALL PRINT_STR, "「ちんっ_／／／_えっと、運動をする時は呼んでくださいね。」_L"
		ENDIF
	ENDIF
CASE "樱"
	IF DEVENT("樱初会話") == 0
		PRINTFORML ソファーに座っている%CALLNAME:ACTOR%に%CALLNAME:TARGET%通过肩をトントンと叩き耳打ちした。
		PRINTFORML (あの、ここにいると%CNAME("主人")%と誰かが、その、催しますし、%CNAME("樱")%はここに是ないほうが)
		PRINTFORML 心配する%CALLNAME:TARGET%に%CALLNAME:ACTOR%は少し暗い顔をしたが、すぐに胸を張って当然のように宣言した。
		PRINTFORML 『安心してください%CNAMET(ACTOR, "一人称")%も%CNAMET(ACTOR, "対象")%の言う催す内に入っていますから！』
		PRINTFORML 「入ってるって、えっえええええええーーー！」
		CALL SET_DEVENT, "樱初会話"
	ELSE
		IF RAND:2
			PRINTFORML お勧めの小説、ですか？ええと%TEXTR("覚醒する調律/天より来たりて地を這うモノ/四大元素を統べた先/破滅的な光と抗いし恐竜/渓谷の龍騎兵/氷の民の三つ首竜/堕落の人工天使/蘇りし感染者/重ね合わせの真実")%なんていかがですか？
		ELSE
			PRINTFORML 「%CNAME("主人")%とそんなことが……。」
			PRINTFORML 「%CNAME("弗理希艾尔")%って凄いんですね。%CNAME("一人称")%も助けられてばかりです。」
		ENDIF
	ENDIF
CASE "六華"
;天敵之２
	IF DEVENT("六華初会話") == 0
		PRINTFORML 「%CNAME("六華")%。これから、よろしくお願いします。」
		PRINTFORML (なんとか普通地打招呼できたと思いますが、あの純粋な目で見られると生きた心地がしません……。)
		PRINTFORML %CALLNAME:TARGET%通过勇気を振り絞って努めて平静を装った。
		CALL SET_DEVENT, "六華初会話"
	ELSE
		IF RAND:2
			PRINTFORML 「えっ美味しそうな气味がする！？%CNAME("一人称")%はまだ生きたくてっ、どうか命ばかりは！？」
			PRINTFORML 「……あれ、鞄ですか？スモーク乳酪って言うんですよ。お一つ、どうですか？」
		ELSE
			PRINTFORML 「%CNAME("六華")%はこの地域の守り神なんですよね。」
			PRINTFORML 「いつも見守って下さって有がとうございます！」
		ENDIF
	ENDIF
CASE "阿丽努"
		PRINTFORML 「性欲を抑える方法って有ますか？」
		PRINTFORML 「酷いときには%CNAME("一人称")%が%CNAME("一人称")%でなくなるような、そんな状態になるんです。」
CASE "西西莉亚"
	IF DEVENT("西西莉亚初会話") == 0
		PRINTFORML 「ロルミスコー、ですか？」
		PRINTFORML 『ああ、ロマに伝わる妖精として転生した鼠さ、もしかしてと思ってね。』
		PRINTFORML 机の上に魔術書を広げた%CALLNAME:ACTOR%は鼠の絵が描かれている部分を指さした。
		PRINTFORML 「そうですね、全身真っ赤ですけど……この子じゃないと思います。」
		PRINTFORML 『ならいい、だが気をつけたまえ、この鼠は触れた相手を腫物で苦しめるやっかなものだからね。』
		PRINTFORML 『彼が床に伏せれば、困るのは%CNAMET(ACTOR, CALLNAME:TARGET)%だけではないことを承知しておくことだ。』
		PRINTFORML 「%CNAME("西西莉亚")%って物知りなんですね！またいろいろ教えてください！」
		CALL SET_DEVENT, "西西莉亚初会話"
	ELSE
		IF RAND:2
			PRINTFORML 「うぅーん、もっと温柔本は有ませんか？%CNAME("一人称")%には難しいです。」
		ELSE
			PRINTFORML 「その帽子、ずっと被ってますよね。お気に入りなんですか？」
		ENDIF
	ENDIF
CASE "濡烏の君"
;天敵その１
	IF DEVENT("濡烏の君初会話") == 0
		PRINTFORML (その美貌から何かと目立つ方だと思ってましたが、前よりも存在感が増したような……。)
		PRINTFORML (変わったのはもしかして%CNAME("一人称")%でしょうか？……なんだか近寄り難い気がします。)
		PRINTFORML 『何を見ている？鼠娘。私は%CNAMET(ACTOR, CALLNAME:TARGET)%を取って食ったりはせんぞ。』
		PRINTFORML 「あっ、はははっ……バレバレですね、お手柔らかにお願いしますっ。」
		CALL SET_DEVENT, "濡烏の君初会話"
	ELSE
		IF RAND:2 && TALENT:ACTOR:尾巴
			PRINTFORML 「ここなら騒がれませんしどうですか？」
			PRINTFORML 「尾巴を出す気にはなりませんか？きっと解放感が有ますよ！」
		ELSE
			PRINTFORML 「%CONDS("略称", ACTOR)%桑は凛々しくて、いつも堂々としていて羨ましいです。」
			PRINTFORML 「%CNAME("一人称")%なんかまだまだで。」
		ENDIF
	ENDIF
CASE "弗理希艾尔"
	IF DEVENT("弗理希艾尔初会話") == 0 && DEVENT("質問１") >= 0
		PRINTFORML 「%CONDS("略称", ACTOR)%桑、%TEXTR("掃除/洗濯/料理")%のお仕事、お手伝いしますね。」
		PRINTFORML 『あら、この悪逆非道のエロエロ悪魔に何か御用ですか？』
		PRINTFORML 「もう、あれは勘違いだったって、謝ったじゃないですかぁ。」
		CALL SET_DEVENT, "弗理希艾尔初会話"
	ELSE
		IF RAND:2
			PRINTFORML 「%CONDS("略称", ACTOR)%桑的家事は無駄がないですね。勉強になります。」
		ELSE
			PRINTFORML 「悪魔って、どういう種族なんですか？」
			PRINTFORML 「%CNAME("一人称")%達と同じように生活してますけど、違うんですよね？」
		ENDIF
	ENDIF
CASEELSE
	CALL PRINT_TaiTaChara
ENDSELECT


;--------------------------------------------------
;琉娜
;--------------------------------------------------
@TaiTaChara_K22
;イベントが起きる角色の名前を/区切りでこれに突っ込み、TEXTRで取り出す
#DIMS EVENT_TABLE
;イベント発生中の角色
#DIM ACTOR
#DIM ACTOR2
#DIM ACTOR3
;イベント発生中の角色の默认のCALLNAME
#DIMS CALLNAME_ACTOR


;現在この場にいる、自分以外の全角色の名前を取得する
EVENT_TABLE = %NAMES("対話可能角色一覧", TARGET)%
;誰も居ないなら終わり
SIF EVENT_TABLE == ""
	RETURN 0

;この角色のイベントが起きる
CALLNAME_ACTOR = %TEXTR(EVENT_TABLE)%
ACTOR = FIND_COND(CALLNAME_ACTOR)
CALL PRINT_TaiTaChara, ACTOR

VARSET ACTOR2
VARSET ACTOR3

;この分岐はEVENT_TABLEが例えば弗理希艾尔/小菊/哈娜/なら等確率で３人のどれかの分岐に行く
SELECTCASE CALLNAME_ACTOR
CASE "奥丝卡"
	IF DEVENT("奥丝卡初会話") == 0 && DEVENT("琉娜初会話", ACTOR) == 0
		PRINTFORML 「ふーん、魔界のお偉い桑かぁ…」
		PRINTFORML 『元、だがな。そう言うそなたは？』
		PRINTFORML 「学園に借住してるただのドラゴンだよ」
		PRINTFORML 『ふむ、そうか…まぁよろしく頼むぞ、%CNAMET(ACTOR, CALLNAME:TARGET)%よ』
		PRINTFORML 「ふふ、こちらこそ」
		PRINTFORML %CALLNAME:TARGET%と%CALLNAME:ACTOR%はお互いを微妙に牽制しながらもしっかりと握手した。
		CALL SET_DEVENT, "奥丝卡初会話"
	;ELSEIF RAND:4 == 0
		;PRINTFORML 
	ELSEIF RAND:3 == 0
		PRINTFORML 「%CNAME("奥丝卡")%の赤黑色稲妻って凄いなーカッコいいなー、羨ましいなー！」
		PRINTFORML 『何を言う%CNAMET(ACTOR, CALLNAME:TARGET)%よ、そなたの蒼と金の炎も華麗で見栄えが良いではないか』
		PRINTFORML %CALLNAME:TARGET%と%CALLNAME:ACTOR%は互相用特徴的な攻撃手段について語り合っている…。
	ELSEIF RAND:2
		PRINTFORML 「そう……そこの…で……%CNAME("奥丝卡")%の…で…を……ふふふ……」
		PRINTFORML 『ほうほう………それを……%CNAMET(ACTOR, CALLNAME:TARGET)%が…すれば……ククッ……』
		PRINTFORML %CALLNAME:TARGET%と%CALLNAME:ACTOR%は何かを企むようにこそこそと話し込んでいる。
		PRINTFORML どうやら%TEXTR(@"学園内の果実の不法収穫/運動という名目の手合わせ/如何にして%CALLNAME:MASTER%の寵愛を受けるか")%の計画を立てているようだ…。
	ELSE
		PRINTFORML 『ほら%CNAMET(ACTOR, CALLNAME:TARGET)%よ、香草茶だ。疲れに効くぞ』
		PRINTFORML 「おぁぁ～Thank you%CNAME("奥丝卡")%…はぁ～良い香りぃ…」
		PRINTFORML %CALLNAME:TARGET%通过内職の休憩中に%CALLNAME:ACTOR%に茶を淹れてもらっている。
	ENDIF
CASE "維吹"
	IF DEVENT("維吹初会話") == 0
		PRINTFORML 「へぇ、雪女と人类のハーフかぁ…よろしくね」
		PRINTFORML 「…なぁに、そんなに警戒して？　…ああ、『噂の』ねぇ…」
		PRINTFORML 「大丈夫大丈夫、無暗に火ぃ噴いたりしないし、ましてや暴力なんてもっての外だから…」
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%の警戒を解くように、しっかりと握手した。
		PRINTFORML …及び腰で、なおかつ尾巴を緊張気味にピンとさせながら…。
		CALL SET_DEVENT, "維吹初会話"
	ELSE
		IF RAND:4 == 0 && DEVENT("覚醒2", ACTOR)
			PRINTFORML 「%TEXTR("おほぉっ/はひぃっ/ひゃぁんっ/うひぇっ")%！？　ちょっ、せっ、背中冷たぁっ？！」
			PRINTFORML %TEXTR("内職をしていた/本を読んでいた/ぼんやりしていた")%%CALLNAME:TARGET%だが、いきなり素っ頓狂な声を上げて悶絶しだした。
			PRINTFORML どうやら%CALLNAME:ACTOR%がそれとなく飛ばした氷塊が襟首から入ったようだ…。
		ELSEIF RAND:3 == 0
			IF DEVENT("覚醒1", ACTOR)
				PRINTFORML 「ねぇ、前みたいな銀交じりの黒髪ってやらないの？」
				PRINTFORML 「あっちの方がカッコ良くて好きだったんだけどなぁ…」
				PRINTFORML %CALLNAME:ACTOR%の髪に手櫛を入れ一边继续、%CALLNAME:TARGET%通过少し残念そうにしている…。
			ELSE
				PRINTFORML 「なんていうかさ…%CNAME("維吹")%の髪ってカッコ良いよね」
				PRINTFORML 「%CNAME("一人称")%はこういうの好きだよ、うん」
				PRINTFORML そう言って%CALLNAME:TARGET%通过%CALLNAME:ACTOR%の髪を弄っている。
			ENDIF
		ELSEIF RAND:2
			PRINTFORML 「今度さ、一緒に裏山行かない？」
			PRINTFORML 「老师も知らない独自ルートがあるんだけど…どう？」
			PRINTFORML %CALLNAME:TARGET%通过熱心な様子で%CALLNAME:ACTOR%を誘っている…。
		ELSE
			PRINTFORML 「ねぇ、もうちょっと%TEXTR("こっち来なよ。/こっち来れない？")%　もっと近くで%CNAME(CALLNAME_ACTOR)%と話したいなぁ」
			IF RAND:2
				PRINTFORML 「…むぅ、来ないならこっちから行っちゃうもんね」
				PRINTFORML %CALLNAME:TARGET%通过面倒くさそうに叹气をつく%CALLNAME:ACTOR%の横に座り、積極的に話しかけている…。
			ELSE
				PRINTFORML 「…ふふ、嫌そうな顔しててもちゃーんと来てくれるんじゃん、偉い偉い」
				PRINTFORML 渋々、といった様子で近くに座った%CALLNAME:ACTOR%に、%CALLNAME:TARGET%通过嬉しそうな顔で話しかけている。
			ENDIF
		ENDIF
	ENDIF
CASE "恭子"
	IF DEVENT("恭子初会話") == 0
		PRINTFORML 「ま、魔法少女だって？！」
		PRINTFORML 「華麗な活躍が周日の朝に放送してたりは…しない？　むしろ深夜动画？」
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%に興味深々な様子だ…。
		CALL SET_DEVENT, "恭子初会話"
	ELSE
		IF RAND:2
			PRINTFORML （むむ…魔法少女というよりも小悪魔じゃない…？）
			PRINTFORML %CALLNAME:TARGET%通过複雑そうな目線を%CALLNAME:ACTOR%に向けている…。
		ELSE
			CALL PRINT_STR, @"「触手かぁ、%TEXTR(@"石竜の魔眼（ペトラアイズ）なら余裕で対処出来るらしいけど/どこの誰がそんなもん生み出すんだろうねぇ")%…」_L"
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%と触手について会話している。
		ENDIF
	ENDIF
CASE "乃々"
	IF DEVENT("乃々初会話") == 0
		PRINTFORML 「うっわぁ…か、可愛い男の子ぉ…」
		PRINTFORML 「…アレ？　あ、ああ、ゴメンね、何か雄っぽい气味がしたから間違えちゃった」
		PRINTFORML %CALLNAME:TARGET%通过頭を掻きながら%CALLNAME:ACTOR%に謝っている。
		CALL SET_DEVENT, "乃々初会話"
	ELSE
		IF COND("発情期")
			IF RAND:2
				CALL PRINT_STRL, "「………じゅるり………_H_」_L"
				PRINTFORML %CALLNAME:ACTOR%を見つめる%CALLNAME:TARGET%通过無意識に好色そうな笑みを浮かべながら舌なめずりしている…。
			ELSE
				CALL PRINT_STRL, @"「ふふ、%CNAME("乃々")%ってばホント可愛いなぁ…ふふふ…_H_」_L"
				PRINTFORML %CALLNAME:TARGET%通过妖しく微笑み一边继续、膝の上に座らせた%CALLNAME:ACTOR%の%TEXTR("下腹部を擦っている/耳に舌を這わせている")%…。
			ENDIF
		ELSE
			IF RAND:2
				PRINTFORML 「生徒会の役員やるのも大変だよねぇ」
				PRINTFORML 「ほら、すっごい肩凝ってるよ」
				PRINTFORML %CALLNAME:TARGET%通过椅子に座る%CALLNAME:ACTOR%の肩を揉みほぐしている。
			ELSE
				PRINTFORML 「ほぇ～…やっぱ黑色羽根と輪っかってカッコイイなぁ」
				PRINTFORML %CALLNAME:ACTOR%の羽根と輪を弄り一边继续、%CALLNAME:TARGET%通过そう零している。
			ENDIF
		ENDIF
	ENDIF
CASE "千穂"
	IF DEVENT("千穂初会話") == 0
		PRINTFORML 「あき无…？　…ああーなるほど、春夏冬って書いてそう読むんだ」
		PRINTFORML %CALLNAME:ACTOR%の自己紹介を聞き、%CALLNAME:TARGET%通过その名前の読みに感嘆している。
		CALL SET_DEVENT, "千穂初会話"
	ELSE
		IF RAND:2
			PRINTFORML （…やっぱり%CNAME("千穂")%ってドス黑色何かを抱えてるよねぇ…）
			PRINTFORML %CALLNAME:TARGET%通过どこか心配そうな目で%TEXTR("指輪に話しかける/窓の外を見つめる")%%CALLNAME:ACTOR%を見ている…。
		ELSE
			PRINTFORML 「大事な妹、ねぇ」
			PRINTFORML 「ふふ、%CNAME("一人称")%の姉酱に%CNAME("千穂")%の爪の垢を煎じて飲ませてやりたいよ」
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%と共通の話題で話そうとしている…。
		ENDIF
	ENDIF
CASE "玛丽"
	IF DEVENT("玛丽初会話") == 0
		PRINTFORML 「…聖…玛丽ナ？　…ははーん、竜殺しか…ま、よろしく」
		IF TALENT:恋慕 && DEVENT("玛丽初会話") && DEVENT("琉娜と聖槍") == 0
			PRINTFORML 「あーそうそう、聖槍…■■■■■だっけ？　すっごいカッコイイ武器らしいね」
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%とにこやかに握手しながらそこまで言うと、耳元に口を寄せて何か囁いた…。
			PRINTFORML その表情は笑顔ながらもどこか獰猛で、隠し切れない警戒心がにじみ出ている…。
			PRINTFORML （万が一%CALLNAME:MASTER%や%CNAME("一人称")%や他の部員に向けたりしたら、『そういう事』だって判断して本気で相手させてもらうから）
			CALL SET_DEVENT, "琉娜と聖槍"
		ELSE
			PRINTFORML %CALLNAME:ACTOR%に自己紹介され、にこやかに握手する%CALLNAME:TARGET%。
			PRINTFORML しかしその笑顔は普段の様子からはかけ出口た、どこか獰猛な露出笑容いるように見えた…。
			PRINTFORML （…竜殺しが相手なら『手下留情』は要らないか）
		ENDIF
		CALL SET_DEVENT, "玛丽初会話"
	ELSE
		IF RAND:4 == 0
			PRINTFORML 「…んあ？　ああ、ちょこっと考え事をね」
			PRINTFORML %CALLNAME:ACTOR%と話す%CALLNAME:TARGET%だが、どこか浮かない顔をしている…。
			PRINTFORML （…こうして竜殺しと仲良くしてるなんて同族には言えないなぁ…）
		ELSEIF RAND:3 == 0
			PRINTFORML 「聖玛丽ナはヤバい奴だって聞いてたから最初は警戒してたんだけど」
			CALL PRINT_STRL, "「実際会ってみたらただの_-_脳筋_…おっと、何でもないよ」_L"
		ELSEIF RAND:2
			PRINTFORML 「…%TEXTR("うん、乗り心地は飞龙が一番だろうねぇ/東洋の龍は基本的に善玉だから勘弁してあげてよ…？/白龍…！？　様を付けろよこの脳筋聖女！！/悪竜はねぇ…ホントどうしてあんな事するんだか…")%」
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%とドラゴンについて楽しそうに語り合っている…。
		ELSE
			PRINTFORM 「ふんぬぬぬぬ………！　
			IF RAND:3 == 0
				PRINTFORML だッしゃぁオラァ！　%TEXTR("やったぁ/ビクトリー")%！！　…ギリギリだったけど…」
				PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%との腕相撲に勝ったものの、その場に膝をついている…。
			ELSEIF RAND:2
				PRINTFORML う、あっ、うわあぁっ！？」
				PRINTFORML 思い切り力を入れた%CALLNAME:ACTOR%の一撃に、%CALLNAME:TARGET%通过回転しながら床に叩きつけられてしまった！
				CALL PRINT_STRL, "「あーイテテ…ホントさ、どういう身体してんの？　_-_脳筋なの_竜殺し補正でもかかってんの？」"
				PRINTFORML 起き上がった%CALLNAME:TARGET%通过唖然としながら腕を擦っている…。
			ELSE
				PRINTFORML ぬああぁっ、だぁぁ……！　…ふふ、やるじゃん…　%TEXTR("でも次はどうだろうねぇ？/今回は引き分けってことで…")%」
				PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%との腕相撲に引き分け、腕をプラプラさせている。
			ENDIF
		ENDIF
	ENDIF
CASE "祥子"
	IF DEVENT("祥子初会話") == 0
		PRINTFORML 「火鼠ってあの…皮衣の火鼠だよね？」
		PRINTFORML %CALLNAME:TARGET%通过興味津々といった様子で%CALLNAME:ACTOR%の耳や尾巴を撫でている。
		CALL SET_DEVENT, "祥子初会話"
	ELSE
		IF RAND:2
			IF RAND:5 == 0
				PRINTFORML 「旧宿直室の奥の隠し扉の先？　只の食料貯蔵庫だけど？」
				PRINTFORML （ていうか何で隠し扉の存在がバレてるんだろう…）
			ELSEIF RAND:4 == 0
				PRINTFORML 「飛行機を下から支えて…って出来るわけないでしょおっ！？」
			ELSEIF RAND:3 == 0
				PRINTFORML 「壁ドンって…発情してフラついちゃったのを支えてもらっただけなんだけど…」
			ELSEIF RAND:2
				PRINTFORML 「%CNAME("一人称")%、10000年も前に産まれてないんだけど…」
			ELSE
				PRINTFORML 「校長老师が顎で使えたら苦労はしないって…」
			ENDIF
			PRINTFORML 「なぁーんでそんな噂が広まっちゃってるかなぁっ…？」
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%の語る噂の内容に抱住了脑袋…。
		ELSE
			IF RAND:2
				PRINTFORML 「スモーク乳酪ねぇ…。今度作ってみようか…」
			ELSE
				PRINTFORML 「カッチカチの帯洞乳酪が好きってイメージは古いのかな…」
			ENDIF
			PRINTFORML %CALLNAME:TARGET%通过乳酪を食べる%CALLNAME:ACTOR%を見ながら考え事をしている。
		ENDIF
	ENDIF
CASE "卡莉斯塔"
	IF DEVENT("卡莉斯塔初会話") == 0
		PRINTFORML 「天使で…執事？　結構レアだね…」
		PRINTFORML %CALLNAME:TARGET%通过興味津々といった様子で%CALLNAME:ACTOR%と話している。
		CALL SET_DEVENT, "卡莉斯塔初会話"
	ELSE
		IF RAND:2
			PRINTFORML 「う゛あー……」
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%との游戏でボロ負けし、机に突っ伏して呻いている。
		ELSE
			IF RAND:3 == 0
				PRINTFORML 「んー、%CNAME("一人称")%達は蛇とか蜥蜴とはちょっと違うらしくて…」
			ELSEIF RAND:2
				PRINTFORML 「天使的には竜ってどう思うの？」
			ELSE
				PRINTFORML 「天使は男ばっかりだって聞いてたけど…」
			ENDIF
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%と互相用種族について会話している。
		ENDIF
	ENDIF
CASE "万音"
	ACTOR2 = FIND_COND("対話可能", "弗理希艾尔")
	IF RAND:3 == 0 && ACTOR2
		CALL PRINT_TaiTaChara, ACTOR, ACTOR2
		PRINTFORML 「ほーら、喧嘩しない喧嘩しない…」
		PRINTFORML %CALLNAME:TARGET%通过突っかかり合う%CALLNAME:ACTOR2%と%CALLNAME:ACTOR%を窘めようと右往左往している。
	ELSEIF RAND:2
		PRINTFORML 「あー、確かに結構凝ってるねー」
		PRINTFORM %CALLNAME:TARGET%%CALLNAME:ACTOR%の胸を
		IF TALENT:巨乳 == 1
			PRINTFORM 盗み見てうんうんと頷きながら
		ELSE
			PRINTFORM 羨ましそうに見つめながら
		ENDIF
		PRINTFORML 肩を揉んでいる。
	ELSE
		PRINTFORML 「…ふーん、淫魔も色々と世知辛いみたいだねぇ…」
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%の%TEXTR("話/愚痴")%を聞きながらどこか遠い目をしている。
	ENDIF
CASE "焰"
	IF DEVENT("焰初会話") == 0
		PRINTFORML 「げぇっ！！　地獄の焔！！？　何でここに！？」
		PRINTFORML 「あーその、そうだ、ごっ、ご結婚祝贺您！！　じゃあ%CNAME("一人称")%はこれで！」
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%を見るや否や早口でそう言うと逃げ出そうとした…。
		CALL SET_DEVENT, "焰初会話"
	ELSE
		IF RAND:2
			IF RAND:2
				PRINTFORML 「うあー…やっぱり怖いわぁ、地獄の焔…」
				PRINTFORML 「あっいや、何でも無いですハイ！」
			ELSE
				PRINTFORML 「な、何ですか老师…%CNAME("一人称")%まだ何もしてないですよー」
			ENDIF
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%の視線から逃れようとウロウロしている…。
		ELSE
			PRINTFORML （精霊様っぽい雰囲気がするからかなぁ）
			PRINTFORML （なんでか逆らえないんだよねぇ…）
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%の書類整理を渋々といった様子で手伝っている。
		ENDIF
	ENDIF
CASE "小菊"
	IF RAND:2
		PRINTFORML 「お願いだからさ、玄関で人形モードになるやめて……」
		PRINTFORML 「%TEXTR("帰って来た/夜廁所行く")%時、威圧感たっぷりですっごくビビるからさ……」
		PRINTFORML %CALLNAME:TARGET%通过きょとんとする%CALLNAME:ACTOR%にげんなりした様子で懇願している…。
	ELSE
		PRINTFORML 「面白色？　…そう、良かった」
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%と一緒に、持参した%TEXTR("料理雑誌/料理本/漫画")%を読んでいる。
	ENDIF
CASE "杏珠"
	IF RAND:3 == 0
		PRINTFORML 「ああコラ、あんまりイジんないで…」
		PRINTFORML %CALLNAME:TARGET%通过興味津々といった様子の%CALLNAME:ACTOR%に%TEXTR("翼/角/尾巴")%をいじられている。
	ELSEIF RAND:2
		PRINTFORML 「%TEXTR("…意外と很强な…/ああッ！？　それちょっ、待った！/ふ、余裕で勝てそうだね/…………")%」
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%と%TEXTR("トランプ/オセロ/はさみ将棋/ウノ")%をしている。
	ELSE
		PRINTFORML 「%TEXTR("へぇ/嘘/あれ")%、あそこそんな事になってるの？」
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%の話す八卦%TEXTR("に耳を傾けて/をメモに取って")%いる。
	ENDIF
CASE "槞彁"
	IF RAND:2
		PRINTFORML 「ああ、魔界語か…実家から辞書持ってくりゃ良かったなぁ……」
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%の話す言葉を聞き、残念そうにしている。
	ELSE
		PRINTFORML 「大方、故郷とかが色々大変なんでしょ？　ほら、これ食べて打起精神」
		PRINTFORM %CALLNAME:TARGET%
		IF FIND_COND("対話可能", "杏珠")
			PRINTFORM 杏珠と一緒になって
		ENDIF
		PRINTFORML %CALLNAME:ACTOR%に%TEXTR("間食用の小さい弁当/お菓子類/カットフルーツ")%を食べさせている。
	ENDIF
CASE "織"
	IF RAND:2
	PRINTFORM 「ふんぬぬぬぬ………！　
		IF RAND:3 == 0
			PRINTFORML だッしゃぁオラァ！　%TEXTR("やったぁ/ビクトリー")%！！」
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%との腕相撲に勝ってガッツポーズをしている。
		ELSEIF RAND:2
			PRINTFORML う、あ、ああぁっ……！　%TEXTR("負けたぁ/うぅ")%……吸血鬼も案外パワーあるねぇ……」
			PRINTFORML 「さーて、約束街道賞品を買いに行って给か…」
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%との腕相撲に負け、しぶしぶ%TEXTR("ジュース/お菓子/雑誌")%を買いに行った…。
		ELSE
			PRINTFORML ぬああぁっ、だぁぁ……！　…ふふ、やるじゃん…　%TEXTR("でも次はどうかな…？/今回は引き分けってことで")%」
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%との腕相撲に引き分けたようだ。
		ENDIF
	ELSE
		PRINTFORML （『ドラキュラもまたドラゴンの末裔だ』って誰かが言ってたけど本当なのかな？）
		PRINTFORML %CALLNAME:TARGET%通过興味津々といった様子で%CALLNAME:ACTOR%を見ている…。
	ENDIF
CASE "アイリ"
	IF DEVENT("アイリ初会話") == 0
		PRINTFORML 「ちょっとー…猫耳と傲嬌が背心マッチな可愛い後輩じゃないの…！」
		PRINTFORML %CALLNAME:TARGET%通过初めて会った%CALLNAME:ACTOR%を撫でようと逃げられながらも笑着いる…。
		PRINTFORML 『な、なんですか…？あの、なんでこっちに来るんですか……？』
		CALL SET_DEVENT, "アイリ初会話"
	ELSE
		IF RAND:2
			IF RAND:2
				PRINTFORM 「発情期って%TEXTR("辛いよねぇ/抑え効かなくなるよね")%……
			ELSE
				PRINTFORM 「%CNAME("一人称")%の場合は角が邪魔なんだけど、髪型決まらないよね……
			ENDIF
			PRINTFORML 分かるわ……」
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%と共通の悩みを語り合っている。
			PRINTFORML 『わかります？体質だからしょうがないですけど、困りますよね…』
		ELSE
			PRINTFORML 「あああ……やっぱりネコの後輩可愛い……撫でたい……」
			PRINTFORML にへらにへらと笑いながら手をワキワキさせる%CALLNAME:TARGET%通过、%CALLNAME:ACTOR%に訝しげな目を向けられている…。
			PRINTFORML 『逃跑べきかしら…？あの感じだと絶対毛並みめちゃくちゃにされそうだし…』
		ENDIF
	ENDIF
CASE "成美"
		PRINTFORML （やっぱあの子、ちょっとだけ雄の%TEXTS("气味")%がする…）
		PRINTFORML %CALLNAME:TARGET%通过少し訝しげに%CALLNAME:ACTOR%を看了过来。
CASE "莉雅拉"
	IF DEVENT("莉雅拉初会話") == 0
		PRINTFORML 「%CNAME(CALLNAME_ACTOR)%…先、生…？　んー、見覚えあるような無いような…？」
		PRINTFORML %CALLNAME:TARGET%通过微笑む%CALLNAME:ACTOR%を首を傾げながら見ている…。
		CALL SET_DEVENT, "莉雅拉初会話"
	ELSE
		IF RAND:2
			PRINTFORML 「うわぁ…あの人こんなんばっか読んでるの…？　ごくり…」
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%の読んでいた雑誌の内容に釘付けになっている…。
		ELSE
			PRINTFORML 「なッ…何で%CNAME("一人称")%%TEXTR("の秘密的家庭菜園のこと/が夜な夜な果物もいでるの")%知ってんの？！」
			PRINTFORML %CALLNAME:TARGET%通过秘密にしていることを%CALLNAME:ACTOR%に言われてしどろもどろになっている。
		ENDIF
	ENDIF
CASE "麦莉爱娜"
	IF DEVENT("麦莉爱娜初会話") == 0
		PRINTFORML 「えええぇっ！？　%CNAME(CALLNAME_ACTOR)%って悪魔だったんですかぁッ！？」
		PRINTFORML %CALLNAME:TARGET%通过慣れ親しんだ教師である%CALLNAME:ACTOR%の真実に素っ頓狂な声で叫んでいる。
		CALL SET_DEVENT, "麦莉爱娜初会話"
	ELSE
		IF RAND:2
			PRINTFORML 「いやー、未だに%CNAME(CALLNAME_ACTOR)%が悪魔だったなんて信じられないですよ…」
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%と談笑している。
		ELSE
			PRINTFORML 「%CNAME(CALLNAME_ACTOR)%！　もっと擅長く正体隠す方法教えて下さい！」
			PRINTFORML %CALLNAME:TARGET%通过そう叫びながら%CALLNAME:ACTOR%に土下座している…。
		ENDIF
	ENDIF
CASE "帕拉奇娜"
	ACTOR2 = FIND_COND("対話可能", "玛丽")
	IF RAND:2 && ACTOR2
		CALL PRINT_TaiTaChara, ACTOR, ACTOR2
		PRINTFORML 「…ねぇ、%CNAME("玛丽")%って元々あんなんなの？」
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%に%CALLNAME:ACTOR2%について色々聞き出している…。
	ELSE
		PRINTFORML （驱魔人だからドラゴンは管轄外だろうけど…）
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%の視線から隠れようとしている。
	ENDIF
CASE "ユリ"
	PRINTFORM 「ふんぬぬぬぬ………！　
		IF RAND:3 == 0
			PRINTFORML だッしゃぁオラァ！　%TEXTR("やったぁ/ビクトリー")%！！」
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%との腕相撲に勝ってガッツポーズをしている。
		ELSEIF RAND:2
			PRINTFORML う、あ、ああぁっ……！　%TEXTR("負けたぁ/うぅ")%……鬼って很强なぁ……」
			PRINTFORML 「しょうがない、約束街道賞品を買いに行って给か…」
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%との腕相撲に負け、しぶしぶ%TEXTR("ジュース/お菓子/雑誌")%を買いに行った…。
		ELSE
			PRINTFORML ぬああぁっ、だぁぁ……！　…ふふ、やるじゃん…　%TEXTR("でも次はどうかな…？/今回は引き分けね")%」
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%との腕相撲に引き分けたようだ。
		ENDIF
CASE "哈娜"
	IF DEVENT("哈娜初会話") == 0
		PRINTFORML 「お、おお…？　犬だかオオカミの耳が生えてて僕っ娘…ちょっと可愛すぎない…！？」
		PRINTFORML %CALLNAME:TARGET%通过元気よく自己紹介する%CALLNAME:ACTOR%を見て口角が上がりっぱ无になっている…。
		CALL SET_DEVENT, "哈娜初会話"
	ELSE
		IF RAND:3 == 0
			PRINTFORML 「そうそう……それをこっちに……」
			PRINTFORML 『な、なるほど…　そうするとこの式が出てくるんスか…』
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%に強請られたのか勉強を教えている。
		ELSEIF RAND:2
			PRINTFORML 「うりうりっ、このっこのっ…ああもう可愛いなぁ♪」
			IF RAND:2 == 0
				PRINTFORML 『ひゃっ、く、くすぐったいっスよ』
			ELSE
				PRINTFORML 『えへへー』
			ENDIF
			PRINTFORML %CALLNAME:TARGET%通过じゃれつく%CALLNAME:ACTOR%の狼耳を温柔的撫でている。
		ELSE
			IF RAND:3 == 0
				PRINTFORML 「イェーイ、ハイタッチハイターッチ！！」
				PRINTFORML 『ふっふっふ、僕たちのコンビネーション勝ちっスねー』
			ELSEIF RAND:2
				PRINTFORML 「へっへーん%CNAME("一人称")%らの勝ち、ざまーみろ！」
				PRINTFORML 『やった、勝ちー！！』
			ELSE
				PRINTFORML 『たしゅ、たすけて！琉娜セン布イ！！』
				PRINTFORML 「あっコラ、こっち来たら%CNAME("一人称")%まで…！」
			ENDIF
			PRINTFORML %CALLNAME:TARGET%と%CALLNAME:ACTOR%は游戏の協力PLAYで大盛り上がりしている。
		ENDIF
	ENDIF
CASE "樱"
	IF RAND:2
		PRINTFORML 「…ねえ、こういうのは興味ない？」
		PRINTFORM %CALLNAME:TARGET%%CALLNAME:ACTOR%
		IF RAND:3 == 0
			PRINTFORM 『%TEXTR("R'lyeh　～超古代遺跡の光と闇～/ダイナミック新時代！/ダイチノヒカリ/優しさの月、強き太陽/色々あって瀕死の神がスパルタ教育で戦士を育てるようです/MaxDash!!!/ムゲンの絆/輝きの戦士と１００体の魔物軍団/煌めけ銀河/不愛想サイバネティックファイター/1908年　ルサ・ルカ大爆発/暗黒の遺伝子、抗う運命/『OK、デッカくなったぜ弟者』『流石だよな俺ら』")%』
		ELSEIF RAND:2
			PRINTFORM 『%TEXTR("マイティ・アドベンチャラー/記憶はあかつきの果てに/Mirror13/ガラケー戦士GOGOGO!/勇ある心は輝く剣となりて/鍛えてますか？/神速芜菁トムシ/不運な僕が五重人格变成了ら毎日がクライマックスな件/Vampire♯Symphony/写真の中の平行世界")%』
		ELSE
			PRINTFORM 『%TEXTR("右に風を、左に切り札を/Pants→ＯＯＯ/リーゼント高校生のコズミック部/竜の魔法使と希望の姫君/戦場に果物の香りを添えて/進め！フルスロットル刑事/寺生まれのＴ桑、幽霊になる/エクストラ・エイド/天才兔と脳筋ドラゴン/逢魔ヶ時のKing")% 』
		ENDIF
		PRINTFORML という标题の本を勧めている。
		;标题モチーフは某特撮番組
	ELSE
		PRINTFORML 「…………」
		PRINTFORM %CALLNAME:TARGET%真剣な表情で表紙に
		IF RAND:3 == 0
			PRINTFORM 『%TEXTR("マンタの夏/ガラス玉のお姫様/フォルナム戦記/トルク歩き/幻視砲塔/南の島のエイリアン/竜虎伝")%』
		ELSEIF RAND:2
			PRINTFORM 『%TEXTR("金の海、銀の狼/うちの妹があまりにも可愛すぎる/砂糖と香料と素敵な爆弾/勇者大人は時給千円！/幸福の王子は笑わない/精灵の主人様/追憶の空")%』
		ELSE
			PRINTFORM 『%TEXTR("おかしな世界の取り替え子/嘘つきたちの壊れた世界/僕の妹/図書館司書とSIG-P220/メイガス・フィールド/白陽天動乱/断章ナイトメア")%』
		ENDIF
		PRINTFORML と書かれた文庫本を読んでいる。
		PRINTFORML どうやら%CALLNAME:ACTOR%から借りているようだ。
	ENDIF
CASE "六華"
	IF DEVENT("六華初会話") == 0
		PRINTFORML 「おおっ、拉米亚だ！　へぇ、こっちにもいるんだぁ…」
		PRINTFORML 「しかもあの祠の主ってことは蛇神様かぁ…有がたや有がたや」
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%を轻轻地拝んでいる。
		CALL SET_DEVENT, "六華初会話"
	ELSE
		IF RAND:3 == 0
			PRINTFORML 「金運招来か…へー、蛇神様ってやっぱり凄いなぁ…」
			PRINTFORML （…抜け殻貰ったら%CNAME("一人称")%にもご利益無いかな…？）
			PRINTFORML 自慢げに自分のご利益を話す%CALLNAME:ACTOR%を、%CALLNAME:TARGET%通过僅かに不純な目で見ている…。
		ELSEIF RAND:2
			PRINTFORML 「か、照相机で撮られたからって魂取られないって！」
			PRINTFORML 「それにテレビの中に人なんていないし…」
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%に現代の知識を教えようと四苦八苦している。
		ELSE
			PRINTFORML 「アオダイショウだっけ？　綺麗な鱗してるよねぇ」
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%と互相用尾巴を手入れしている。
		ENDIF
	ENDIF
CASE "阿丽努"
		PRINTFORML 「……その…発情期が…………」
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%に何やら相談事をしている…。
CASE "西西莉亚"
	IF RAND:2
		PRINTFORML 「うおぁぁ……面白そうなのに書いてある文字が全ッ然読めない……」
	ELSE
		PRINTFORML 「…やっぱ載ってないかぁ、人変化魔法……」
	ENDIF
	PRINTFORML %CALLNAME:TARGET%通过頭を抱えながら%CALLNAME:ACTOR%から借りた魔法書を読んでいる。
CASE "濡烏の君"
	IF RAND:2
		PRINTFORML 「ええい、给看尾巴んだよ尾巴を…」
		IF TALENT:ACTOR:尾巴
			PRINTFORML 『……%CNAMET(ACTOR, CALLNAME:TARGET)%にも有るだろうに。よくわからん奴だな』
		ELSE
			PRINTFORML 『尾巴？いったい何のことだ……%CNAMET(ACTOR, "一人称")%のどこにそんなものがある』
		ENDIF
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%の尾巴が見たくてたまらないようだ…。
	ELSE
		PRINTFORML 「へぇ………こんな紙っ切れがねぇ………」
		PRINTFORML 『紙切れ言うな。……まぁ、実際のところ私が作ったものは紙切れみたいな物なのだがな』
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%が書いたお札を手に取り、興味深そうに眺めている。
	ENDIF
CASE "弗理希艾尔"
	IF RAND:2
		PRINTFORML 「おおー流石女仆、手際の良さが%CNAME("一人称")%とは圆圈で違うねぇ」
		PRINTFORML 『あら、有がとうございます。フフ♪』
		PRINTFORML %CALLNAME:TARGET%通过テキパキと%TEXTR("掃除/洗濯/料理")%を進める%CALLNAME:ACTOR%を見て感心している。
	ELSE
		PRINTFORML 「ほー……へぇ……そんな調理法が……」
		PRINTFORML 『私が兒童の頃は、違うやり方が一番って言われてたんですけどね。面白色ものです』
		PRINTFORML %CALLNAME:TARGET%と%CALLNAME:ACTOR%は料理について会話している。
	ENDIF
CASEELSE
	CALL PRINT_TaiTaChara
ENDSELECT

;--------------------------------------------------
;乃々
;杏珠酱口上からお借りしました
;--------------------------------------------------
@TaiTaChara_K25
;イベントが起きる角色の名前を/区切りでこれに突っ込み、TEXTRで取り出す
#DIMS EVENT_TABLE
;イベント発生中の角色
#DIM ACTOR
;イベント発生中の角色の默认のCALLNAME
#DIMS CALLNAME_ACTOR

;まずは初期化
EVENT_TABLE = 

;現在この場にいる、自分以外の全角色の名前を取得する場合はこれ
EVENT_TABLE = %NAMES("対話可能角色一覧", TARGET)%

;誰も居ないなら終わり
IF EVENT_TABLE == ""
	PRINTFORML 「何か御用ですか？」
	RETURN 0
ENDIF

;この角色のイベントが起きる
CALLNAME_ACTOR = %TEXTR(EVENT_TABLE)%
ACTOR = FIND_COND(CALLNAME_ACTOR)
CALL PRINT_TaiTaChara, ACTOR

;この分岐はEVENT_TABLEが例えば弗理希艾尔/小菊/哈娜/なら等確率で３人のどれかの分岐に行く
SELECTCASE CALLNAME_ACTOR
CASE "弗理希艾尔"
	SELECTCASE RAND:2
	CASE 0
		PRINTFORML 「あ、%CNAME("一人称")%も%TEXTR("お菓子作り/ご飯")%をお手伝いしても良いですか？」
		PRINTFORM 『ええ、構いませんよ。
		SELECTCASE TALENT:料理擅長
		CASE 0
			PRINTFORML では、まずは%CNAMET(ACTOR, "一人称")%が手本をお見せしますから、%CNAMET(ACTOR, "二人称")%はそれを覚えておいてください』
			PRINTFORML 「是！」
		CASE 1
			PRINTFORML ……そうですね。いくつか手早くしなければならない工程があるので、そちらを頼んでもいいですか？　こちらがレシピです』
			PRINTFORML 「是、任せてください！」
		CASE 2
			PRINTFORML %CNAMET(ACTOR, "二人称")%が手伝ってくださるのであれば心很强ですね』
			PRINTFORML 「フフ……そう言われちゃうと照れちゃいます……」
		ENDSELECT
	CASE 1
		PRINTFORML 「%CNAME(CALLNAME_ACTOR)%っていつもしっかりしてますよね。どうやったらそういう感じにできるんですか？」
		PRINTFORML 『そうでもないですよ、いつも楽させて貰ってますしね。 ……很强て言うのであれば、頑張りすぎないこと、ですかねぇ』
	ENDSELECT
CASE "濡烏の君"
	IF CEVENT("濡烏初会話") == 0	
		PRINTFORMW 「あ！　你は%CNAME(CALLNAME_ACTOR)%ですね！」
		PRINTFORMW 『そうだが……生徒会と是え、一年生に知られていたとは意外だな』
		PRINTFORMW 「同じクラスの子が%CNAME(CALLNAME_ACTOR)%のことをものすごく褒めていて、なんかものすごく温柔とか、ちょっとツンとしてるけどそこがまたいいとか……」
		PRINTFORMW 『……フン』
		CALL SET_CEVENT, "濡烏初会話"
	ELSE
		IF RAND:2
			PRINTFORMW 「%CNAME(CALLNAME_ACTOR)%って紅茶も飲むんですね」
			PRINTFORMW 『ああ。好吃ものなら好き嫌いはしない。意外だったか？』
			PRINTFORMW 「そうですね。なんとなく和風って感じのイメージがあったので……」
		ELSE
			PRINTFORMW 『やはりいつ見ても男とは思えないな』
			PRINTFORMW 「是这様吗ね？」
			PRINTFORMW 『ああ。……%CNAMET(ACTOR, "二人称")%は嫌がらないのだな』
			PRINTFORMW 「可爱ものも好きですからね、それが似合うのは嫌じゃ有ません。……まあちょっとだけ複雑な気持ちもなくはないんですけど」
			PRINTFORMW 『それはすまなかった。……お詫びにといっては何だが、似合う和服を選んでやろうか』
			PRINTFORMW 「ホントですか！？　有がとうございます！」
		ENDIF
	ENDIF
CASE "哈娜"
	SELECTCASE RAND:2
	CASE 0
		PRINTFORML 「%CNAME(CALLNAME_ACTOR)%って人狼なんですよね？　つまりその尾巴とかも本物ってこと……」
		PRINTFORML 「……少しだけでいいので、尾巴触らせてもらってもいいですか」
	CASEELSE
		PRINTFORML 「ごめんなさい、この輪っかがどうなってるのかは分からないんですよ」
		IF FIND_COND("卡莉斯塔", "現在存在")
			IF DEVENT("卡莉斯塔初会話") == 0
				PRINTFORML 「卡莉斯塔桑なら知っているかもしれませんが……」
			ELSE
				PRINTFORML 「卡莉斯塔桑も知らないらしいですし……」
			ENDIF
		ENDIF
	ENDSELECT
CASE "織"
	SELECTCASE RAND:2
	CASE 0
		PRINTFORML 「確かにいきなり女の子の格好になれと言われても困りますよね……と是え今の%CNAME(CALLNAME_ACTOR)%の状態だと掛け合ってみても効果は薄そうですし……」
		PRINTFORML 「……%CNAME("一人称")%ですか？　恥ずかしくない訳ではないんですけど……こういう格好に違和感を感じないというか、むしろ自然な気がするというか……」
	CASE 1
		PRINTFORML 「%CNAME("一人称")%のバッグの横にあるお菓子ですか？　皆桑のために持ってきた物なので食べて大丈夫ですよ」
		PRINTFORML 「……ってあああ！！　それは会長が玩耍で買ってきたわさび入りの！！」
	ENDSELECT
CASE "成美"
	IF DEVENT("成美初会話") == 0
		PRINTFORML 「……那么、%CNAME(CALLNAME_ACTOR)%もこの部活に入っていたんですね」
		IF COND("助手可能")
			PRINTFORML 「その……理由については%CNAMET(PLAYER, "二人称")%から聞きました」
			PRINTFORML 「間接的と是え%CNAME("一人称")%達が原因のようなので、こちらでも直せるように調べてみます」
			IF MARK:ACTOR:屈服刻印 == 3 || TALENT:ACTOR:恋慕
				PRINTFORML 「……え？　その必要はない？」
				IF MARK:屈服刻印 == 3
					PRINTFORM 「%CNAME(CALLNAME_ACTOR)%も%ADANA("阴茎")%の快楽には勝てな……じゃなかった、
				ELSE
					PRINTFORM 「え……だ、大丈夫なんですか……？　ならいいですけど……
				ENDIF
			ELSE
				PRINTFORM 「あと、
			ENDIF
			PRINTFORML 体の……その、ソレのことで困ったら微力ながらお力になれると思うので、改めてよろしくお願いします」
		ELSE
			;人外だから普通に分かるも本人から告げられていないので対応に困る乃々酱君の図
			;委員長と生徒会なのでそこまで親しくはないけれど行事などで一緒になっていて顔見知り程度ではあるというイメージで書いています
			PRINTFORML 「そ、それでは……改めてよろしくお願いします……」
			PRINTFORML （も、もしかしてこれって……というか確実に魔力に中てられてアレなことになっているよね……）
			PRINTFORML （最近様子がおかしいって噂は聞いていたけれど……まさかこういうことだったとは……）
			PRINTFORML （でも%CNAME(CALLNAME_ACTOR)%は何も言ってこないし……どう接しよう……）
		ENDIF
		CALL SET_DEVENT, "成美初会話"
	ELSE
		IF COND("秋")
			PRINTFORML 「……あ、これですか？」
			PRINTFORML 「%TEXTR("野球/サッカー/水泳/バレーボール/将棋/吹奏楽/華道/ボード游戏/登山")%部から卒業アルバム用に三年生の集合写真を撮ってほしいと言われまして」
			PRINTFORML 「いくつか撮ったんですが、どれを選んだものかと……」
		ELSE
			SELECTCASE RAND:2
			CASE 0
				PRINTFORML 「……茶頂いてもいいんですか？　有がとうございます」
				IF MARK:ACTOR:屈服刻印 == 3 && RAND:2
					PRINTFORML 「……%CNAME(CALLNAME_ACTOR)%？　何か相談したいことでもあるんですか？」
					IF MARK:屈服刻印 == 3
						PRINTFORML 「……なるほど、%CNAME(CALLNAME_ACTOR)%の\@ CONDS("基本阴茎尺寸", ACTOR) == "短小" ? 可愛的 # 立派な\@%ADANA("阴茎")%についてですか」
						CALL PRINT_STRL, "「それはそれはもういろいろな使い方が……_H_」"
						PRINTFORML 「……ハッ！　……あ、あの……さっきのは忘れてください……」
					ELSE
						PRINTFORML 「！！！　……そ、その……『ソレ』について、は、ですね……」
					ENDIF
				ELSE
					PRINTFORML 「そういえばこの前、%TEXTR("体育館/生徒会室/職員室/運動場/泳池/教室")%でですね……」
				ENDIF
			CASE 1
				PRINTFORML 「%CNAME(CALLNAME_ACTOR)%、少しお疲れのように見えますし、休憩がてら、一緒に茶でも飲みませんか？」
			ENDSELECT
		ENDIF
	ENDIF
CASE "卡莉斯塔"
	IF DEVENT("卡莉斯塔初会話") == 0
		PRINTFORML 「你は……2年生の%CNAME(CALLNAME_ACTOR)%ですね」
		PRINTFORML 「堕天してない天使とまともに会話するのは初めてで、至らない点もあるとは思いますが、今後ともよろしくお願いします」
		CALL SET_DEVENT, "卡莉斯塔初会話"
	ELSE
		SELECTCASE RAND:2
		CASE 0
			PRINTFORML 「そうですね……%CNAME("一人称")%は自分が堕天使であることが辛かったことはそこまでないんですよ」
			PRINTFORML 「親しくしている友人たちのほとんどに先立たれてしまうのかと思うと恐ろしくなることは有ますが……」
		CASEELSE
			;他の人の口上とか見ると学校どころか街自体が不思議地帯ですよねぶっちゃけ
			PRINTFORML 「七不思議に限らず、この街自体が怪異現象やオカルトの類には事欠かない場所ですからねぇ」
			PRINTFORML 「みんなバレないようにしていると是え見たり感じたりしてしまう人是るみたいで、よくそういう雑誌の人が取材に来ているのを見かけますよ」
		ENDSELECT
	ENDIF
CASE "琉娜"
	IF DEVENT("琉娜初会話") == 0
		PRINTFORML 「%CNAME(CALLNAME_ACTOR)%、初めまして」
		PRINTFORML 「……？　なんですか？　%CNAME("一人称")%の顔に何か付いているんですか？」
		PRINTFORML 「え？　いや、%CNAME("一人称")%は確かに男ですが……」
		CALL SET_DEVENT, "琉娜初会話"
	ELSE
		SELECTCASE RAND:2
		CASE 0
			PRINTFORML 「そこまでしていただかなくても……でも有がとうございます」
			PRINTFORML 「あー……自己は気付いていなかったんですけど結構凝っていたんですね。痛気持ちいいです」
			IF COND("発情期", ACTOR)
				PRINTFORML 「……あの、ちょっと揉み方が……その……」
			ELSE
				PRINTFORML 「……ふぅ……気持ちいい゛だだだだだだだだっ゛！！」
			ENDIF
		CASEELSE
			PRINTFORML 「この輪っかと翼ですか？　正直に言いますと、結構面倒くさい代物なんですよ……」
			PRINTFORML 「翼は生え変わりとかがないので夏もこのままですし、おまけに両方とも黑色からか熱をすぐ吸収するんです」
			PRINTFORML 「幸い頑丈な体なのでどうにかなっていますが、そうじゃなかったら何回熱中症で倒れていたことか……」
		ENDSELECT
	ENDIF
CASE "玛丽"
	IF DEVENT("玛丽初会話") == 0
		PRINTFORML 「%CNAME(CALLNAME_ACTOR)%、初めまして。%NAME:TARGET%と言います。これからよろしくお願いしますね」
		PRINTFORML 「……え？　確かに%CNAME("一人称")%は天使ですが……え！？　法王庁の方なんですか！？」
		PRINTFORML 「ま、まあ一応法王庁については轻轻地は知っていますが……」
		PRINTFORML 「……ただ、%CNAME("一人称")%、厳密には堕天使なんですよ」
		PRINTFORML 「だから%CNAME(CALLNAME_ACTOR)%が期待しているようなことは多分出来ませんが……」
		CALL SET_DEVENT, "玛丽初会話"
	ELSE
		IF COND("相性○", ACTOR) && TALENT:料理擅長 && RAND:5 == 0
			;玛丽桑のほうのコメントアウトネタを元にさせていただきました
			PRINTFORML 「……え？　この曲奇ですか？」
			PRINTFORML 「これはですね、この前生徒会の皆桑のために作ったものの残りです」
			PRINTFORML 「皆たく桑食べてはくれたんですが、あまりにも作りすぎてしまって……」
			PRINTFORML 「……え？　食べたいんですか？」
			PRINTFORML 「でも、%CNAME(CALLNAME_ACTOR)%この前ふと……」
			PRINTFORML 「！　な、なんでも有ません！　どうぞどうぞ！！」
		ELSE
			PRINTFORML 「%CNAME(CALLNAME_ACTOR)%、何か御用ですか？」
		ENDIF
	ENDIF
CASE "真"
	IF DEVENT("真初会話") == 0
		;同類の气味を感じ取る乃々君の図
		PRINTFORML 「你は……○組の%CNAME(CALLNAME_ACTOR)%ですね」
		PRINTFORML 「これからよろしく……！」
		PRINTFORML 「……あの、もし困ったこととかあったら、相談に乗りますからね」
		PRINTFORML 「だから、よければ%CNAME("一人称")%からの相談に乗ってもらってもいいですか」
		CALL SET_DEVENT, "真初会話"
	ELSE
		SELECTCASE RAND:3
		CASE 0
			PRINTFORML 「今日、ちょっと良い茶葉を持ってきたんですけど、一緒に飲みましょうか」
			PRINTFORML 「……ところで、相談したいこととは何ですか？」
			IF COND("相性◎", ACTOR)
				IF YOKUBO()
					IF TALENT:ACTOR:恋慕
						CALL PRINT_STRL, @"「フフ_H_もしかして、%CNAME("主人")%との夜の生活についてだったり……_H_」"
					ELSE
						CALL PRINT_STRL, @"「いいじゃないですか_H_%CNAME("一人称")%と%CNAME(CALLNAME_ACTOR)%との仲なんですから_H_」"
					ENDIF
				ENDIF
			ENDIF
		CASE 1
			PRINTFORML 「今日、ちょっと良い茶葉を持ってきたんですけど、一緒に飲みましょうか」
			PRINTFORML 「……それで、今日は聞いて欲しいことがあって……」
			IF COND("相性○", ACTOR)
				IF YOKUBO() >= 2 && RAND:3 == 0
					PRINTFORML 「実は最近、寝ても覚めても欲求不満な状態で、どうしたものかと……」
				ELSEIF TALENT:尿道狂 && RAND:2
					PRINTFORML 「最近、おしっこする度に気持ちよくなって困ってて……」
				ELSEIF TALENT:恋慕
					PRINTFORML 「%CNAME("主人")%についてのことなんですが……」
				ENDIF
			ENDIF
		CASE 2
			PRINTFORML 「……%CNAME(CALLNAME_ACTOR)%の髪ってものすごいサラサラですよね……」
			PRINTFORML 「……ちょ、ちょっと触らせてもらっていいですか……？」
		ENDSELECT
	ENDIF
CASE "灯"
	IF DEVENT("灯初会話") == 0
		PRINTFORML 「你が%CNAME(CALLNAME_ACTOR)%ですね。%CNAME("一人称")%は%CALLNAME:TARGET%です」
		PRINTFORML 「……那个、我可以问一个问题吗？」
		PRINTFORML 「%CNAME(CALLNAME_ACTOR)%がいろんな人と……その……エッチしてると聞いたことあるんですが……」
		PRINTFORML 「……是真的吗……」
		PRINTFORML 「……分かりました。%CNAME("一人称")%が%CNAME(CALLNAME_ACTOR)%を監視します」
		IF YOKUBO()
			PRINTFORML 「确实、即使对方说不出口、也不能就此否认呢……」
			PRINTFORM 「那个姑且不论、
		ELSE
			PRINTFORM 「
		ENDIF
		PRINTFORML 至少从现在開始还请做好觉悟哦？」
		CALL SET_DEVENT, "灯初会話"
	ELSE
		IF (COND("相性○", ACTOR) || COND("相性◎", ACTOR)) && RAND:2
			SELECTCASE RAND:4
			CASE 0
				IF BASE:学力 <= 30 && RAND:2
					PRINTFORML 『这个是错的啊……』
					PRINTFORML 「……啊啊！　这里的答案应该是这样的嘛！　也就是说……」
				ELSE
					;灯君イベントとかぶるので封印
					;似たようなイベントを作って書く
					PRINTFORML 「……啊、这条裙子好可爱啊、其他的也……」
					PRINTFORML 「……そうだ！ 更衣室にいくつか可爱けど似合わないな、って思ってた服を持ってきてたんですよ！」
					PRINTFORML 「気に入ってくれたら持って行ってかまわないので、着てもらえませんか？」
					PRINTFORML 『おう、いいぞ』
					PRINTFORML 「是！ じゃあさっそくこれを……」
					;PRINTFORML 『啊、突、突然想去哪里啊……』
					;PRINTFORML 「え？ 決まってるじゃないですか、更衣室ですよ。%CNAME(CALLNAME_ACTOR)%に似合う服を尋找ための」
					;PRINTFORML 『ちょっ……！ じ、自己歩くから、ちょっと！ だ、誰かあああぁぁぁ……』
				ENDIF
			CASE 1
				IF DEVENT("乃々灯：化粧") == 0
					PRINTFORML 『唔嗯……』
					PRINTFORML 「？ 怎么了？」
					PRINTFORML 『不、只是化的妆掉了呀』
					PRINTFORML 『平时都会从家里带来化妆包的、只有今天忘在家里了』
					PRINTFORML 「原来如此……啊、那么要不要用%CNAME("一人称")%的呢？」
					PRINTFORML 「并不是一直都会带着化妆的东西啦、不过偶尔也会有需要化妆的时候、就是为了那种时候所以才偶尔带着啦」
					PRINTFORML 『好ー……那就恭敬不如从命了、嗯……』
					PRINTFORML 『……哦！ 这个眼影……』
					PRINTFORML 「え、もしかして%CNAME(CALLNAME_ACTOR)%も使ってるんですか！？」
					PRINTFORML 「这个相当不错吧！ 既便宜又耐用、而且对皮肤的伤害也很少呢……」
					PRINTFORML 『对对！而且……』
					CALL SET_DEVENT, "乃々灯：化粧"
				ELSE
					SELECTCASE RAND:3
					CASE 0
						PRINTFORML 「あ、試しに%CNAME(CALLNAME_ACTOR)%の化粧ポーチを試させてもらってもいいですか？」
						PRINTFORML 『哦哦、好啊ー』
					CASE 1
						PRINTFORML 「……啊、给、这是化妆水」
						PRINTFORML 『哦、谢谢……但是我知道。化妆水已经用完了』
						PRINTFORML 「总觉得手法要比平时的差一些啊……」
					CASEELSE
						PRINTFORML 「そういえば、%CNAME(CALLNAME_ACTOR)%って自然なメイクが多いですよね。服装的にもう少し濃くしても似合いそうですが……」
						PRINTFORML 『嗯？ 这种程度的话会更受男人的欢迎哦』
					ENDSELECT
				ENDIF
			CASEELSE
				PRINTFORML 「如果想这样拍照的话、要再把脸的角度稍微放低一点……」
				PRINTFORML 『哼哼……』
			ENDSELECT
		ELSE
			PRINTFORML 「……真是的、又做了那样的事情……」
			PRINTFORML 『没什么関系啦、又不会损失什么东西』
			PRINTFORML 「不、不是这个问题啊！ 那、那个、不管怎么看都是不纯异性交往吧……」
			PRINTFORML 『这种有着专利权一样的话不是%CNAMET(ACTOR, "二人称")%能说出来的吧ー』
			PRINTFORML 「唔！ 那、那是……」
		ENDIF
	ENDIF
CASE "奥丝卡"
	IF DEVENT("奥丝卡初会話") == 0
		PRINTFORML 「あ、初めまして。学園で生徒会の庶務をしている%CALLNAME:TARGET%と言います。……%CNAME(CALLNAME_ACTOR)%、ですよね？」
		PRINTFORML 『ああ、%CNAMET(ACTOR, "一人称")%が%CALLNAME_ACTOR%だが、……ふむ、お主は堕天使なのか』
		PRINTFORML 「是、母親が人类なのでハーフなんですけどね」
		PRINTFORML 『なるほど、少々変わった气息がしたのはそれが理由だったか。……だがしかし……』
		PRINTFORML 「ふぇっ！？　ちょ、ちょっと顔が近いですよ……！」
		CALL PRINT_STRL, @"『……この顔で男とは、中々そそるものがあるではないか_H_』"
		CALL PRINT_STRL, @"「え、い、いきなりどこ触ってぇ……っ_H_」"
		CALL SET_DEVENT, "奥丝卡初会話"
	ELSE
		IF RAND:2
			PRINTFORML 『%CNAMET(ACTOR, CALLNAME:TARGET)%よ、お主、仕事を押し付けられて是ないか？　この学園は確かに大号的規模のようだが、それにしても目に余るというものだ』
			PRINTFORML 「アハハ、やっぱりそう見えちゃいますよね……ここだけの話、あれって普通の生徒会だけの仕事じゃないんですよ」
			PRINTFORML 『普通の生徒会、と言うと普通ではない生徒会が存在するかのように思えるが』
			PRINTFORML 「それがですね、実は……」
		ELSE
			PRINTFORML 「そういえば、ちょっと聞いてみたいことがあるんですが、魔界ってどんなところなんですか？」
			PRINTFORML 『%CNAMET(ACTOR, CALLNAME:TARGET)%は魔界に行ったことがないのか？』
			PRINTFORML 「実はそうなんですよ。伯父は魔界にいたことあるらしいんですけど、それもだいぶ昔のことみたいで……」
		ENDIF
	ENDIF
CASE "槞彁"
	IF DEVENT("槞彁初会話") == 0
		CALL EVENT_槞彁COMM_LIBRARY, "日常Talk：乃々初めて"
		CALL SET_DEVENT, "乃々槞彁初会話"
	ELSE
		IF BASE:学力 <= 30
			SELECTCASE RAND:2
			CASE 1
				CALL EVENT_槞彁COMM_LIBRARY, "日常Talk：乃々１"
			CASEELSE
				CALL EVENT_槞彁COMM_LIBRARY, "日常Talk：乃々２"
			ENDSELECT
			PRINTFORML %CALLNAME:TARGET%に人类界のことを教えるつもりが、いつのまにか教わる立場に逆転してしまっているようだ……
		ELSE
			SELECTCASE RAND:2
			CASE 0
				CALL EVENT_槞彁COMM_LIBRARY, "日常Talk：乃々３"
			CASEELSE
				CALL EVENT_槞彁COMM_LIBRARY, "日常Talk：乃々４"
			ENDSELECT
		ENDIF
	ENDIF
CASE "诺伊"
	SELECTCASE RAND:3
	CASE 0
		PRINTFORMW 『お、%CNAMET(ACTOR, "乃々")%か。変なことはないか？』
		PRINTFORMW 「うん、%CNAME("二人称")%と一緒にいると楽しいし、%CNAME("诺伊")%とも会えるからね」
	CASE 1
		PRINTFORMW 『%CNAMET(ACTOR, "乃々")%、勉強の調子はどうだ？』
		PRINTFORMW 「う…………」
		PRINTFORMW 『……ハァ、教えてやるから、そこに座れ』
	CASE 2
		PRINTFORMW 「是、%CNAME("诺伊")%」
		PRINTFORMW 『ん？　これは……%TEXTR("シュー阴蒂ーム/布丁/巧克力/アップル餡餅")%か。もしかして練習してたのか？』
		PRINTFORMW 「うん。何個かは%CNAME("一人称")%が食べたんだけど、ちょっと作りすぎちゃって……お願いしてもいいかな？」
	ENDSELECT
CASE "梅普尔"
	IF CEVENT("梅普尔初会話") == 0
		PRINTFORMW 「あの、%CNAME("partner")%って英国の方なんですよね！」
		PRINTFORMW 『ああそうだとも、英国について質問があるのならこの灰色の脳細胞の後継者に是非とも――』
		PRINTFORMW 「向こうの植物園って本当に大きいんですか！？」
		PRINTFORMW 『あ、ああ、そうだが……』
		PRINTFORMW 「やっぱりそうだったんだ！　ほら、英国ってちょっと陰があるというか、哥特小説とか、あと最近ですとちょっとグロいですけどサメのアレとか主上ゃないですか」
		PRINTFORMW 「ああいうところにあこがれちゃうなーっていつも思ってて……」
		PRINTFORMW 『ははーん、もしや%CNAMET(PARTNER(), "二人称")%の趣味、中々変わっているな？』
		CALL SET_CEVENT, "梅普尔初会話"
	ELSE
		IF RAND:2
			PRINTFORMW 『――という訳さ。まったく我が国は何故隣国と吃飯で張り合おうとしなかったのか……』
			PRINTFORMW 「ハハハ……でもほら、カレーとかおいしいって言うじゃないですか」
			PRINTFORMW 『カレーは別の国の文化だねぇ』
			PRINTFORMW 「う……でもほら、紅茶もおいしいですし、他にもウィスキーとかジンとか……」
			PRINTFORMW 『両方とも飲み物だねぇ』
			PRINTFORMW 「う……だったら――」
		ELSE
			PRINTFORMW 「英国……というか、あの辺りってものすごくサッカーが盛んですよね」
			PRINTFORMW 『そうだねぇ、%CNAMET(PARTNER(), "一人称")%は興味もないのでほとんど記憶にないが……しかし少々意外だったよ。%CNAMET(PARTNER(), "二人称")%も同類だと思っていたのだが』
			PRINTFORMW 「アハハ、%CNAME("一人称")%自身は確かにそこまでなんですけど、弟がサッカーものすごく好きで――」
		ENDIF
	ENDIF
CASEELSE
	CALL PRINT_TaiTaChara
	PRINTFORML 「%CNAME(CALLNAME_ACTOR)%、何か御用ですか？」
	RETURN 0
ENDSELECT

PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%と\@CALLNAME_ACTOR == "槞彁" ? ダエモスラビヤ語で # \@楽しそうに雑談している……

;--------------------------------------------------
;風花維吹
;--------------------------------------------------
@TaiTaChara_K27
;イベントが起きる角色の名前を/区切りでこれに突っ込み、TEXTRで取り出す
#DIMS EVENT_TABLE
;イベント発生中の角色
#DIM ACTOR
;イベント発生中の角色の默认のCALLNAME
#DIMS CALLNAME_ACTOR

;まずは初期化
EVENT_TABLE = 

;入部の切っ掛け变成了人物なので心理的垣根が比較的低い
SIF FIND_COND("弗理希艾尔", "対話可能")
	EVENT_TABLE += "弗理希艾尔/"
;人类としての屈折が感じられないので一種の憧れを感じている
SIF FIND_COND("杏珠", "対話可能")
	EVENT_TABLE += "杏珠/"
;あらゆる意味で異文化の存在なので興味がわく対象
SIF FIND_COND("卡莉斯塔", "対話可能")
	EVENT_TABLE += "卡莉斯塔/"
;悪意にはなれてるが好意にはどう反応していいかわからない
SIF FIND_COND("琉娜", "対話可能")
	EVENT_TABLE += "琉娜/"
;アウトドア派仲間
SIF FIND_COND("哈娜", "対話可能")
	EVENT_TABLE += "哈娜/"

;現在この場にいる、自分以外の全角色の名前を取得する場合はこれ
;EVENT_TABLE = %NAMES("対話可能角色一覧", TARGET)%

;誰も居ないなら終わり
SIF EVENT_TABLE == ""
	RETURN 0

;この角色のイベントが起きる
CALLNAME_ACTOR = %TEXTR(EVENT_TABLE)%
ACTOR = FIND_COND(CALLNAME_ACTOR)
CALL PRINT_TaiTaChara, ACTOR

;この分岐はEVENT_TABLEが例えば弗理希艾尔/小菊/哈娜/なら等確率で３人のどれかの分岐に行く

SELECTCASE CALLNAME_ACTOR
CASE "弗理希艾尔"
	;オープニングの二割支支付。週の最後が支払日、ということにしておく(あくまでフレーバー)
	;相思相愛で取引を終了している、とする
	IF TEXTS("曜日") == "土" && TALENT:相思相愛 == 0
		PRINTFORML %CALLNAME:TARGET%「%CALLNAME:ACTOR%桑、今週の支支付だけど……」
		PRINTFORML %CALLNAME:ACTOR%『是是、いかほどでしょうか？』
		PRINTFORML %CALLNAME:TARGET%通过魂を上納している
		;0のこともあるけどな！
	ELSE
		PRINTFORML %CALLNAME:TARGET%「%CNAME("一人称")%が来た時より部室が広くなった気がするんだけど……」
		PRINTFORML %CALLNAME:ACTOR%『それはもちろん、皆桑に窮屈な思いをさせるわけに是きませんので』
		PRINTFORML %CALLNAME:TARGET%「いったいどうやって……？」
		PRINTFORML %CALLNAME:ACTOR%『企業秘密です♪』
	ENDIF
CASE "杏珠"
	IF COND("昼")
		IF RAND:2
			PRINTFORML %CALLNAME:ACTOR%『今から床マグマね！ イスとか机の上だけセーフ！』
			PRINTFORML その声に、イスに座っていた%CALLNAME:TARGET%が身じろぎした
			PRINTFORML 背もたれに身体を僅かに倒し、足を浮かせている
		ELSE
			PRINTFORML %CALLNAME:ACTOR%『ネットで振り付け覚えたからちょっと誰か 酱と踊れるか見てくれるー？』
			PRINTFORML %CALLNAME:TARGET%通过顔を上げ、%TEXTR("クルクル/ピコピコ/ふにゃふにゃ")%踊る%CALLNAME:ACTOR%をじっと見ている
			SELECTCASE RAND:3
			CASE 0
				PRINTFORML %CALLNAME:TARGET%「……いいんじゃない？」
			CASE 1
				PRINTFORML %CALLNAME:TARGET%「……改髪加えすぎ。いいのかどうかわからない」
			CASEELSE
				PRINTFORML %CALLNAME:TARGET%「……足の角度が違うよ」
			ENDSELECT
		ENDIF
	ENDIF
CASE "卡莉斯塔"
	SELECTCASE RAND:3
	CASE 0
		;職業について
		PRINTFORML %CALLNAME:TARGET%「%CALLNAME:ACTOR%桑は執事、弗理希艾尔小姐は女仆だよな？」
		PRINTFORML %CALLNAME:ACTOR%『そうですね』
		PRINTFORML %CALLNAME:TARGET%「……どう違うの？」
		PRINTFORML %CALLNAME:ACTOR%『歴史的な成り立ちから説明すると長くなりますが、分かり易く言うと……』
		PRINTFORML %CALLNAME:ACTOR%は%CALLNAME:TARGET%に執事と女仆の違いについて解説している
	CASE 1
		;天国について……と見せかけて映画について
		;天国がどんなところかはよくわからないので触れない
		PRINTFORML %CALLNAME:TARGET%「%CALLNAME:ACTOR%桑は天使ってことはさ……天国から来たの？」
		PRINTFORML %CALLNAME:ACTOR%『是、天界から来ました』
		PRINTFORML %CALLNAME:TARGET%「天国ではみんな海の話をするって本当か？」
		PRINTFORML %CALLNAME:ACTOR%『……名作ですよね、あの映画』
		PRINTFORML %CALLNAME:TARGET%と%CALLNAME:ACTOR%は映画の話をしている
	CASEELSE
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%の淹れた紅茶を黙って飲んでいる
		PRINTFORML 黙っているとどこかの令嬢とその執事、といった風情だ
	ENDSELECT
CASE "琉娜"
	SELECTCASE RAND:3
	CASE 0
		IF CEVENT("覚醒1")
			PRINTFORML %CALLNAME:TARGET%「……」
			PRINTFORML 黒くなった髪色を残念がる%CALLNAME:ACTOR%を一瞥すると、%CALLNAME:TARGET%の髪色に銀色が混じった
			PRINTFORML %CALLNAME:TARGET%「……ただの訓練の一環。こういうのは普段から練習が必要だから」
			PRINTFORML 喜ぶ%CALLNAME:ACTOR%に、かなり無理のある言い訳をしている
		ELSE
			PRINTFORML %CALLNAME:ACTOR%に髪色を褒められると、%CALLNAME:TARGET%通过わずかに顔をしかめた
			PRINTFORML %CALLNAME:TARGET%「この髪をいいと思ったことはないよ。染めていいなら染めたいぐらいだ」
			PRINTFORML %CALLNAME:TARGET%「……目立つからね。老师にゃは不良扱いだし、そっち系の前輩方には目をつけられるし」
			PRINTFORML %CALLNAME:TARGET%「サボる以外で素行を悪くしてるつもりはあまりないんだ」
		ENDIF
	CASE 1
		;知り合いが少なくて情報が遅いので一番末端の極端な風聞を聞いている
		PRINTFORML %CALLNAME:TARGET%「……人の噂はアテにならないものだよね」
		PRINTFORML %CALLNAME:TARGET%「いや、%CALLNAME:ACTOR%桑は聞いてたよりいい人だと思ってさ」
		PRINTFORML %CALLNAME:TARGET%「噂の内容はっと、……そうだね。怒らないなら話すよ」
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%に関するかなり誇張された風聞を語っている
	CASEELSE
		PRINTFORML %CALLNAME:ACTOR%は%CALLNAME:TARGET%に話しかけている
		PRINTFORML 随意相槌を打っていた%CALLNAME:TARGET%だったが、不意に口を開いた
		PRINTFORML %CALLNAME:TARGET%「%CALLNAME:ACTOR%桑はさぁ……。何で%CNAME("一人称")%に話しかけるの？　興味あるような話はできないと思うけど……」
		PRINTFORML %CALLNAME:TARGET%「嫌ってわけじゃないけど……、何を話せばいいのかわからない」
		PRINTFORML %CALLNAME:TARGET%通过戸惑っている
	ENDSELECT
CASE "哈娜"
	SELECTCASE RAND:2
	CASE 0
		;異能力が使える辺りで普通に見えるようになる
		IF CEVENT("覚醒2")
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%の耳と尾巴をじっと見ている
			PRINTFORML %CALLNAME:ACTOR%『どうしたんスか？』
			PRINTFORML %CALLNAME:TARGET%「気にしないで、最近見えるようになって珍しいだけだから」
			PRINTFORML %CALLNAME:ACTOR%は注目されてやりづらそうだ
		ELSE
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%の頭とお尻の辺りを啪嗒啪嗒と払った
			PRINTFORML %CALLNAME:ACTOR%『どうしたんスか？』
			PRINTFORML %CALLNAME:TARGET%「煤みたいなのがついてる」
			PRINTFORML %CALLNAME:ACTOR%『？　……有がとうございます？』
			PRINTFORML どうやら%CALLNAME:TARGET%には%CALLNAME:ACTOR%の耳と尾巴はぼんやりとしか見えないらしい
		ENDIF
	CASEELSE
		PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%と山について話している
		IF RAND:2
			PRINTFORML 「爬山となんか落ち着君だよね」
			PRINTFORML 「血筋なのかもしれないし、森林浴とか、そういうのの影響かもしれない」
		ELSE
			PRINTFORML 「虫はあんまり食べない。鳥とか兎の捌き方は知ってるけど、……勝手に獲っていいのか？」
			PRINTFORML 「山菜は良く採るけど……ん？　食べる話でよかったんだよな？」
		ENDIF
	ENDSELECT
CASEELSE
	;何もしゃべらない場合は出力无で戻す
	CALL PRINT_TaiTaChara
ENDSELECT

;--------------------------------------------------
;奥丝卡
;--------------------------------------------------
@TaiTaChara_K30
;イベントが起きる角色の名前を/区切りでこれに突っ込み、TEXTRで取り出す
#DIMS EVENT_TABLE
;イベント発生中の角色
#DIM ACTOR
#DIM ACTOR2
#DIM ACTOR3
;イベント発生中の角色の默认のCALLNAME
#DIMS CALLNAME_ACTOR


;現在この場にいる、自分以外の全角色の名前を取得する
EVENT_TABLE = %NAMES("対話可能角色一覧", TARGET)%
;誰も居ないなら終わり
SIF EVENT_TABLE == ""
	RETURN 0

;この角色のイベントが起きる
CALLNAME_ACTOR = %TEXTR(EVENT_TABLE)%
ACTOR = FIND_COND(CALLNAME_ACTOR)
CALL PRINT_TaiTaChara, ACTOR

VARSET ACTOR2
VARSET ACTOR3

;この分岐はEVENT_TABLEが例えば弗理希艾尔/小菊/哈娜/なら等確率で３人のどれかの分岐に行く
SELECTCASE CALLNAME_ACTOR
CASE "玛丽"
	IF DEVENT("玛丽初会話") == 0
		PRINTFORML 「…你…いやそなたは……ま、さか……そんな………！」
		PRINTFORML %CALLNAME:ACTOR%の姿を見た%CALLNAME:TARGET%通过一瞬目を見開いて驚いたが、すぐに真剣な顔で自己紹介を始めた。
		PRINTFORML 「ン゛ンッ、し、失礼…%CNAME("一人称")%は%CALLNAME:TARGET%、元魔界の貴族だ」
		PRINTFORML 「…信じてもらえぬかもしれんが、ここで騒ぎを起こしたり誰かに危害を加える気は毛頭無い」
		PRINTFORML 「だから、その、これからよろしく頼む」
		PRINTFORML 悪魔と聖女という本来相容れない関係故か、どこかぎこちないながらも%CALLNAME:TARGET%通过%CALLNAME:ACTOR%と握手した…。
		PRINTFORML （これは一体…何の因果で………）
		CALL SET_DEVENT, "玛丽初会話"
	ELSE
		IF RAND:3 == 0
			PRINTFORML 「あー、何というか…そなたは色々と軽すぎはしないか？仮にも聖女だろうに」
			PRINTFORML %CALLNAME:TARGET%通过気軽に自分に話しかけてくる%CALLNAME:ACTOR%に苦笑交じりで受け答えしている。
			PRINTFORML （%TEXTR(@"………これが本来の彼女の正しき姿…歩むべき道だったのだろうな………/………こんなにも温柔的人懐っこい少女に…%CNAME("一人称")%は…ッ…！")%）
		ELSEIF RAND:2
			ACTOR2 = FIND_COND("対話可能", "帕拉奇娜")
			ACTOR3 = FIND_COND("対話可能", "琉娜")
			IF RAND:3 == 0 && ACTOR3
				CALL PRINT_TaiTaChara, ACTOR, ACTOR3
				PRINTFORM %CALLNAME:TARGET%%CALLNAME:ACTOR3%%TEXTR("と腕相撲する/とドラゴンについて語り合う/の身体を撫でまわす")%
			ELSEIF RAND:2 && ACTOR2
				CALL PRINT_TaiTaChara, ACTOR, ACTOR2
				PRINTFORM %CALLNAME:TARGET%%CALLNAME:ACTOR2%%TEXTR("を振り回す/にプロレス技をかける/と真剣に話し合う")%
			ELSE
				PRINTFORM %CALLNAME:TARGET%楽しそうに雑談
			ENDIF
			PRINTFORML %CALLNAME:ACTOR%を、見守るような目で見ている。
			PRINTFORML （…こうして楽しく暮らしていてくれれば少しは救われる…のだが…）
		ELSE
			PRINTFORML 「な…なぁ…その………あぁ…いや、何でもない」
			PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%に何かを話しだそうとしたが、すぐに笑着ごまかした…。
			PRINTFORML （%TEXTR(@"言えない…あんな事、話せるわけが無いッ…！/だ、ダメだ…今の関係を崩しそうで…怖い…")%）
		ENDIF
	ENDIF
CASE "琉娜"
	IF DEVENT("琉娜初会話") == 0 && DEVENT("奥丝卡初会話", ACTOR) == 0
		PRINTFORML 『ふーん、魔界のお偉い桑かぁ…』
		PRINTFORML 「元、だがな。そう言うそなたは？」
		PRINTFORML 『…学園に借住してるただのドラゴンだよ』
		PRINTFORML 「ふむ、そうか…まぁよろしく頼むぞ」
		PRINTFORML 『ふふ、こちらこそ』
		PRINTFORML %CALLNAME:TARGET%と%CALLNAME:ACTOR%はしっかりと握手した。
		CALL SET_DEVENT, "琉娜初会話"
	ELSE
		;IF RAND:4 == 0
			;PRINTFORML 
		IF RAND:3 == 0 
			PRINTFORML 「そういえば竜よ。良い%TEXTR("廃工場/採石場跡")%を見つけたのだが…」
			PRINTFORML 『おおっ、じゃあ今度そこで運動だね！』
			PRINTFORML 運動とは言っているが、%CALLNAME:TARGET%と%CALLNAME:ACTOR%は何をするつもりなのだろうか…。
		ELSEIF RAND:2
			PRINTFORML 「これは…こうやって動いて…こう構えるのか？」
			PRINTFORML 『そうそう、そんな感じそんな感じ！今度、動画でお手本見せたげるね』
			PRINTFORM %CALLNAME:TARGET%%CALLNAME:ACTOR%と
			IF RAND:2
				PRINTFORM 『%TEXTR("マイティ・アドベンチャラー/記憶はあかつきの果てに/Mirror13/ガラケー戦士GOGOGO!/勇ある心は輝く剣となりて/鍛えてますか？/神速芜菁トムシ/不運な僕が五重人格变成了ら毎日がクライマックスな件/Vampire♯Symphony/写真の中の平行世界")%』
			ELSE
				PRINTFORM 『%TEXTR("右に風を、左に切り札を/Pants→ＯＯＯ/リーゼント高校生のコズミック部/竜の魔法使と希望の姫君/戦場に果物の香りを添えて/進め！フルスロットル刑事/寺生まれのＴ桑、幽霊になる/エクストラ・エイド/天才兔と脳筋ドラゴン/逢魔ヶ時のKing")% 』
			ENDIF
			PRINTFORML という本を読みながら何かのポーズを取っている…。
		ELSE
			PRINTFORML 「………………」
			PRINTFORML 『あ、あはは…ゴメン、淹れるのミスっちゃったね…』
			PRINTFORML %CALLNAME:TARGET%通过死んだ目をし一边继续、%CALLNAME:ACTOR%に淹れてもらった%TEXTR("咖啡/紅茶")%に砂糖とミルクを山ほど入れている…。
		ENDIF
	ENDIF
CASE "卡莉斯塔"
	IF DEVENT("卡莉斯塔初会話") == 0
		PRINTFORML 「ふん、堕天していない天使か…それにしてはあまり敵意を感じないな」
		PRINTFORML 「しかも執事の格好などしよって…悪魔である%CNAME("一人称")%に給仕でもしてもらおうか？」
		PRINTFORML %CALLNAME:TARGET%通过ニヤニヤ笑いながら%CALLNAME:ACTOR%をからかっている…。
		CALL SET_DEVENT, "卡莉斯塔初会話"
	ELSE
		IF RAND:2 && CEVENT("箱庭設置")
			IF RAND:2
				PRINTFORML 「ま、やらんとは思うが…熱くなりすぎて壊すなよ？」
				PRINTFORML 「壊した場合は…そなたの魂で補填させてもらうからな」
				PRINTFORML %CALLNAME:TARGET%通过箱庭に興味を示す%CALLNAME:ACTOR%に釘を刺している。
			ELSE
				PRINTFORML 「…むむ、%CNAME("一人称")%の知らない%("建物/人物/展開")%だと…？！」
				PRINTFORML 「貴様この游戏やりこんでいるなッ」
				PRINTFORML %CALLNAME:TARGET%通过自分以上に箱庭を理解している%CALLNAME:ACTOR%に少し嫉妬しているようだ…。
			ENDIF
		ELSE
			;IF RAND:2
			;	PRINTFORML 
			;ELSE
				PRINTFORML 「%TEXTR("むぅ………/ほう、そう来るか…だが想定済みだ/なッ…！そ、その一手待った！/ククッ…どうした、そんなものかぁ？ン～？/ぬぐぐっ、ここまで追いつめられるとは…！")%」
				PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:ACTOR%との%TEXTR("チェッカー/オセロ/将棋/チェス")%に熱中している。
			;ENDIF
		ENDIF
	ENDIF
CASE "真"
	IF DEVENT("真初会話") == 0
		PRINTFORML - 真 -
		PRINTFORML 『奥丝卡桑なんてお貴族様で美人で聡明でエッチで温柔的て――』
		PRINTFORML ｯｽｰｰｰｰ……
		PRINTFORML  『勝てるわけないだろーーーーッ！！』
		PRINTFORML 
		PRINTFORML -奥丝卡-
		SELECTCASE CONDS("基本阴茎尺寸", ACTOR)
		CASE "短小"
			PRINTFORML 「確かに真の粗末な扶她阴茎は%CNAME("一人称")%を満足させるには程遠い……」
			PRINTFORML 「勝敗以前の問題ではないか、そう%CNAME("一人称")%は思うのだがな」
		CASE "普通"
			PRINTFORML 「良くも悪くも真の扶她阴茎は普通よな」
			PRINTFORML 「%CNAME("一人称")%にとっては少々そのサイズでは物足りないのは事実ではあるが……身体の相性はモノの大小だけではあるまい」
		CASE "巨根"
			PRINTFORML 「随分と謙遜するのだな」
			PRINTFORML 「本当に真が%CNAME("一人称")%に勝てぬかどうか、%CNAME("主人")%が許すのであれば一戦交えてみようではないか？」
		CASE "馬根"
			PRINTFORML 「そなたは並大抵ではない扶她阴茎を持つと聞いているぞ」
			PRINTFORML 「%CNAME("一人称")%も女だからな。それほどの逸物に貫かれれば万に一つの敗北もないとは言えまいよ」
		;腕並、規格外
		CASEELSE
			PRINTFORML 「人类出口した尺寸の扶她阴茎を持つと言うのは本当か？」
			PRINTFORML 「誠であるならば%CNAME("一人称")%でなければそなたの相手は務圆圈まい。%CNAME("主人")%が許すのであれば存分に慰めてやろうではないか」
		ENDSELECT
		CALL SET_DEVENT, "真初会話"
	ELSE
		IF RAND:2 && CEVENT("箱庭設置")
			IF RAND:2
				PRINTFORML 「魔界ではそなたの様な両性具有も珍しいものではない」
				PRINTFORML 「一つ。%CNAME("一人称")%と一晩を過ごす権利を賭けて游戏をしようではないか」
				PRINTFORML %CALLNAME:TARGET%通过箱庭での游戏に%CALLNAME:ACTOR%を誘っている。
			ELSE
				PRINTFORML 「%CNAME("一人称")%に勝てたならば褒美を取らせよう」
				PRINTFORML 「%CNAME("主人")%が許すならば%CNAME("一人称")%の身体を一晩好きにさせてやっても良いぞ」
				PRINTFORML %CALLNAME:TARGET%通过挑発的に笑着%CALLNAME:ACTOR%を焚きつけている。
			ENDIF
		ELSE
			IF RAND:2
				PRINTFORML 「溜まっているのであろう？」
				PRINTFORML 「しょうがあるまい。%CNAME("一人称")%で良ければ楽にしてやろうではないか」
			ELSE
				PRINTFORML 「手が良いか、それとも口で奉仕してやろうか」
				PRINTFORML 「どうした。遠慮是らぬぞ。%CNAME("一人称")%の気が変わらぬうちに何でも申すが良い」
			ENDIF
		ENDIF
	ENDIF
CASEELSE
	;何もしゃべらない場合は出力无で戻す
	CALL PRINT_TaiTaChara
ENDSELECT


;--------------------------------------------------
;寧子
;構文は先人の方々のものをお借りしております。感謝。
;--------------------------------------------------
;CEVENT名に付けてるネコイベントはgrepで自分のとこ探しやすくしてるヤツです。

@TaiTaChara_K31
;イベントが起きる角色の名前を/区切りでこれに突っ込み、TEXTRで取り出す
#DIMS EVENT_TABLE
;イベント発生中の角色
#DIM ACTOR
;イベント発生中の角色の默认のCALLNAME
#DIMS CALLNAME_ACTOR

;現在この場にいる、自分以外の全角色の名前を取得する
EVENT_TABLE = %NAMES("対話可能角色一覧", TARGET)%
;誰も居ないなら欠伸して寝ろ
IF EVENT_TABLE == ""
	PRINTFORML 「ふぁぁあぅ……ぐぅ」
ENDIF

;この角色のイベントが起きる
CALLNAME_ACTOR = %TEXTR(EVENT_TABLE)%
ACTOR = FIND_COND(CALLNAME_ACTOR)
CALL PRINT_TaiTaChara, ACTOR

;この分岐はEVENT_TABLEが例えば弗理希艾尔/小菊/哈娜/なら等確率で３人のどれかの分岐に行く
SELECTCASE CALLNAME_ACTOR
CASE "弗理希艾尔"
	IF DEVENT("ネコイベント：フェリ初会話") == 0
		PRINTFORML 「やっぱりあれってそこそこに詐欺だよね」
		PRINTFORML 『あらら、意外と根に持たれてますね？』
		PRINTFORML 「メフィなんちゃらもビッ阴蒂な手口だったと思うけど」
		PRINTFORML 『はぁ、あちらもこちらも悪魔ですので別に変わりないかと』
		PRINTFORML 「……さいですか」
		CALL SET_DEVENT, "ネコイベント：フェリ初会話"
	ELSE
		IF COND("同居中", TARGET) && COND("同居中", ACTOR) && CFLAG:自我浣腸 >= 5 && DEVENT("ネコイベント：指摘フェリ") == 0
			PRINTFORML 『%CNAMET(ACTOR, CALLNAME:TARGET)%、少々可以吗？』
			PRINTFORML 「ん…%CNAME(CALLNAME_ACTOR)%…？ なんかあった？」
			PRINTFORML 『最近お通じの方が擅長くいっていないようですので、身体を暖める物などどうかと』
			PRINTFORML 「あ、え？ いや、べつに…そんなことは…無い…よな、無いんだけど？」
			PRINTFORML 『…？ それでは最近ゴミ箱に捨てられているお浣腸…………あっ』
			CALL SET_DEVENT("ネコイベント：指摘フェリ")
		ELSEIF DEVENT("ネコイベント：指摘フェリ") && RAND:4 == 0
			PRINTFORML 『あまり使いすぎるとお腹が緩くなりすぎますので、お気を付けくださいね』
			PRINTFORML 「……なんの話だか解んないけど覚えときます、是」
			PRINTFORML %CALLNAME:TARGET%と%CALLNAME:ACTOR%は何やら小声で密談をしているようだ…
		ELSEIF RAND:3 == 0
			PRINTFORML 「ん……给」
			PRINTFORML そう言って%CALLNAME:TARGET%通过%TEXTR("袋詰めの小鱼干/冷えたスポドリ")%を%CALLNAME:ACTOR%に押し付ける。
			PRINTFORML 当惑する%CALLNAME:ACTOR%を気にも留めず%CALLNAME:TARGET%通过打瞌睡の体勢に入ってしまった。
			PRINTFORML (……あれ、%TEXTR("お疲れ様って言うの忘れてた/これじゃ何で渡したか解んなくない？")%)
		ELSEIF RAND:2
			PRINTFORML 「悪魔だとは言うけどさ……」
			PRINTFORML 「それ以上に女仆として働き過ぎじゃない？」
		ELSE
			PRINTFORML 「……ｽｰ……ｽｰ……ｽｰ……」
			PRINTFORML 『……どうしましょうかねえ』
			PRINTFORML 掃除を目論んでいた場所を陣取って打瞌睡する%CALLNAME:TARGET%に、
			PRINTFORML %CALLNAME:ACTOR%は腕を組んで唸っている。
		ENDIF
	ENDIF
CASE "六華"
	IF DEVENT("ネコイベント：六華初会話") == 0
		PRINTFORML 「蛇、の…………神様、か」
		PRINTFORML 「…………うん？ いやいやいや」
		PRINTFORML 「冷静に考えたら何をどうしたら神様がここにいるわけさ」
		CALL SET_DEVENT, "ネコイベント：六華初会話"
	ELSE
		IF RAND:2
			PRINTFORML 「神様でも発情期はしっかりあるんだねえ」
			PRINTFORML %CALLNAME:TARGET%通过しげしげと%CALLNAME:ACTOR%を看了过来。
		ELSE
			PRINTFORML 「うーん……」
			PRINTFORML 悩ましげな様子で眉間に皺を寄せる%CALLNAME:TARGET%通过、%CALLNAME:ACTOR%と距離を取るようにしていた。
			PRINTFORML (神様……神様かぁ)
		ENDIF
	ENDIF
CASE "哈娜"
	IF DEVENT("ネコイベント：哈娜初会話") == 0
		PRINTFORML 「わお、驚いた。犬の人も居るんだねえ」
		PRINTFORML 『あ、あの！……犬じゃないんっス、違うんっス、おーかみなんっス……』
		PRINTFORML 「おっとこれは……本当に、その、失礼……ごめんね、おーかみ酱」
		PRINTFORML 『……っス』
		CALL SET_DEVENT, "ネコイベント：哈娜初会話"
	ELSE
		IF RAND:2
			PRINTFORML 「おーかみ酱はちっこくて可愛いなあ」
			PRINTFORML 「…………失礼、いや、本当に」
			PRINTFORML そわそわとしていた%CALLNAME:TARGET%通过%CALLNAME:ACTOR%を背後から抱き締める。
			PRINTFORML 「へへへ……あぁ、やっぱり暖かい……寝れるわこれ」
			PRINTFORML そして就这様体重を掛けると静かに目を閉じた。
		ELSE
			PRINTFORML 「游戏はあんまりやったことないんだよね」
			PRINTFORML 「ああ、でもウチにファミコンはあったな」
			PRINTFORML 「なんだっけ、反省猿ジロー君の……え、ファミコンと超市ファミコンは別？」
			PRINTFORML 「…………そ、そうなんだ」
		ENDIF
	ENDIF
CASE "アイリ"
	IF DEVENT("ネコイベント：アイリ初会話") == 0
		PRINTFORML 『あの…そんなにじーっと見られると落ち着かないんだけど』
		PRINTFORML 「ああ……うん、ごめん。天然モノって本当に居るんだなぁって思って」
		PRINTFORML 『テ、テンネンモノ？』
		PRINTFORML 「あーその……おーらい、なんでもない。よろしく、ねこ前輩」
		PRINTFORML 『いや、確か同級生でしょ…？』
		PRINTFORML 「そこはまぁ、しょーがないということでどうか」
		CALL SET_DEVENT, "ネコイベント：アイリ初会話"
	ELSE
		IF COND("同居中", TARGET) && COND("同居中", ACTOR) && CFLAG:自我浣腸 >= 5 && DEVENT("ネコイベント：指摘アイリ") == 0
			PRINTFORML 『そう言えば寧子、你大丈夫なの？』
			PRINTFORML 「え？ 大丈夫って……何が？」
			PRINTFORML 『お通じよ、入れる薬に頼ってるみたいだし』
			PRINTFORML 「く、くす…あ、ああ！ あー！ ね、ちょっとね！ いや、大変なんだよね！ うん！ 辛くって！」
			PRINTFORML 『そう……本当に辛いのね。今度暖かくするのとか効きそうなモノ持ってくるわね』
			PRINTFORML 「え、あ、是……アリガトウゴザイマス…」
			CALL SET_DEVENT, "ネコイベント：指摘アイリ"
		ELSEIF DEVENT("ネコイベント:指摘アイリ") && RAND:6 == 0
			PRINTFORML 『ほらここ、ここのツボとか中々出ない時に効くから覚えておくと良いわよ』
			CALL PRINT_STRW, "「お、おぉおお……是ぃい……おぼえるぅう_BH_…ねこ前輩…マッサージ擅長いなぁああ…_BH_」"
			PRINTFORML 『変な声出さないでくれる…？』
		ELSEIF RAND:5 == 0
			PRINTFORML 「あのーねこ前輩、ちょーっと%TEXTR("現国/数学/英語/地歴")%教えて欲しいんだけど」
			PRINTFORML 「確か授業の進み具合はウチのクラスと変わらなかったよね？」
			PRINTFORML 「小テストの追試が……ああ、いや、授業は聞いてたよ」
			PRINTFORML 「ちょっと、その……%TEXTR("夢とごっちゃになってまして/睡眠学習、的な？")%……はは、ははははは」
		ELSEIF RAND:4 == 0 && CFLAG:ACTOR:マタタビ != 0
			PRINTFORML 「うん？マタタビで酔っぱらう？」
			PRINTFORML 「そう言えば%CNAME("一人称")%はそういう経験無いな……」
			PRINTFORML 「天然モノとの違いかなぁ」
		ELSEIF RAND:3 == 0
			PRINTFORML 「ナワバリ的な意識ってよく解らないんだよねえ」
			PRINTFORML 「実際どの辺が誰のナワバリとかってあるのかな、ねこ前輩？」
		ELSEIF RAND:2
			PRINTFORML 「あ、ねこ前輩」
			PRINTFORML 「%TEXTR("ちょっと味が濃い目だけど/良いのが入ったんだ")%、おひとついかが？」
			PRINTFORML 「うん、小鱼干だけど」
		ELSE
			PRINTFORML 腕を組んで突っ伏した%CALLNAME:TARGET%通过、薄目で%CALLNAME:ACTOR%を見ていた。
			PRINTFORML (%TEXTR("羨ましいって思っちゃ、いけないんだけどね/最初から猫混じりだったら……か/……我ながらこう、卑しいなぁ")%)
		ENDIF
	ENDIF
CASE "祥子"
	;初手の冗談に失敗するコミュ障の鑑
	IF DEVENT("ネコイベント：祥子初会話") == 0
		PRINTFORML (…………ああ、なるほど、鼠か。しかも、前輩)
		PRINTFORML 「あの……がおっ！！なんて言って取って食べたり――」
		PRINTFORML 「しないから、安心して下さいです……って言おうと思ったんだけど」
		PRINTFORML 「…………固まっちゃったなあ」
		CALL SET_DEVENT, "ネコイベント：祥子初会話"
	ELSE
		;根本では多分違うと思います
		IF RAND:2
			PRINTFORML (似た境遇みたいだし、仲良くしたいんだけどねえ……ねずみ前輩)
			PRINTFORML じぃっと眠たげな眼で%CALLNAME:ACTOR%を見つめる%CALLNAME:TARGET%の視線は
			PRINTFORML 傍から見れば静かに獲物を見繕う猫のそれに似ていた。
		ELSE
			PRINTFORML 「……ねずみ前輩冬場ウチに来てくれたりしないかな」
			PRINTFORML 「あの暖かそうな尾巴だけでも……ああ、いや、冗談だから逃げないでくださいです」
		ENDIF
	ENDIF
CASE "琉娜"
	IF DEVENT("ネコイベント：琉娜初会話") == 0
		PRINTFORML 「……色々伝説がある卒業生が居るっては聞いてたけど……マジに竜です？」
		PRINTFORML 『ん？ この街道マジに竜だよ？』
		PRINTFORML そう言って%CALLNAME:ACTOR%は解り易く翼と角を見せた。
		PRINTFORML 「わぁお……マジに竜なおねー桑だあ」
		;PRINTFORML 「略してマリオかぁ……」
		PRINTFORML 『よろしくね、マジに猫な後輩♪』
		PRINTFORML 「えと、是……」
		PRINTFORML 「……っていや、マジに猫じゃないし……です」
		CALL SET_DEVENT, "ネコイベント：琉娜初会話"
	ELSE
		IF RAND:2
			PRINTFORML 「あー、マジに竜なおねー桑」
			PRINTFORML 「100Ｍ走5秒台って噂、あれもマジです？」
		ELSE
			PRINTFORML 「たまーになんだけどマジに竜なおねー桑から土っぽい气味するんだよね」
			PRINTFORML 「……この辺にそんな手入れするほどの花壇とか畑とかあったっけ」
		ENDIF
	ENDIF
CASE "千紗"
	IF DEVENT("ネコイベント：千紗初会話") == 0
		PRINTFORML 『はじめまして猫桑！%CALLNAME:ACTOR%です！』
		PRINTFORML 「お、おう……おう？」
		PRINTFORML 『……むー、%CALLNAME:ACTOR%です！お名前おしえてください！』
		PRINTFORML 「あ、えぇと、ご精心どうも。%CALLNAME:TARGET%……です？」
		PRINTFORML 『わぁ～猫桑はねこ桑なんですね！』
		PRINTFORML 「いや、ねこ桑じゃなくてねいこ桑です」
		CALL SET_DEVENT, "ネコイベント：千紗初会話"
	ELSE
		IF RAND:3 == 0
			PRINTFORML %CALLNAME:ACTOR%は%CALLNAME:TARGET%の晃动的黒毛の尾巴を目で追いながらそわそわとしている…
			PRINTFORML 「ですっ子酱、ステイ」
			PRINTFORML 『……むー』
			PRINTFORML どうやら無言の攻防があったらしい…
		ELSEIF RAND:2
			PRINTFORML 「……ふぁあ」
			PRINTFORML 『ふにゃぁあ♪』
			PRINTFORML %CALLNAME:ACTOR%は%CALLNAME:TARGET%の欠伸に合わせて物真似をして和我一起玩いるようだ。
			PRINTFORML 「……楽しい？」
			PRINTFORML 『えへへ♪ 是！』
			PRINTFORML 「そか……まぁ、良いけど」
		ELSE
			PRINTFORML 窓辺で遠くを見ていた%CALLNAME:TARGET%に%CALLNAME:ACTOR%がひょっこりと顔を出す。
			PRINTFORML 『ねこ桑ねこ桑、どうしました？なにかみえます？』
			PRINTFORML 「うぉ！？ ……あぁいや、ぼーっとしてただけ』
		ENDIF
	ENDIF
CASEELSE
	CALL PRINT_TaiTaChara
	;隙あらば欠伸
	PRINTFORML 「はぁぁあ～……ふぅ……ねむ」
ENDSELECT

;--------------------------------------------------
;望木灯
;--------------------------------------------------
@TaiTaChara_K35
;イベントが起きる角色の名前を/区切りでこれに突っ込み、TEXTRで取り出す
#DIMS EVENT_TABLE
;イベント発生中の角色
#DIM ACTOR
#DIM ACTOR2
#DIM ACTOR3
;イベント発生中の角色の默认のCALLNAME
#DIMS CALLNAME_ACTOR


;現在この場にいる、自分以外の全角色の名前を取得する
EVENT_TABLE = %NAMES("対話可能角色一覧", TARGET)%
;誰も居ないなら終わり
SIF EVENT_TABLE == ""
	RETURN 0

;この角色のイベントが起きる
CALLNAME_ACTOR = %TEXTR(EVENT_TABLE)%
ACTOR = FIND_COND(CALLNAME_ACTOR)
CALL PRINT_TaiTaChara, ACTOR

VARSET ACTOR2
VARSET ACTOR3

;この分岐はEVENT_TABLEが例えば弗理希艾尔/小菊/哈娜/なら等確率で３人のどれかの分岐に行く
SELECTCASE CALLNAME_ACTOR
CASEELSE
	PRINTFORML %CALLNAME:TARGET%通过%CALLNAME:MASTER%そっちのけで%CALLNAME:ACTOR%との会話を楽しんでいる……
ENDSELECT

;--------------------------------------------------
;現在TARGETになっている角色と対話イベントを起こせる角色を一人選ぶ関数。誰も居ない場合には0が返る
;特定の人物たちから一人選びたい場合にはARGSにTEXTR形式でCALLNAMEを入れる
;例)弗理希艾尔or濡烏の君or西西莉亚から一人選ぶ場合には
;FIND_TaiTa("弗理希艾尔/濡烏の君/西西莉亚") でこの３人の内で対話可能な相手の角色番号が返る
;
;また、全員から選びたい場合にはFIND_TaiTa("全員")とすれば良い
;--------------------------------------------------
@FIND_TaiTa(ARGS)
#FUNCTION
#DIM LCOUNT
#DIM ACTOR

SELECTCASE ARGS
CASE "全員"
	ARGS = %NAMES("対話可能角色一覧", TARGET)%
CASEELSE
	;まずはARGSをCALLNAME一個づつに分解
	VARSET LOCALS
	SPLIT ARGS, "/", LOCALS

	;対話可能な角色のみでARGSを再構成
	ARGS = 
	FOR LCOUNT, 0, 100
		SELECTCASE LOCALS:LCOUNT
		CASE ""
			BREAK
		CASEELSE
			ACTOR = FIND_NO(LOCALS:LCOUNT)
			SIF ACTOR < 0
				CONTINUE
			SIF COND("対話可能", ACTOR)
				ARGS += @"%LOCALS:LCOUNT%/"
		ENDSELECT
	NEXT
ENDSELECT
RETURNF FIND_COND(TEXTR(ARGS) )
