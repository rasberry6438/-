@COM135
;口枷
CALL PRINT_TRAIN_NAME(SELECTCOM)

CALL TRAIN_MESSAGE_B

SIF REFUSE_CHECK()
	RETURN 0

IF TEQUIP:口枷 == 2
	STR:前回指令 = 環形口枷
ELSEIF TEQUIP:口枷
	STR:前回指令 = 口球
ELSE
	STR:前回指令 = %STR:今回指令%
ENDIF

RETURN 1

@TRAIN_MESSAGE_COM135
;口球の着脱
IF TEQUIP:口枷
	PRINTFORMW 為%CALLNAME:TARGET%取下了%NAMES("口枷")%
	TEQUIP:口枷 = 0
	CALL REMOVE_TEQUIP, "口枷", "鼻钩", "眼罩"
ELSE
	PRINTFORML 要讓%CALLNAME:TARGET%戴上那種口枷？
	PRINTL  [ 0] 口球
	PRINTL  [ 1] 環形口枷
	PRINTL [100] 不、再考慮一下吧。
	CALL INPUT_SELECT, 2, 100
	IF RESULT == 100
		TFLAG:指令中止 = 1
	ELSEIF RESULT == 0
		TEQUIP:口枷 = 1
		PRINTFORMW 讓%CALLNAME:TARGET%咬住了有孔的球型口枷。唾液橫流的景色真的很色情……
	ELSEIF RESULT == 1
		TEQUIP:口枷 = 2
		PRINTFORMW 讓%CALLNAME:TARGET%咬住了中空的環形口枷。無法閉上嘴巴、就算想做些什麼也無法阻止吧……
	ENDIF
	CALL ADD_TEQUIP, "口枷", "鼻钩", "眼罩"
ENDIF

@FLAG_COM135, ARG

@SOURCE_COM135, ARG
CALL SOURCE_SMPLAY, "口枷", ARG

CALL VARSET_COMF

CALL SOURCE_DOWNBASE_HP, 135

SOURCE:0:疼痛 = 50
SOURCE:0:充足 = 50
SOURCE:0:露出 = 80
SOURCE:0:屈従 = 150
SOURCE:0:逸脱 = 80

CALL CALC, "調教ソース", ARG


@EQUIP_COM135
SIF TEQUIP:口枷 == 0
	RETURN 0
SIF SELECTCOM == 135
	RETURN 0
;口球装備中
CALL SOURCE_COM135, 20

@EQUIP_COM135_2
SIF TEQUIP:口枷 == 0
	RETURN 0
SIF SELECTCOM == 135
	RETURN 0
;口球装備中
IF TEQUIP:口枷 == 1
	PRINTL ＜口球装備中＞
ELSEIF TEQUIP:口枷 == 2
	PRINTL ＜環形口枷装備中＞
ENDIF
EXP:拘束経験 += 1

