@GET_EXPNAME(経験番号, キャラ番号 = -1, ツールチップフラグ = 0)
#FUNCTIONS
#DIM 経験番号
#DIM キャラ番号
#DIM ツールチップフラグ
#DIMS 経験名

;経験名（とツールチップ）の初期化
;変更がある場合は下で書き換える、無い場合は触らなくてもよい
経験名 '= EXPNAME:経験番号
SIF ツールチップフラグ
	TSTR:ツールチップ受渡 '= ""

SELECTCASE 経験番号
	CASE 51
		SIF キャラ番号 >= 0
			経験名 '= GET_EXPNAME_51(TALENT:キャラ番号:性別, TALENT:キャラ番号:性愛傾向)
ENDSELECT

RETURNF 経験名

;特定のキャラに依存しないバージョン
@GET_EXPNAME_51(性別, 性愛傾向)
#FUNCTIONS
#DIM 性別
#DIM 性愛傾向
#DIMS 経験名

IF 性別 == 3 || 性別 == 0
	;ふたなり・無性
	経験名 '= "同性愛経験"
ELSEIF 性別 == 性愛傾向
	;[女性愛]持ち女性 / [男性愛]持ち男性
	経験名 '= "異性愛経験"
ELSE
	;それ以外
	経験名 '= "同性愛経験"
ENDIF
RETURNF 経験名


@GET_性癖素質NAME(能力番号, キャラ番号 = -1, ツールチップフラグ = 0)
#FUNCTIONS
#DIM 能力番号
#DIM キャラ番号
#DIM ツールチップフラグ
#DIMS 素質名

;素質名（とツールチップ）の初期化
;変更がある場合は下で書き換える、無い場合は触らなくてもよい
素質名 '= ERDNAME(性癖素質, 能力番号)
SIF ツールチップフラグ
	TSTR:ツールチップ受渡 '= ""

SELECTCASE 能力番号
	CASE 1
		IF ツールチップフラグ && 素質名 != ""
			LOCALS = <br>■户外自慰<br>
			LOCALS += "在非私人房间的隐蔽处进行自慰的性癖。<br>"
			LOCALS += "性欲达到一定阈值时，会就地进入隐匿状态开始户外自慰。<br>"
			LOCALS += "当您在该场所处于非隐匿状态时，可通过[窥视]指令观察其行为。<br>"
			LOCALS += "若您在该场所进入隐匿状态，对方会惊慌中断自慰并解除隐匿状态。<br>"
			LOCALS += "<br>"
			LOCALS += "获取条件：性癖开发<br>[知识素质:性知识]低于０且自慰经验为０时不可获取。<br>"
			LOCALS += "[散漫][好奇][容易自慰][性欲旺盛][ABL:暴露癖]有利于获取该素质。<br>"
			LOCALS += "[认真][严于律己][保守][性欲薄弱]不利于获取该素质。<br>"
			LOCALS += "[EXP:户外自慰经验]达30/100时触发成长。<br>"
			TSTR:ツールチップ受渡 = %LOCALS%
		ENDIF
	CASE 2
		IF ツールチップフラグ && 素質名 != ""
			LOCALS = <br>■逆肛交<br>
			LOCALS += "渴望插入对方肛门的性癖。<br>"
			LOCALS += "是自动指令「进入逆肛交模式」的触发条件之一。<br>"
			LOCALS += "<br>"
			LOCALS += "获取条件：性癖开发<br>[知识素质:性知识]低于0时不可获取。<br>"
			LOCALS += "[散漫][好奇][性欲旺盛][ABL:施虐快感][性别:扶她]有利于获取该素质。<br>"
			LOCALS += "[认真][严于律己][保守][性欲薄弱]不利于获取该素质。<br>"
			LOCALS += "[EXP:C性交经验_A插入经验]达100/300时触发成长。<br>"
			TSTR:ツールチップ受渡 = %LOCALS%
		ENDIF
	CASE 3
		IF ツールチップフラグ && 素質名 != ""
			LOCALS = <br>■挤奶PLAY<br>
			LOCALS += "对乳汁被榨取过程产生兴奋的性癖。<br>"
			LOCALS += "是执行「挤乳机」指令的条件之一。<br>"
			LOCALS += "<br>"
			LOCALS += "获取条件：性癖开发<br>[知识素质:性知识]低于0时不可获取。<br>"
			LOCALS += "[散漫][好奇][容易自慰][性欲旺盛][胸围尺寸:魔乳]有利于获取该素质。<br>"
			LOCALS += "[认真][严于律己][保守][性欲薄弱]不利于获取该素质。<br>"
			LOCALS += "未持有[TALENT:泌乳体质]将大幅降低获取概率。<br>"
			LOCALS += "[EXP:挤乳快感经验]达100/300时触发成长。<br>"
			TSTR:ツールチップ受渡 = %LOCALS%
		ENDIF
	CASE 4
		IF ツールチップフラグ && 素質名 != ""
			LOCALS = <br>■触手PLAY<br>
			LOCALS += "对遭受触手侵犯产生兴奋的性癖。<br>"
			LOCALS += "是执行触手系指令的条件之一。<br>"
			LOCALS += "<br>"
			LOCALS += "获取条件：性癖开发<br>[知识素质:性知识]低于0时不可获取。<br>"
			LOCALS += "[散漫][好奇][容易自慰][性欲旺盛]有利于获取该素质。<br>"
			LOCALS += "[认真][严于律己][保守][性欲薄弱]不利于获取该素质。<br>"
			LOCALS += "[知识素质:性知识]越低越难获取。<br>"
			LOCALS += "[EXP:触手快感经验]达100/300时触发成长。<br>"
			TSTR:ツールチップ受渡 = %LOCALS%
		ENDIF
	CASE 5
		IF ツールチップフラグ && 素質名 != ""
			LOCALS = <br>■饮精<br>
			LOCALS += "对吞饮精液产生强烈快感的性癖。<br>"
			LOCALS += "进行精液吞饮时会获得巨大快感。处于成瘾阶段时必定达到高潮。<br>"
			LOCALS += "<br>"
			LOCALS += "获取方式：自动获取<br>"
			LOCALS += "[EXP:精液快感经验]达100以上时，自动获得喜好阶段。<br>"
			LOCALS += "[EXP:精液快感经验]可通过吞精时达到高潮（不限类型）获得。<br>"
			LOCALS += "或吞精引发的快感高潮获得。<br>"
			LOCALS += "[EXP:精液快感经验]达300以上时，将升级为成瘾阶段。<br>"
			TSTR:ツールチップ受渡 = %LOCALS%
		ENDIF
	CASE 6
		IF ツールチップフラグ && 素質名 != ""
			LOCALS = <br>■阴道内射精<br>
			LOCALS += "对阴道内射精产生强烈快感的性癖。<br>"
			LOCALS += "接受阴道内射精时会获得巨大快感。处于成瘾阶段时必定达到高潮。<br>"
			LOCALS += "<br>"
			LOCALS += "获取方式：自动获取<br>"
			LOCALS += "[EXP:阴道射精高潮经验]达30以上时，自动获得喜好阶段。<br>"
			LOCALS += "[EXP:阴道射精高潮经验]需通过阴道内射精引发的快感高潮获得。<br>"
			LOCALS += "[EXP:阴道射精高潮经验]达100以上时，将升级为成瘾阶段。<br>"
			TSTR:ツールチップ受渡 = %LOCALS%
		ENDIF
	CASE 7
		IF ツールチップフラグ && 素質名 != ""
			LOCALS = <br>■肠道内射精<br>
			LOCALS += "对肛门射精产生强烈快感的性癖。<br>"
			LOCALS += "接受肛门射精时会获得巨大快感。处于成瘾阶段时必定达到高潮。<br>"
			LOCALS += "<br>"
			LOCALS += "获取方式：自动获取<br>"
			LOCALS += "[EXP:肠道射精高潮经验]达30以上时，自动获得喜好阶段。<br>"
			LOCALS += "[EXP:肠道射精高潮经验]需通过肛门射精引发的快感高潮获得。<br>"
			LOCALS += "[EXP:肠道射精高潮经验]达100以上时，将升级为成瘾阶段。<br>"
			TSTR:ツールチップ受渡 = %LOCALS%
		ENDIF
	CASE 8
		IF キャラ番号 < 0
			素質名 '= "同性愛（異性愛）"
		ELSE
			素質名 '= GET_性癖素質NAME_8(TALENT:キャラ番号:性別, TALENT:キャラ番号:性愛傾向)
		ENDIF

		IF ツールチップフラグ && 素質名 != ""
			LOCALS = <br>■同性恋（异性恋）<br>
			LOCALS += "对非恋爱对象的性别也能产生性兴奋的性癖。<br>"
			LOCALS += "持有此素质时，即使玩家属于非恋爱对象性别，仍可提升好感度要素恋心·性爱及爱慕值。<br>"
			LOCALS += "<br>"
			LOCALS += "获取条件：性癖开发<br>[知识素质:性知识]低于0时不可获取。<br>"
			LOCALS += "[散漫][好奇][容易自慰][性欲旺盛]有利于获取该素质。<br>"
			LOCALS += "[认真][严于律己][保守][性欲薄弱][人类厌恶]不利于获取该素质。<br>"
			LOCALS += "当非对象性别为男性时持有[厌恶男性]，或为女性时持有[厌恶女性]将降低获取概率。<br>"
			LOCALS += "[EXP:同性恋经验]（异性恋经验）达500/2000时触发成长。<br>"
			TSTR:ツールチップ受渡 = %LOCALS%
		ENDIF
	CASE 9
		;寝取られ
			LOCALS = <br>■绿帽癖<br>
			LOCALS += "对重要之人与他人发生关系的场景产生性兴奋的性癖。<br>"
			LOCALS += @"持有此素质时，可能在每日结束时造访%CALLNAME:MASTER%的私人房间，请求与伴侣发生关系。<br>"
			LOCALS += "<br>"
			LOCALS += "获取条件：性癖开发<br>[知识素质:性知识]低于0时不可获取。<br>"
			LOCALS += "[散漫][低自尊][好奇][性欲旺盛][ABL:受虐快感]有利于获取该素质。<br>"
			LOCALS += "[认真][严于律己][高自尊][保守][性欲薄弱]不利于获取该素质。<br>"
			LOCALS += "[男性生殖器尺寸:儿童阴茎][男性生殖器尺寸:短小]会提升获取概率。<br>"
			LOCALS += "[EXP:被寝取经验]初次获得时/累计达5次以上时触发成长。<br>"
			TSTR:ツールチップ受渡 = %LOCALS%
	CASE 10
		;首絞め
		IF ツールチップフラグ && 素質名 != ""
			LOCALS = <br>■勒脖子<br>
			LOCALS += "在颈部受压迫的性行为中获得强烈快感的性癖。<br>"
			LOCALS += "大幅增强颈部压迫带来的受虐快感修正效果。处于喜好阶段以上时，非窒息状态下获得的所有快感都会减弱。<br>"
			LOCALS += "<br>"
			LOCALS += "获取条件：性癖开发<br>[知识素质:性知识]低于0时不可获取。<br>"
			LOCALS += "[散漫][低自尊][好奇][性欲旺盛][ABL:受虐快感]有利于获取该素质。<br>"
			LOCALS += "[认真][严于律己][保守][性欲薄弱]不利于获取该素质。<br>"
			LOCALS += "[EXP:窒息高潮经验]达100/300时触发成长。<br>"
			TSTR:ツールチップ受渡 = %LOCALS%
		ENDIF
	CASE 11
		;キス(仮置き)
		IF ツールチップフラグ && 素質名 != ""
			LOCALS = <br>■接吻<br>
			LOCALS += "<br>"
			LOCALS += "获取方式：自动获取<br>"
			LOCALS += "[EXP:接吻经验]达一定程度以上时，自动获得喜好阶段。<br>"
			LOCALS += "[EXP:接吻经验]达一定程度以上时，将升级为成瘾阶段。<br>"
			TSTR:ツールチップ受渡 = %LOCALS%
		ENDIF
ENDSELECT

RETURNF 素質名

;特定のキャラに依存しないバージョン
@GET_性癖素質NAME_8(性別, 性愛傾向)
#FUNCTIONS
#DIM 性別
#DIM 性愛傾向
#DIMS 素質名

IF 性愛傾向 == 3
	;両刀
	素質名 '= ""
ELSEIF 性別 == 3 || 性別 == 0
	;ふたなり・無性
	素質名 '= ""
ELSEIF 性別 == 性愛傾向
	;[女性愛]持ち女性 / [男性愛]持ち男性
	素質名 '= "異性愛"
ELSE
	;それ以外
	素質名 '= "同性愛"
ENDIF
RETURNF 素質名
