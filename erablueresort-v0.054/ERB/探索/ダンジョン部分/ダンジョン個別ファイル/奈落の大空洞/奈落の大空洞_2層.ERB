@奈落の大空洞_存在判定_2
;推奨レベルを返す
RETURN 35


@奈落の大空洞_エネミーセット_2_1(追加レベル補正)
#DIM 追加レベル補正

敵BATTLE_STATE_STR:0:エネミー名 = Lv10_食人鸟首领
敵BATTLE_STATE:0:ランダムエネミーフラグ = 25 + 追加レベル補正 * 2 / 3

敵BATTLE_STATE_STR:4:エネミー名 = Lv6_噬石兽
敵BATTLE_STATE:4:ランダムエネミーフラグ = 25 + 追加レベル補正 * 2 / 3


;@奈落の大空洞_エネミー勝利後_2_1


@奈落の大空洞_エネミーセット_2_2(追加レベル補正)
#DIM 追加レベル補正

敵BATTLE_STATE_STR:0:エネミー名 = Lv25_瞳菇
敵BATTLE_STATE:0:ランダムエネミーフラグ = 32 + 追加レベル補正


@奈落の大空洞_エネミー勝利後_2_2
WSTR:(K++) = %CALLNAME:PLAYER%获得了「魅惑吞噬之戒」！
CALL 汎用指輪取得処理("魅惑吞噬之戒", 3)
WSTR:(K++) = %CALLNAME:PLAYER%获得了「诱惑耳饰」！
CALL 汎用耳飾り取得処理("诱惑耳饰")


@奈落の大空洞_エネミーセット_2_3(追加レベル補正)
#DIM 追加レベル補正

敵BATTLE_STATE_STR:0:エネミー名 = Lv25_珍珠贝
敵BATTLE_STATE:0:ランダムエネミーフラグ = 35 + 追加レベル補正


;@奈落の大空洞_エネミー勝利後_2_3


@奈落の大空洞_エネミーセット_2_4(追加レベル補正)
#DIM 追加レベル補正

敵BATTLE_STATE_STR:0:エネミー名 = Lv35_火灵巴塞洛缪斯
敵BATTLE_STATE:0:ランダムエネミーフラグ = 35 + 追加レベル補正


@奈落の大空洞_エネミー勝利後_2_4
WSTR:(K++) = %CALLNAME:PLAYER%获得了「精灵之戒・火」！
CALL 汎用指輪取得処理("精灵之戒・火", 3)
WSTR:(K++) = %CALLNAME:PLAYER%获得了「精灵耳饰・火」！
CALL 汎用耳飾り取得処理("精灵耳饰・火")


@奈落の大空洞_エネミーセット_2_5(追加レベル補正)
#DIM 追加レベル補正

敵BATTLE_STATE_STR:0:エネミー名 = Lv18_科罗萨斯
敵BATTLE_STATE:0:ランダムエネミーフラグ = 38 + 追加レベル補正


@奈落の大空洞_エネミー勝利後_2_5
#DIM コロッサス未招待
#DIM コロマグちゃん未招待
#DIM キャラ番号

WSTR:(K++) = %CALLNAME:PLAYER%获得了「科罗萨斯之戒」！
CALL 汎用指輪取得処理("科罗萨斯之戒", 1)

;廃工場のコロッサスをまだ倒してない場合スキップ
SIF GETBIT(ダンジョン構造配列_バルツ地下廃工場:25:5, 4) == 0
	RETURN

;どっちも招待済の場合は招待スキップ
SIF CFLAG:GETCHARA(136):招待不可フラグ == CSVCFLAG(136, GETNUM(CFLAG, "招待不可フラグ"))
	コロッサス未招待 = 1
SIF CFLAG:GETCHARA(137):招待不可フラグ == CSVCFLAG(137, GETNUM(CFLAG, "招待不可フラグ"))
	コロマグちゃん未招待 = 1
SIF !コロッサス未招待 && !コロマグちゃん未招待
	RETURN

CALL メッセージ欄表示用関数(,,,0)
CALL 口上変数初期化
WSTR:(K++) = 看来这个科罗萨斯与废工厂里的并非同一个体。
WSTR:(K++) = ……要把这个科罗萨斯也邀请到度假区吗？
CALL メッセージ欄表示用関数(,,,0)

$選択肢ラベル
CALL 口上変数初期化
KSTR:(K++) = ※关于星晶兽科罗萨斯的形态可选择。
KSTR:(K++) = 　请选择任意选项。
SIF コロッサス未招待
	KSTR:(K++) = BUTTON_[科罗萨斯以人类大小的形态活动]
IF コロマグちゃん未招待
	KSTR:(K++) = BUTTON_[以科罗玛格酱形态活动]
	KSTR:(K++) = BUTTON_[科罗玛格酱是什么？]_（显示说明。选择此项不会推进剧情）
ENDIF
KSTR:(K++) = BUTTON_[还是算了]
CALL メッセージ欄表示用関数(,,,0)
BINPUTS
SELECTCASE RESULTS
	CASE "[科罗萨斯以人类大小的形态活动]"
		CALL 口上変数初期化
		WSTR:(K++) = 光芒收敛后，%CALLNAME:PLAYER%面前矗立着超过2米的钢甲巨人。
		WSTR:(K++) = 似乎是制造了适合在人类设施活动的小型分身。
		WSTR:(K++) = [钢铁巨人]科罗萨斯开始造访度假村了！
		CALL メッセージ欄表示用関数(,,,0)
		キャラ番号 = GETCHARA(136)
	CASE "[以科罗玛格酱形态活动]"
		CALL 口上変数初期化
		WSTR:(K++) = 光芒收敛后，%CALLNAME:PLAYER%面前站着约120厘米高的多拉夫族少女。
		WSTR:(K++) = 似乎是制造了适合在人类设施活动的小型分身。
		WSTR:(K++) = [钢铁小巨人]科罗玛格酱开始造访度假村了！
		CALL メッセージ欄表示用関数(,,,0)
		キャラ番号 = GETCHARA(137)
	CASE "[科罗玛格酱是什么？]"
		CALL 口上変数初期化
		WSTR:(K++) = ■科罗玛格酱
		WSTR:(K++) = 　二次创作诞生的角色。
		KSTR:(K++) = 　设定为「从被击破的科罗萨斯・玛格纳驾驶舱中发现，
		WSTR:(K++) = 　　随后被骑空团保护并共同行动的１０岁左右多拉夫族少女」。
		WSTR:(K++) = 　头上巨角带有科罗萨斯风格纹样，白发飘扬的无口无表情少女。
		WSTR:(K++) = 　头上巨角带有科罗萨斯风格纹样，白发飘扬的无口无表情少女。
		CALL メッセージ欄表示用関数(,,,0)
		GOTO 選択肢ラベル
	CASE "[还是算了]"
		CALL 口上変数初期化
		WSTR:(K++) = 空间扭曲的大空洞，加上带回星晶兽的影响尚不明确。
		WSTR:(K++) = %CALLNAME:PLAYER%以下将科罗萨斯留在原地返回了。
		CALL メッセージ欄表示用関数(,,,0)
		キャラ番号 = -1
ENDSELECT

IF キャラ番号 > 0
	CFLAG:キャラ番号:招待不可フラグ = 0
	CFLAG:キャラ番号:信頼度 = 2000
	CALL FAVOR_LvUPCheck(キャラ番号)
ENDIF
CALL 口上変数初期化
