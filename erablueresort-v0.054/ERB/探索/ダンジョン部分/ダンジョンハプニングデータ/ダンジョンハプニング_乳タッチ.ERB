@ダンジョンハプニング_乳タッチ(対象キャラ番号)
#DIM 対象キャラ番号

WSTR:(K++) = %CALLNAME:MASTER%被障碍物绊倒！
KSTR:(K++) = 所幸%CALLNAME:対象キャラ番号%及时搀扶，
SELECTCASE TALENT:対象キャラ番号:バストサイズ
	CASE IS <= 0
		KSTR:(K++) = 惯性作用下手碰到了平坦的胸口。_PAGE
	CASEELSE
		KSTR:(K++) = 惯性作用下将丰满的胸部抓了个正着。_PAGE
ENDSELECT

CALL メッセージ欄表示用関数()
CALL 口上変数初期化

CALL セクハラ反応タイプ判定(対象キャラ番号)
TRYCALLFORM KOJO_ハプニング_乳タッチ_{NO:対象キャラ番号}(対象キャラ番号)
IF 口上有無確認(0, 1) == 0
	KSTR:(K++) = %CALLNAME:MASTER%立刻松手道歉，
	SELECTCASE RFLAG:コマンド結果受渡し変数２
		CASE 1
			;無知
			KSTR:(K++) = %CALLNAME:対象キャラ番号%似乎并未在意。
		CASE 2
			;無反応
			KSTR:(K++) = %CALLNAME:対象キャラ番号%若无其事地继续探索。
		CASE 3
			;嫌悪
			SELECTCASE RFLAG:コマンド結果受渡し変数
				CASE 1
					;拒絶
					KSTR:(K++) = %CALLNAME:対象キャラ番号%面露嫌恶瞪着%CALLNAME:MASTER%……
				CASE 2
					;受入れ
					KSTR:(K++) = %CALLNAME:対象キャラ番号%叹着气继续探索。
				CASE 3
					;喜び
					KSTR:(K++) = %CALLNAME:対象キャラ番号%关心%CALLNAME:MASTER%是否受伤。
			ENDSELECT
		CASE 4
			;拒否
			SELECTCASE RFLAG:コマンド結果受渡し変数
				CASE 1
					;拒絶
					KSTR:(K++) = %CALLNAME:対象キャラ番号%板着脸提醒注意安全。
				CASE 2
					;受入れ
					KSTR:(K++) = %CALLNAME:対象キャラ番号%关心%CALLNAME:MASTER%是否受伤。
				CASE 3
					;喜び
					KSTR:(K++) = %CALLNAME:対象キャラ番号%提议牵手防止摔倒。
			ENDSELECT
		CASE 5
			;余裕
			SELECTCASE RFLAG:コマンド結果受渡し変数
				CASE 1
					;拒絶
					KSTR:(K++) = %CALLNAME:対象キャラ番号%板着脸提醒注意安全。
				CASE 2
					;受入れ
					KSTR:(K++) = %CALLNAME:対象キャラ番号%微笑表示不必在意。
				CASE 3
					;喜び
					KSTR:(K++) = %CALLNAME:対象キャラ番号%开玩笑说可以多摸会儿。
			ENDSELECT
		CASE 6
			;羞恥
			SELECTCASE RFLAG:コマンド結果受渡し変数
				CASE 1
					;拒絶
					KSTR:(K++) = %CALLNAME:対象キャラ番号%满脸通红跳开。
				CASE 2
					;受入れ
					KSTR:(K++) = %CALLNAME:対象キャラ番号%红着脸捂住胸口。
				CASE 3
					;喜び
					KSTR:(K++) = %CALLNAME:対象キャラ番号%染红双颊凝视着这边……
			ENDSELECT
		CASE 7
			;愉悦
			SELECTCASE RFLAG:コマンド結果受渡し変数
				CASE 1
					;拒絶
					KSTR:(K++) = %CALLNAME:対象キャラ番号%调侃说手法太差。
				CASE 2
					;受入れ
					KSTR:(K++) = %CALLNAME:対象キャラ番号%笑说躲得太夸张。
				CASE 3
					;喜び
					KSTR:(K++) = %CALLNAME:対象キャラ番号%妖媚笑着说随时可以继续。
			ENDSELECT
		CASE 8
			;汎用
			SELECTCASE RFLAG:コマンド結果受渡し変数
				CASE 1
					;拒絶
					KSTR:(K++) = %CALLNAME:対象キャラ番号%露出稍显不快的表情继续探索。
				CASE 2
					;受入れ
					KSTR:(K++) = %CALLNAME:対象キャラ番号%苦笑着整理着装。
				CASE 3
					;喜び
					KSTR:(K++) = %CALLNAME:対象キャラ番号%关心%CALLNAME:MASTER%是否受伤。
			ENDSELECT
	ENDSELECT
	CALL メッセージ欄表示用関数()
ENDIF

;ソース増減部分
SELECTCASE RFLAG:コマンド結果受渡し変数
	CASE 1
		;拒絶
		CALL SOURCE_CALC_不快(対象キャラ番号, PLAYER, 50)
		CALL SOURCE_CALC_反感(対象キャラ番号, PLAYER, 50)
		CALL SOURCE_CALC_接触(対象キャラ番号, PLAYER, 100)
		CALL SOURCE_CALC_露出(対象キャラ番号, PLAYER, 100)
	CASE 2
		;受け入れ
		CALL SOURCE_CALC_歓楽(対象キャラ番号, PLAYER, 20)
		CALL SOURCE_CALC_接触(対象キャラ番号, PLAYER, 100)
		CALL SOURCE_CALC_露出(対象キャラ番号, PLAYER, 100)
		CALL SOURCE_CALC_好感度要素_性愛度UP(対象キャラ番号, PLAYER, 50)
		CALL SOURCE_CALC_快Ｂ(対象キャラ番号, PLAYER, 10)
	CASE 3
		;喜び
		CALL SOURCE_CALC_歓楽(対象キャラ番号, PLAYER, 50)
		CALL SOURCE_CALC_接触(対象キャラ番号, PLAYER, 100)
		CALL SOURCE_CALC_露出(対象キャラ番号, PLAYER, 100)
		CALL SOURCE_CALC_好感度要素_性愛度UP(対象キャラ番号, PLAYER, 100)
		CALL SOURCE_CALC_快Ｂ(対象キャラ番号, PLAYER, 10)
ENDSELECT



@ダンジョンハプニング_ABLE_乳タッチ(判定キャラ番号)
#DIM 判定キャラ番号

SIF TALENT:判定キャラ番号:性別 == 2
	RETURN 0

RETURN 1
