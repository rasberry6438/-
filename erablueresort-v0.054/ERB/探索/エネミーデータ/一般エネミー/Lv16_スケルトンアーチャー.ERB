
@敵BATTLE_STATE_Lv16_骷髅弓箭手(対象エネミー)
#DIM 対象エネミー
敵BATTLE_STATE:対象エネミー:Lv = 16
敵BATTLE_STATE:対象エネミー:最大ＨＰ = 1100
敵BATTLE_STATE:対象エネミー:ＨＰ = 1100
敵BATTLE_STATE:対象エネミー:攻撃力 = 600
敵BATTLE_STATE:対象エネミー:防御力 = 580
敵BATTLE_STATE:対象エネミー:回復力 = 0
敵BATTLE_STATE:対象エネミー:行動速度 = 495
敵BATTLE_STATE:対象エネミー:DA率 = 0
敵BATTLE_STATE:対象エネミー:TA率 = 0
敵BATTLE_STATE:対象エネミー:命中率 = 110
敵BATTLE_STATE:対象エネミー:回避率 = 0
敵BATTLE_STATE:対象エネミー:属性 = 5
敵BATTLE_STATE:対象エネミー:所持EXP = 356
敵BATTLE_STATE:対象エネミー:所持ルピ = 421
敵BATTLE_STATE:対象エネミー:最大チャージターン = 2

敵BATTLE_STATE_STR:対象エネミー:種族 = アンデッド

@敵討伐後処理_Lv16_骷髅弓箭手(隊列番号)
#DIM 隊列番号
#DIM ドロップ確率
#DIMS ドロップアイテム
#DIM データベース行数
#DIM トレハンLv

トレハンLv = 0
データベース行数 = デバフ番号取得("ドロップ率UP")
SIF データベース行数 > -1
	トレハンLv = DT_CELL_GET("戦闘効果データベース", データベース行数, "効果量_固定値")

ドロップ確率 = 20 + トレハンLv * 5
ドロップアイテム = 脆化骸骨
CALL ドロップ判定処理(ドロップ確率, ドロップアイテム)


@敵トリガー行動_Lv16_骷髅弓箭手
;通常攻撃はDAやTAしないかわりに一番HPの低いのを狙う
アビ汎用文字列:実行時メッセージ１ = %敵BATTLE_STATE_STR:(戦闘行動キャラ - 10):エネミー名%的攻击！

CALL アビ対象選択テンプレート_味方単体_最小ＨＰ()
アビ汎用変数:効果割合 = 100
アビ汎用文字列:ダメージ種類 = 通常攻撃ダメージ
CALL アビテンプレート_ダメージ処理_自属性
IF デバフ番号取得("恐怖", 戦闘行動キャラ) < 0
	敵BATTLE_STATE:(戦闘行動キャラ - 10):チャージターン += 1
ELSE
	;回数消費
	CALL デバフ回数経過処理(戦闘行動キャラ, "恐怖")
ENDIF

RETURN 1


@敵チャージ行動_Lv16_骷髅弓箭手
アビテンプレート用_アビ名 = 箭雨

CALL アビ対象選択テンプレート_味方全体_生者のみ
アビ汎用変数:効果割合 = 100
CALL アビテンプレート_ダメージ処理_自属性

CALL アビ汎用変数文字列リセット
アビ汎用文字列:バフ・デバフ枠 = 攻撃力A
アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
アビ汎用変数:効果割合 = 15
アビ汎用変数:持続ターン = 3
アビ汎用変数:基礎成功確率 = 80
CALL アビテンプレート_不利効果_デバフ効果セット


