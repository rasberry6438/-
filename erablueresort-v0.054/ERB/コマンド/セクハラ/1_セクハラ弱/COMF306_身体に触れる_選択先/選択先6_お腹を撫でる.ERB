
@COMNAME_S306_6
#FUNCTIONS
TSTR:コマンド名受渡 = 抚摸腹部

;===================================================
;コマンドタイプ
;===================================================
@COMTYPE_S_306_6
#FUNCTION
TFLAG:コマンドタイプ受渡 = COMTYPE("セクハラ弱")
弱点コマンドカテゴリ = S
睡眠中許可 = 1


@COM_TOOLTIP_S306_6
LOCALS = <br>■抚摸腹部<br>
LOCALS += "抚摸对方腹部的指令。<br>仅在怀孕达到特定阶段时方可执行。"
LOCALS += "<br>指令类型：性骚扰<br>获取来源：接触・暴露・快感Ｓ・欢愉(特定条件)・不快(特定条件)・反感(特定条件)"
LOCALS += "<br>专属经验值：无<br>"
TSTR:ツールチップ受渡 = %LOCALS%


@COM_S306_6
;抚摸腹部

;発生する快楽は受け手の状態に依存しない
CALL SOURCE_CALC_快Ｓ(TARGET, PLAYER, 30)
SIF CFLAG:TARGET:子の父親 == PLAYER
	CALL SOURCE_CALC_快Ｓ(TARGET, PLAYER, 50)
SIF TALENT:PLAYER:器用な指
	CALL SOURCE_CALC_快Ｓ(TARGET, PLAYER, 20)
TIME += 10

SIF CFLAG:TARGET:睡眠
	RETURN 1

CALL セクハラ反応タイプ判定(TARGET)
;RFLAG:コマンド結果受渡し変数
;1:拒絶  2:受け入れ  3:喜び
;RFLAG:コマンド結果受渡し変数２
;1:無知  2:無反応  3:嫌悪  4:拒否  5:余裕  6:羞恥  7:愉悦  8:汎用
SELECTCASE RFLAG:コマンド結果受渡し変数２
	CASE 2
		;無反応
		SELECTCASE RFLAG:コマンド結果受渡し変数
			CASE 1 TO 2
				;拒絶と受け入れ時は反応なし
				CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
				CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
			CASE 3
				;喜び時はちょっと喜ぶ
				CALL SOURCE_CALC_歓楽(TARGET, PLAYER, 50)
				CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
				CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
				CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 10)
				CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 10)
		ENDSELECT
	CASE 3 TO 4
		;嫌悪と拒否
		SELECTCASE RFLAG:コマンド結果受渡し変数
			CASE 1
				;拒絶
				CALL SOURCE_CALC_不快(TARGET, PLAYER, 100)
				CALL SOURCE_CALC_反感(TARGET, PLAYER, 200)
				CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
				CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
			CASE 2
				;受け入れ
				CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
				CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
				CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 10)
				CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 10)
			CASE 3
				;喜び
				CALL SOURCE_CALC_歓楽(TARGET, PLAYER, 150)
				CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
				CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
				CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 50)
				CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 50)
		ENDSELECT
	CASE 6
		;羞恥
		IF CFLAG:TARGET:子の父親 == PLAYER
			SELECTCASE RFLAG:コマンド結果受渡し変数
				CASE 1
					;拒絶
					CALL SOURCE_CALC_不快(TARGET, PLAYER, 50)
					CALL SOURCE_CALC_反感(TARGET, PLAYER, 10)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 100)
				CASE 2
					;受け入れ
					CALL SOURCE_CALC_歓楽(TARGET, PLAYER, 30)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 10)
					CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 10)
				CASE 3
					;喜び
					CALL SOURCE_CALC_歓楽(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 70)
					CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 70)
			ENDSELECT
		ELSE
			SELECTCASE RFLAG:コマンド結果受渡し変数
				CASE 1
					;拒絶
					CALL SOURCE_CALC_不快(TARGET, PLAYER, 30)
					CALL SOURCE_CALC_反感(TARGET, PLAYER, 30)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 100)
				CASE 2
					;受け入れ
					CALL SOURCE_CALC_歓楽(TARGET, PLAYER, 150)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 25)
					CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 25)
				CASE 3
					;喜び
					CALL SOURCE_CALC_歓楽(TARGET, PLAYER, 300)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 150)
					CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 150)
			ENDSELECT
		ENDIF
	CASEELSE
		;上記以外は同じソースを発生
		IF CFLAG:TARGET:子の父親 == PLAYER
			SELECTCASE RFLAG:コマンド結果受渡し変数
				CASE 1
					;拒絶
					CALL SOURCE_CALC_不快(TARGET, PLAYER, 30)
					CALL SOURCE_CALC_反感(TARGET, PLAYER, 30)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
				CASE 2
					;受け入れ
					CALL SOURCE_CALC_歓楽(TARGET, PLAYER, 50)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
					CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 10)
					CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 10)
				CASE 3
					;喜び
					CALL SOURCE_CALC_歓楽(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
					CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 50)
					CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 50)
			ENDSELECT
		ELSE
			SELECTCASE RFLAG:コマンド結果受渡し変数
				CASE 1
					;拒絶
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
				CASE 2
					;受け入れ
					CALL SOURCE_CALC_歓楽(TARGET, PLAYER, 150)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
					CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 25)
					CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 25)
				CASE 3
					;喜び
					CALL SOURCE_CALC_歓楽(TARGET, PLAYER, 250)
					CALL SOURCE_CALC_接触(TARGET, PLAYER, 100)
					CALL SOURCE_CALC_露出(TARGET, PLAYER, 50)
					CALL SOURCE_CALC_好感度要素_恋心度UP(TARGET, PLAYER, 150)
					CALL SOURCE_CALC_好感度要素_性愛度UP(TARGET, PLAYER, 150)
			ENDSELECT
		ENDIF
ENDSELECT

RETURN 1


;-------------------------------------------------
;実行判定
;-------------------------------------------------
@COM_ABLE_S306_6
;選択から飛んでくるのでABLEは常に0
RETURN 0

@身体に触れる_ABLE_抚摸腹部
;一括管理
SIF GLOBAL_COMABLE_S("306_6") && !RFLAG:罰ゲーム中
	RETURN RESULT
;妊娠初期
SIF PREGNANCY_SIZE(TARGET) <= 1
	RETURN 0
;関数実行のため、派生番号を返す
RETURN 6

;-------------------------------------------------
;実行時メッセージ
;-------------------------------------------------
@MESSAGE_COM_S306_6

PRINTFORM %CALLNAME:PLAYER%轻抚%CALLNAME:TARGET%
SELECTCASE PREGNANCY_SIZE(TARGET)
	CASE IS >= 5
		PRINT 显著隆起的
	CASE 4
		PRINT 明显凸起的
	CASEELSE
		PRINT 微微隆起的
ENDSELECT
PRINTL 腹部，仔细感受着轮廓轻轻抚摸
IF CUP:TARGET:快Ｓ > 1000
	;一定以上の快楽が発生した時にちょっと声が出る
	IF CFLAG:TARGET:睡眠
		PRINTFORML %CALLNAME:TARGET%在睡梦中发出甜美的呢喃…
	ELSE
		PRINTFORML %CALLNAME:TARGET%眯起双眼漏出娇柔的吐息…
	ENDIF
	PRINTL
ENDIF


@MESSAGE_COM_S306_6_非口上時

IF CFLAG:TARGET:睡眠
	PRINTFORML %CALLNAME:TARGET%仍在安稳沉睡……
	RETURN 0
ENDIF

SELECTCASE RFLAG:コマンド結果受渡し変数２
	CASE 1
		;無知
		SELECTCASE RFLAG:コマンド結果受渡し変数
			CASE 1
				IF 知識素質:TARGET:性知識 == -1 && EXP:TARGET:出産経験
					PRINTFORML %CALLNAME:TARGET%像保护孩子般推开了%CALLNAME:PLAYER%的手
				ELSE
					PRINTFORML %CALLNAME:TARGET%因被触碰自认为发胖的腹部而显得羞涩
				ENDIF
			CASE 2
				IF 知識素質:TARGET:性知識 == -1 && EXP:TARGET:出産経験
					PRINTFORML %CALLNAME:TARGET%与%CALLNAME:PLAYER%共同轻抚自己的腹部
				ELSE
					PRINTFORML %CALLNAME:TARGET%因被触碰自认为发胖的腹部而显得羞涩
				ENDIF
			CASE 3
				;喜び時は喜ぶ
				PRINTFORML %CALLNAME:TARGET%发出怕痒的轻笑
		ENDSELECT
	CASE 2
		;無反応
		SELECTCASE RFLAG:コマンド結果受渡し変数
			CASE 1 TO 2
				;拒絶と受け入れ時は反応なし
				PRINTFORML %CALLNAME:TARGET%毫无反应地保持平静
			CASE 3
				;喜び時はちょっと喜ぶ
				PRINTFORML %CALLNAME:TARGET%看似镇定，却红着脸将身体贴近%CALLNAME:PLAYER%…
		ENDSELECT
	CASE 3
		;嫌悪
		SELECTCASE RFLAG:コマンド結果受渡し変数
			CASE 1
				;拒絶
				PRINTFORML %CALLNAME:TARGET%面露嫌恶地甩开%CALLNAME:PLAYER%的手…
			CASE 2
				;受け入れ
				PRINTFORML %CALLNAME:TARGET%无视%CALLNAME:PLAYER%继续任其抚摸
			CASE 3
				;喜び
				PRINTFORML %CALLNAME:TARGET%假装移开视线，脸颊却微微泛红…
		ENDSELECT
	CASE 4
		;拒否
		SELECTCASE RFLAG:コマンド結果受渡し変数
			CASE 1
				;拒絶
				PRINTFORML %CALLNAME:TARGET%推开了%CALLNAME:PLAYER%的手，表示不该随意触碰身体
			CASE 2
				;受け入れ
				PRINTFORML %CALLNAME:TARGET%虽面露不满却未阻止%CALLNAME:PLAYER%的动作…
			CASE 3
				;喜び
				PRINTFORML %CALLNAME:TARGET%似乎并不讨厌，放任%CALLNAME:PLAYER%继续动作…
		ENDSELECT
	CASE 5
		;余裕
		SELECTCASE RFLAG:コマンド結果受渡し変数
			CASE 1
				;拒絶
				PRINTFORML %CALLNAME:TARGET%呵斥%CALLNAME:PLAYER%不该随意触碰孕妇身体
			CASE 2
				;受け入れ
				PRINTFORML %CALLNAME:TARGET%苦笑着对%CALLNAME:PLAYER%进行口头警告
			CASE 3
				;喜び
				PRINTFORML %CALLNAME:TARGET%主动将身体靠向%CALLNAME:PLAYER%方便抚摸…
		ENDSELECT
	CASE 6
		;羞恥
		SELECTCASE RFLAG:コマンド結果受渡し変数
			CASE 1
				;拒絶
				PRINTFORML %CALLNAME:TARGET%涨红着脸弹开%CALLNAME:PLAYER%的手…
			CASE 2
				;受け入れ
				PRINTFORML %CALLNAME:TARGET%红着脸任由%CALLNAME:PLAYER%继续动作
			CASE 3
				;喜び
				PRINTFORML %CALLNAME:TARGET%将手覆在%CALLNAME:PLAYER%的手背上温柔凝视…
		ENDSELECT
	CASE 7
		;愉悦
		SELECTCASE RFLAG:コマンド結果受渡し変数
			CASE 1
				;拒絶
				PRINTFORML %CALLNAME:TARGET%笑称这种抚摸方式会惹宝宝生气
			CASE 2
				;受け入れ
				PRINTFORML [\@CFLAG:TARGET:子の父親 == PLAYER?终于有当父亲的自觉了吗#真是了不起呢\@]%CALLNAME:TARGET%戏谑地调侃%CALLNAME:PLAYER%…
			CASE 3
				;喜び
				PRINTFORML %CALLNAME:TARGET%主动将腹部贴向%CALLNAME:PLAYER%，用妩媚表情挑逗…
		ENDSELECT
	CASE 8
		;汎用
		SELECTCASE RFLAG:コマンド結果受渡し変数
			CASE 1
				;拒絶
				PRINTFORML %CALLNAME:TARGET%明显抗拒%CALLNAME:PLAYER%触碰腹部…
			CASE 2
				;受け入れ
				PRINTFORML %CALLNAME:TARGET%贴近身体默许%CALLNAME:PLAYER%抚摸腹部
			CASE 3
				;喜び
				PRINTFORML %CALLNAME:TARGET%将手覆在%CALLNAME:PLAYER%的手上温柔微笑…
		ENDSELECT
ENDSELECT

