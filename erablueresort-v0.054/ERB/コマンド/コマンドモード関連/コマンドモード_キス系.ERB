@系統リスト_キス系(モード名)
#FUNCTION
#DIMS モード名
IF GROUPMATCH(モード名, "キス", "ディープキス")
	モード確認結果 = 1
	RETURNF 1
ENDIF



@MODE_持続快楽_キス(実行キャラ番号, 対象キャラ番号)
#DIM 実行キャラ番号
#DIM 対象キャラ番号

CALL SOURCE_CALC_快Ｓ(対象キャラ番号, 実行キャラ番号, 50)
CALL SOURCE_CALC_接触(対象キャラ番号, 実行キャラ番号, 50)
CALL SOURCE_CALC_快Ｓ(実行キャラ番号, 対象キャラ番号, 50)
CALL SOURCE_CALC_接触(実行キャラ番号, 対象キャラ番号, 50)
EXP:実行キャラ番号:キス経験 ++
EXP:対象キャラ番号:キス経験 ++
SIF 実行キャラ番号 == PLAYER || 対象キャラ番号 == PLAYER
	CALL SOURCE_CALC_好感度要素_恋心度UP(対象キャラ番号, 実行キャラ番号, 10)
RETURN 1


@MODE_持続快楽_ディープキス(実行キャラ番号, 対象キャラ番号)
#DIM 実行キャラ番号
#DIM 対象キャラ番号

CALL SOURCE_CALC_快Ｓ(対象キャラ番号, 実行キャラ番号, 100)
CALL SOURCE_CALC_接触(対象キャラ番号, 実行キャラ番号, 100)
CALL SOURCE_CALC_快Ｓ(実行キャラ番号, 対象キャラ番号, 100)
CALL SOURCE_CALC_接触(実行キャラ番号, 対象キャラ番号, 100)
EXP:実行キャラ番号:キス経験 ++
EXP:対象キャラ番号:キス経験 ++
SIF 実行キャラ番号 == PLAYER || 対象キャラ番号 == PLAYER
	CALL SOURCE_CALC_好感度要素_恋心度UP(対象キャラ番号, 実行キャラ番号, 15)
RETURN 1



@MODETYPE_キス(部位番号, 処理モード, プレイヤー番号, ターゲット番号)
#DIM 部位番号
#DIM プレイヤー番号
#DIM ターゲット番号
#DIMS 処理モード

IF 処理モード == "写真用文字列_プレイヤー"
	;モード固有の「～～をする」の文章を入れ込む
	;人妻
	IF TALENT:ターゲット番号:恋人持ち == 2
		詳細文文字列受け渡し変数 = 背叛丈夫与%CALLNAME:TARGET%%TEXTR("唇舌交缠/进行背德之吻/献吻缠绵")%
	;恋人あり
	ELSEIF TALENT:ターゲット番号:恋人持ち == 1
		詳細文文字列受け渡し変数 = 背叛恋人与%CALLNAME:TARGET%%TEXTR("唇舌交缠/进行背德之吻/献吻缠绵")%

	ELSE
		詳細文文字列受け渡し変数 = 与%CALLNAME:TARGET%%TEXTR("唇舌交缠/甜蜜接吻/献吻缠绵")%
	ENDIF
	;下の部位専有判定と別の値を返す
	RETURN 部位状況_写真用
ELSEIF 処理モード == "写真用文字列_ターゲット"
	;モード固有の「～～をする」の文章を入れ込む
	詳細文文字列受け渡し変数 = 同%CALLNAME:PLAYER%%TEXTR("唇舌交缠/热吻缠绵")%
	;下の部位専有判定と別の値を返す
	RETURN 部位状況_写真用
ENDIF

;0=ペニス 1=クリ 2=指（手） 3=口 4=胸 5=膣 6=アナル
;キスは両者口のみ専有
IF 部位番号 == 部位_口
	RETURN 部位状況_占有
ENDIF


@MODETYPE_ディープキス(部位番号, 処理モード, プレイヤー番号, ターゲット番号)
#DIM 部位番号
#DIM プレイヤー番号
#DIM ターゲット番号
#DIMS 処理モード

IF 処理モード == "写真用文字列_プレイヤー"
	;モード固有の「～～をする」の文章を入れ込む
	;人妻
	IF TALENT:ターゲット番号:恋人持ち == 2
		詳細文文字列受け渡し変数 = 背叛丈夫与%CALLNAME:TARGET%%TEXTR("唇舌交缠/深吻时交换唾液/献吻时探入舌尖/进行法式深吻/偷情湿吻")%
	;恋人あり
	ELSEIF TALENT:ターゲット番号:恋人持ち == 1
		詳細文文字列受け渡し変数 = 背叛恋人与%CALLNAME:TARGET%%TEXTR("唇舌交缠/深吻时交换唾液/献吻时探入舌尖/进行法式深吻/偷情湿吻")%
	ELSE
		詳細文文字列受け渡し変数 = 与%CALLNAME:TARGET%%TEXTR("唇舌交缠/深吻交缠/献上湿吻/纵情法式吻/舌尖嬉戏")%
	ENDIF
	;下の部位専有判定と別の値を返す
	RETURN 部位状況_写真用
ELSEIF 処理モード == "写真用文字列_ターゲット"
	;モード固有の「～～をする」の文章を入れ込む
	詳細文文字列受け渡し変数 = 与%CALLNAME:PLAYER%%TEXTR("唇舌交缠/热吻")%时缠绕软舌
	;下の部位専有判定と別の値を返す
	RETURN 部位状況_写真用
ENDIF

;0=ペニス 1=クリ 2=指（手） 3=口 4=胸 5=膣 6=アナル
;キスは両者口のみ専有
IF 部位番号 == 部位_口
	RETURN 部位状況_占有
ENDIF



@MODE_絶頂相手_キス(絶頂部位, 処理モード, 判定結果)
#FUNCTION
#DIM 絶頂部位
#DIMS 処理モード
#DIM REF 判定結果

IF 絶頂部位 == 部位_Ｓ
	判定結果 = 絶頂相手_モード相手
	RETURNF 絶頂相手_モード相手
ENDIF


@MODE_絶頂相手_ディープキス(絶頂部位, 処理モード, 判定結果)
#FUNCTION
#DIM 絶頂部位
#DIMS 処理モード
#DIM REF 判定結果

IF 絶頂部位 == 部位_Ｓ
	判定結果 = 絶頂相手_モード相手
	RETURNF 絶頂相手_モード相手
ENDIF



@MESSAGE_MODE_キス解除(実行キャラ番号, 対象キャラ番号)
#DIM 実行キャラ番号
#DIM 対象キャラ番号

PRINTFORML %CALLNAME:実行キャラ番号%将双唇从%CALLNAME:対象キャラ番号%身上移开…


@MESSAGE_MODE_ディープキス解除(実行キャラ番号, 対象キャラ番号)
#DIM 実行キャラ番号
#DIM 対象キャラ番号

PRINTFORML %CALLNAME:実行キャラ番号%将双唇从%CALLNAME:対象キャラ番号%身上移开…
IF TIME - CFLAG:実行キャラ番号:ディープキス開始時間 >= 30
	SIF TALENT:TARGET:恋慕 || TALENT:TARGET:セフレ || TALENT:キス嗜好 >= 1
		PRINTFORML 仿佛不舍分离般交缠的%CALLNAME:実行キャラ番号%与%CALLNAME:対象キャラ番号%双唇分开的瞬间，
	PRINTFORML %CALLNAME:実行キャラ番号%与%CALLNAME:対象キャラ番号%的唇间滴落银桥……
ENDIF

CFLAG:実行キャラ番号:ディープキス開始時間 = 0
CFLAG:対象キャラ番号:ディープキス開始時間 = 0


