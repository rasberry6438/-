# おさわりモードREADME
## モード説明
### モード全体のイメージ
- TARGETと対面でやり取りをしている    
- セクハラを許容する仲なのでそういうプレイ    
- 通常のコマンドは1コマンドは何かしらのプレイ1セットだが、おさわりでは1タッチ1撫でのイメージ

### 基本仕様
- モードに入ると時間がゆっくり流れる
- コマンドの実行には何回かさわる
	- タッチするとポイントがたまり、一定値までたまるとコマンドが実行される
- タッチでTARGETにストレスがたまる
	- ストレスが一定値蓄積すると警告が出る、警告3回でモードが強制終了する
	- タッチアイコンはストレス値で色が変わる
- おさわり判定が存在するキャラクターの場合、初期値ではおさわり判定のある画像のみが表示候補になる    
この限定を解除できる
- 表示中の画像でロックする
- メッセージログを画像の手前に表示できる

#### 画像
マッサージ開始画像を表示できる
>マッサージ開始     
>マッサージ開始うつ伏せ     
>Ｃマッサージ       
>Ｖマッサージ       
>Ｂマッサージ       
>Ａマッサージ

それぞれの
>_差分_表情     
>_差分_発情     
>_差分_絶頂     
### 受付操作

#### クリック
- 画像をクリックするとアクションが起こる
- 左にシステム操作系コマンドを格納
- 右にセクハラコマンド
- おさわり判定画像があれば画像をさわるとセクハラコマンド
- 右クリックでセクハラコマンドのグループ切替
- ホイールでログ

#### キーボード
- キーボード数字にシステム操作系コマンド
- テンキーにセクハラコマンド
- Z: おさわり終了
- L: 画像ロック
- B: おさわりあり限定解除
- PAGE UP: ログ
- SHIFT: セクハラコマンドのグループ切替

### マッサージモード
- マッサージモードの機能を反映している
- 警戒度に合わせてタッチアイコンの色が変わるので、気を付けながら理性を削る
- 補助アイテム  
	併用可能でスマート消費なのでとりあえず全部適当に開けてもオッケー
	- 橙：警戒度減少量の増加
	- 青：理性を抑制方向に補正
	- 桃：警戒度上昇の抑制

## ファイル
- おさわりCOM
- おさわりアーカイブ
- おさわりアイテム
- おさわりアクセスコマンド
- おさわりシステムコマンド
- おさわりメイン画像
- おさわりモード
- おさわりモードメモ
- おさわり可否判定

### おさわりCOM

COMの機能を抜き出したもの   
おさわりモード全体にTARGETとの対面のやり取り感を出したいので、DRAWLINEや改行を減らすために抜き出している    
対多数の処理などは削っても問題なさそうという判断    
整備性を考えて必要なところ以外はコピーしたまま残したい  

### おさわりアーカイブ

@おさわりファイルアーカイブ作成     
モード内で利用するファイルパスのアーカイブ作成をする関数

@おさわりファイル差分選出   
対象の属性の画像が複数あるときの抽選や、ステートに応じた差分の選出をする関数    
優先度は　衣装があっていること　＞　差分があっていること（発情など）    
ex.現在の衣装に絶頂画像がないとき、衣装一致の発情画像を出す     

### おさわりアイテム

マッサージモード用に追加した機能    
アロマボトルを押すと、警戒、理性の変化に影響を与える    
併用可能    
効果は発揮時のみ消化するスマート仕様    

### おさわりアクセスコマンド

画面右に展開するコマンドを生成、表示する関数    
文字列：更新タイプ　に状態を渡すことで再生成などを指示する  

### おさわりシステムコマンド

画面左に展開するコマンドを生成、表示する関数    
文字列：更新タイプ　に状態を渡すことで再生成などを指示する  

### おさわりメイン画像

画面中央に表示する画像を生成、表示する関数  
文字列：更新タイプ　に状態を渡すことで再生成などを指示する  

### おさわりモード

本体    
初期化  
LOOP起点    
画像、判定生成  
入力判定分岐    
実効判定    
実行処理    

@おさわりコマンドリスト     
部位とコマンドを対応付けるリスト

### おさわりモードメモ

README

### おさわり可否判定

受け取ったコマンド文字列に変換してABLE CANの両面から判定を行う

## ややこしい変数

- 画像切り替えカウンタ
画像の自動切換えのタイマ
マッサージ時に適正衣装のチェック開始フラグでもある
