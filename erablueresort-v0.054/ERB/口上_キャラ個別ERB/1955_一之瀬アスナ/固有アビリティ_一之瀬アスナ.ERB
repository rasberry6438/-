;アビリティ１：行っくよー！：回避値を43.4%増加、自身の連撃率を30％増加
;アビリティ２：ねぇねぇこれ見て！：敵全体の防御力を18.9%減少。さらに、攻撃力の274%分のダメージ。
;アビリティ３：はい、チーズ！：ランダムな味方3人に対して治癒力の51.7%分の回復。
;CALL アビ対象選択テンプレート_味方ランダムＸ体_重複無し(対象数)
;サポートアビリティ１：撃つよーっ！：2ターンに1度、ランダムな敵1体に対して219%分のダメージ
;サポートアビリティ２：楽しくやろう！：3ターンに1度、自身の攻撃力を25.1%増加（累積）。さらに、味方全体の奥義ゲージを10%増加
;サポートアビリティ３：スピード上げるね？：奥義発動時、自身の連撃率を20％増加
;サポートアビリティ４：これはおまけだよ！：奥義発動時、自身の連撃率を20％増加

;----------------------------------------------------------------------------------
;アビリティ１処理
;----------------------------------------------------------------------------------	
@固有アビ_1955_1(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIMS アビ名
#DIM 効果数値１
#DIM 効果数値２
#DIM 効果ターン

IF 基礎BATTLE_STATE:キャラ番号:Lv >= 24
	アビ名 = 行っくよー！+
	消費ＭＰ = 40
	効果数値１ = 43
	効果数値２ = 57
	効果ターン = 4
ELSE
	アビ名 = 行っくよー！
	消費ＭＰ = 40
	効果数値１ = 43
	効果数値２ = 30
	効果ターン = 4
ENDIF

SELECTCASE RAND:6
CASE 0
	アビ汎用文字列:実行時メッセージ１ = 「アスナ、いっくよー！」
CASE 1
	アビ汎用文字列:実行時メッセージ１ = 「ふふっ！全っ然当たらないよ！」
CASE 2
	アビ汎用文字列:実行時メッセージ１ = 「イチかバチか、やってみようかな！」
CASE 3
	アビ汎用文字列:実行時メッセージ１ = 「誰にも私を止められない！」
CASE 4
	アビ汎用文字列:実行時メッセージ１ = 「イッツ、ショウタイム！」
CASEELSE
	アビ汎用文字列:実行時メッセージ１ = 「アスナ、ここに参上！」
ENDSELECT

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>{効果ターン}ターンの間、自身の回避率を［{効果数値１}％/独自枠］上昇する。
		詳細文文字列受け渡し変数 += @"<br>更に、自身のDA・TA確率を［{効果数値２}％/独自枠］上昇する。"
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用文字列:バフ・デバフ枠 = 回避率_行くよ
		アビ汎用文字列:バフ・デバフ対象能力 = 回避率
		アビ汎用変数:持続ターン = 効果ターン
		アビ汎用変数:効果量 = 効果数値１
		CALL アビテンプレート_有利効果_バフ効果セット

		CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用変数:効果量 = 効果数値２
		アビ汎用文字列:バフ・デバフ枠 = DA率_行くよ
		アビ汎用文字列:バフ・デバフ対象能力 = DA率
		アビ汎用変数:持続ターン = 効果ターン
		CALL アビテンプレート_有利効果_バフ効果セット

		CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用変数:効果量 = 効果数値２
		アビ汎用文字列:バフ・デバフ枠 = TA率_行くよ
		アビ汎用文字列:バフ・デバフ対象能力 = TA率
		アビ汎用変数:持続ターン = 効果ターン
		CALL アビテンプレート_有利効果_バフ効果セット
ENDSELECT

;----------------------------------------------------------------------------------
;アビリティ２処理
;----------------------------------------------------------------------------------	
@固有アビ_1955_2(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIMS アビ名
#DIM 効果ターン
#DIM 効果数値１
#DIM 効果数値２
#DIM 成功率

IF 基礎BATTLE_STATE:キャラ番号:Lv >= 32
	アビ名 = ねぇねぇこれ見て！+
	消費ＭＰ = 120
	効果数値１ = 24
	効果数値２ = 438
	効果ターン = 4
	成功率 = 100
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 12
	アビ名 = ねぇねぇこれ見て！
	消費ＭＰ = 80
	効果数値１ = 18
	効果数値２ = 274
	効果ターン = 3
	成功率 = 80
ENDIF

SELECTCASE RAND:6
CASE 0
	アビ汎用文字列:実行時メッセージ１ = 「じゃーん！見て見て！」
CASE 1
	アビ汎用文字列:実行時メッセージ１ = 「私からのサプライズ！」
CASE 2
	アビ汎用文字列:実行時メッセージ１ = 「はいこれ、プレゼント！」
CASE 3
	アビ汎用文字列:実行時メッセージ１ = 「楽しいねー！」
CASE 4
	アビ汎用文字列:実行時メッセージ１ = 「あっはははははは！よーしっ！」
CASEELSE
	アビ汎用文字列:実行時メッセージ１ = 「いっくよー！」
ENDSELECT

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>{効果ターン}ターンの間、敵全体の防御力を［{効果数値１}％/独自枠］低下させる。
		詳細文文字列受け渡し変数 += @"<br>更に、自属性の［攻撃力✕{効果数値２}％］ダメージを与える。"
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_敵全体_生者のみ

		アビ汎用文字列:バフ・デバフ枠 = 防御力_ねぇ見て
		アビ汎用文字列:バフ・デバフ対象能力 = 防御力
		アビ汎用変数:持続ターン = 効果ターン
		アビ汎用変数:基礎成功確率 = 成功率
		アビ汎用変数:効果割合 = 効果数値１
		CALL アビテンプレート_不利効果_デバフ効果セット

		CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果割合 = 効果数値２
		CALL アビテンプレート_ダメージ処理_自属性
ENDSELECT

;----------------------------------------------------------------------------------
;アビリティ３処理
;----------------------------------------------------------------------------------	
@固有アビ_1955_3(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIMS アビ名
#DIM 効果ターン
#DIM 効果数値

IF 基礎BATTLE_STATE:キャラ番号:Lv >= 40
	アビ名 = はい、チーズ！+
	消費ＭＰ = 80
	効果数値 = 98
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 20
	アビ名 = はい、チーズ！
	消費ＭＰ = 80
	効果数値 = 51
ENDIF

SELECTCASE RAND:3
CASE 0
	アビ汎用文字列:実行時メッセージ１ = 「みんなー！こっちこっちー！」
CASE 1
	アビ汎用文字列:実行時メッセージ１ = 「こっちむいてー！撮るよー！」
CASEELSE
	アビ汎用文字列:実行時メッセージ１ = 「あはははっ！たっのしーねー！」
ENDSELECT

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>味方３体に対し、ランダム（重複無し）に［回復力✕{効果数値}％］の回復。
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_味方ランダムＸ体_重複無し(3)
		アビ汎用変数:効果割合 = 効果数値
		CALL アビテンプレート_回復処理_MAXでも回復
ENDSELECT

;----------------------------------------------------------------------------------
;サポアビ処理
;----------------------------------------------------------------------------------
;サポアビ１『撃つよーっ！』処理
@固有行動開始時処理_キャラ_1955
#DIM アスナ番号
#DIM 隊列番号
#DIM 効果数値１
#DIM 効果数値２
#DIM 効果数値３
#DIM 効果ターン

アスナ番号 = GETCHARA(1955)
隊列番号 = キャラ隊列検索(GETCHARA(1955))

;数値設定
IF 基礎BATTLE_STATE:アスナ番号:Lv >= 42
	IF 陥落チェック(アスナ番号)
		効果数値１ = 416
		効果数値２ = 40
		効果数値３ = 13
		効果ターン = 1
	ELSE
		効果数値１ = 219
		効果数値２ = 25
		効果数値３ = 10
		効果ターン = 1
	ENDIF
ELSE
	IF 陥落チェック(アスナ番号)
		効果数値１ = 416
	ELSE
		効果数値１ = 219
	ENDIF
ENDIF

;2ターンに1度判定
戦闘中カウント:隊列番号:0 += 1
IF 戦闘中カウント:隊列番号:0 % 2 == 0 ;2で割って余りが0だった場合、2ターンと判定
	SELECTCASE RAND:4
	CASE 0
		アビ汎用文字列:実行時メッセージ１ = 「覚悟しなさーい！」
	CASE 1
		アビ汎用文字列:実行時メッセージ１ = 「どっこいしょー！」
	CASE 2
		アビ汎用文字列:実行時メッセージ１ = 「イッツ、ショウタイム！」
	CASEELSE
		アビ汎用文字列:実行時メッセージ１ = 「撃っちゃうからね！とりゃー！」
	ENDSELECT

	SELECTCASE RAND:4
	CASE 0
		アビ汎用文字列:実行時メッセージ２ = アスナは笑顔で愛用ライフルをぶっ放した！
	CASE 1
		アビ汎用文字列:実行時メッセージ２ = アスナは何の躊躇いもなくトリガーを引いた！
	CASE 2
		アビ汎用文字列:実行時メッセージ２ = 適当にばら撒かれた弾丸が敵の一体に向かった！
	CASEELSE
		アビ汎用文字列:実行時メッセージ２ = 炸裂音と共に放たれたライフル弾が敵一体へと飛翔する！
	ENDSELECT

	IF 基礎BATTLE_STATE:アスナ番号:Lv >= 42
		アビテンプレート用_アビ名 = 撃つよーっ！／楽しくやろう！

		CALL アビ対象選択テンプレート_敵ランダムＸ体(1)
		アビ汎用変数:効果割合 = 効果数値１
		CALL アビテンプレート_ダメージ処理_自属性

		CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用文字列:バフ・デバフ枠 = 攻撃力A
		アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
		アビ汎用変数:持続ターン = 効果ターン
		アビ汎用変数:効果量 = 効果数値２
		CALL アビテンプレート_有利効果_バフ効果セット

		CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_味方全体_生者のみ
		アビ汎用変数:効果量 = 効果数値３
		CALL アビテンプレート_有利効果_奥義ゲージUP
	ELSE
		アビテンプレート用_アビ名 = 撃つよーっ！

		CALL アビ対象選択テンプレート_敵ランダムＸ体(1)
		アビ汎用変数:効果割合 = 効果数値１
		CALL アビテンプレート_ダメージ処理_自属性
	ENDIF
ENDIF

;--------------------------------------------------
;戦闘能力の固有処理説明
;--------------------------------------------------
@口上_ステータス画面_固有特性解説_1955(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

;口上と同じ感覚で使う為に書式を統一しているが、ステータス画面で表示されるので
;基本的にWAIT系列は使わないことを推奨

IF 基礎BATTLE_STATE:対象キャラ:Lv >= 42
	KSTR:(K++) = □ 特性：『撃つよーっ！／楽しくやろう！』  □-----------------------------------------------------------------
	IF 陥落チェック(対象キャラ)
		KSTR:(K++) = 　2ターンに1度、ランダムな敵1体に対して自属性の［攻撃力✕416％］ダメージを与える。
		KSTR:(K++) = 　更に、自身の攻撃力を［40％・1T］上昇させ、味方全体の奥義ゲージを13％上昇させる。
		KSTR:(K++) = 　
	ELSE
		KSTR:(K++) = 　2ターンに1度、ランダムな敵1体に対して自属性の［攻撃力✕219％］ダメージを与える。
		KSTR:(K++) = 　更に、自身の攻撃力を［25％・1T］上昇させ、味方全体の奥義ゲージを10％上昇させる。
		KSTR:(K++) = 　
	ENDIF
ELSE
	KSTR:(K++) = □ 特性：『撃つよーっ！』  □-----------------------------------------------------------------
	IF 陥落チェック(対象キャラ)
		KSTR:(K++) = 　2ターンに1度、ランダムな敵1体に対して自属性の［攻撃力✕416％］ダメージを与える。
		KSTR:(K++) = 　
	ELSE
		KSTR:(K++) = 　2ターンに1度、ランダムな敵1体に対して自属性の［攻撃力✕219％］ダメージを与える。
		KSTR:(K++) = 　
	ENDIF
ENDIF


IF 基礎BATTLE_STATE:対象キャラ:Lv >= 20
	KSTR:(K++) = □ 特性：『スピード上げるね？／これはおまけだよ！』  □-----------------------------------------
	IF 陥落チェック(対象キャラ)
		KSTR:(K++) = 　奥義発動時、自身の連撃率を38％上昇させる（独自枠１）
		KSTR:(K++) = 　更に、自身の連撃率を38％上昇させる（独自枠２）
		KSTR:(K++) = 　
	ELSE
		KSTR:(K++) = 　奥義発動時、自身の連撃率を20％上昇させる（独自枠１）
		KSTR:(K++) = 　更に、自身の連撃率を20％上昇させる（独自枠２）
		KSTR:(K++) = 　
	ENDIF
ELSE
	KSTR:(K++) = □ 特性：『スピード上げるね？』  □-----------------------------------------------------------
	IF 陥落チェック(対象キャラ)
		KSTR:(K++) = 　奥義発動時、自身の連撃率を38％上昇させる（独自枠）
		KSTR:(K++) = 　
	ELSE
		KSTR:(K++) = 　奥義発動時、自身の連撃率を20％上昇させる（独自枠）
		KSTR:(K++) = 　
	ENDIF
ENDIF

CALL 口上変数表示(対象キャラ, 1)
