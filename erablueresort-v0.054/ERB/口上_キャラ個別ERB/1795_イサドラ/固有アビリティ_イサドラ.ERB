
@固有アビ_1795_1(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIM 効果数値
#DIMS アビ名

IF 基礎BATTLE_STATE:キャラ番号:Lv >= 16
	アビ名 = 流し打ち＋＋
	消費ＭＰ = 30
	効果数値 = 150
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 7
	アビ名 = 流し打ち＋
	消費ＭＰ = 45
	効果数値 = 120
ELSE
	アビ名 = 流し打ち
	消費ＭＰ = 45
	効果数値 = 120
ENDIF

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>敵単体に{効果数値}％の自属性ダメージを与える。
		詳細文文字列受け渡し変数 += @"<br>対象の行動速度を５０％/２Ｔ減少させる。"
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_敵単体
		アビ汎用変数:効果割合 = 効果数値
		CALL アビテンプレート_ダメージ処理_自属性
		アビ汎用変数:効果割合 = 50
		アビ汎用文字列:バフ・デバフ枠 = 行動速度A
		アビ汎用文字列:バフ・デバフ対象能力 = 行動速度
		アビ汎用変数:持続ターン = 2
		CALL アビテンプレート_不利効果_デバフ効果セット
ENDSELECT

@固有アビ_1795_2(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIM 効果数値
#DIMS アビ名
#DIM イサドラ隊列

イサドラ隊列 = キャラ隊列検索(GETCHARA(1795))

IF イサドラ隊列 >= 0 && 戦闘中カウント:イサドラ隊列:0 >= 3
	IF 基礎BATTLE_STATE:キャラ番号:Lv >= 29
		アビ名 = 戦闘準備＋＋
		消費ＭＰ = 10
		効果数値 = 70
	ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 14
		アビ名 = 戦闘準備＋
		消費ＭＰ = 20
		効果数値 = 55
	ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 5
		アビ名 = 戦闘準備
		消費ＭＰ = 30
		効果数値 = 40
	ELSE
		アビ名 = 
	ENDIF
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 29
	アビ名 = 囲い＋＋
	消費ＭＰ = 20
	効果数値 = 50
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 14
	アビ名 = 囲い＋
	消費ＭＰ = 30
	効果数値 = 35
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 5
	アビ名 = 囲い
	消費ＭＰ = 40
	効果数値 = 20
ELSE
	アビ名 = 
ENDIF

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>味方全体の防御力を{効果数値}％/３Ｔ上昇させる。
	SIF 戦闘中カウント:イサドラ隊列:0 <= 2
	詳細文文字列受け渡し変数 += "<br>[あなたの盾]が３以上なら［戦闘準備］に変化"
	SIF 戦闘中カウント:イサドラ隊列:0 >= 3
	詳細文文字列受け渡し変数 += "<br>［あなたの盾］を３消費し、味方全体にダメージカット７０％/２回を付与する"
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_味方全体_生者のみ
		アビ汎用変数:効果割合 = 効果数値
		アビ汎用文字列:バフ・デバフ枠 = 防御力A
		アビ汎用文字列:バフ・デバフ対象能力 = 防御力
		アビ汎用変数:持続ターン = 3
		CALL アビテンプレート_有利効果_バフ効果セット
	IF 戦闘中カウント:イサドラ隊列:0 >= 3
		CALL アビ汎用変数文字列リセット
		戦闘中カウント:イサドラ隊列:0 -= 3
		アビ汎用変数:効果割合 = 70
		アビ汎用文字列:バフ・デバフ枠 = 被ダメージ減少
		アビ汎用文字列:バフ・デバフ対象能力 = 被ダメージ
		アビ汎用変数:持続回数 = 2
		CALL アビテンプレート_有利効果_バフ効果セット
		ENDIF
ENDSELECT

@固有アビ_1795_3(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIM 効果数値
#DIMS アビ名
#DIM イサドラ隊列

イサドラ隊列 = キャラ隊列検索(GETCHARA(1795))

IF イサドラ隊列 >= 0 && 戦闘中カウント:イサドラ隊列:0 >= 5
	IF 基礎BATTLE_STATE:キャラ番号:Lv >= 35
		アビ名 = 回転斬り＋＋
		消費ＭＰ = 40
		効果数値 = 200
	ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 21
		アビ名 = 回転斬り＋
		消費ＭＰ = 50
		効果数値 = 160
	ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 8
		アビ名 = 回転斬り
		消費ＭＰ = 60
		効果数値 = 130
	ELSE
		アビ名 = 
	ENDIF
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 35
	アビ名 = 制圧＋＋
	消費ＭＰ = 55
	効果数値 = 150
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 21
	アビ名 = 制圧＋
	消費ＭＰ = 65
	効果数値 = 130
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 8
	アビ名 = 制圧
	消費ＭＰ = 75
	効果数値 = 110
ELSE
	アビ名 = 
ENDIF

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>敵単体に{効果数値}％の自属性ダメージを与える。
	SIF 戦闘中カウント:イサドラ隊列:0 <= 2
	詳細文文字列受け渡し変数 += "<br>[あなたの盾]が５以上なら［回転斬り］に変化"
	SIF 戦闘中カウント:イサドラ隊列:0 >= 3
	詳細文文字列受け渡し変数 += "<br>[あなたの盾]を３消費し、対象に［自傷］（１０％/１行動、上限１０００）を付与して攻撃力を５０％/２Ｔ減少させる。"
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_敵単体
		アビ汎用変数:効果割合 = 効果数値
		CALL アビテンプレート_ダメージ処理_自属性
		IF 戦闘中カウント:イサドラ隊列:0 >= 5
		CALL アビ汎用変数文字列リセット
		戦闘中カウント:イサドラ隊列:0 -= 3
		アビ汎用変数:効果量 = MIN(1000, 敵BATTLE_STATE:(アビテンプレート用_対象保存:0 - 10):最大ＨＰ / 10)
		アビ汎用文字列:バフ・デバフ枠 = 出血
		アビ汎用文字列:バフ・デバフ対象能力 = 自傷
		アビ汎用変数:持続回数 = 1
		CALL アビテンプレート_不利効果_デバフ効果セット
		CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果割合 = 50
		アビ汎用文字列:バフ・デバフ枠 = 攻撃力A
		アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
		アビ汎用変数:持続ターン = 2
		CALL アビテンプレート_不利効果_デバフ効果セット
		ENDIF
ENDSELECT

@固有通常攻撃後処理_キャラ_1795(全滅フラグ, 連撃数)
#DIM キャラ番号
#DIM 連撃数
#DIM 全滅フラグ
#DIM バフ・デバフ行数
#DIM イサドラ隊列

SIF 全滅フラグ
	戦闘中カウント:イサドラ隊列:0 = 0
SIF 全滅フラグ
	RETURN 0

イサドラ隊列 = キャラ隊列検索(GETCHARA(1795))

IF 戦闘中カウント:イサドラ隊列:0 >= 3
	CALL アビテンプレート用_表示メッセージ変換処理
	アビテンプレート用_アビ名表示済フラグ = 0

	アビ汎用文字列:実行時メッセージ１ = イサドラの立ち向かうが発動！
	アビ汎用変数:効果割合 = 100
	CALL アビテンプレート_ダメージ処理_自属性
	CALL アビ対象選択テンプレート_自己のみ
	アビ汎用変数:効果割合 = 50
	アビ汎用文字列:バフ・デバフ枠 = 行動速度A
	アビ汎用文字列:バフ・デバフ対象能力 = 行動速度
	アビ汎用変数:持続ターン = 2
	CALL アビテンプレート_有利効果_バフ効果セット
ENDIF
SIF 連撃数 == 3
	戦闘中カウント:イサドラ隊列:0 += 1
SIF 戦闘中カウント:イサドラ隊列:0 >= 10
	戦闘中カウント:イサドラ隊列:0 = 10

@固有戦闘開始時処理_キャラ_1795
#DIM あなたの盾
#DIM イサドラ隊列
#DIM 対象番号
#DIM あなたの盾保有数

あなたの盾保有数 = 戦闘中カウント:イサドラ隊列:0
イサドラ隊列 = キャラ隊列検索(GETCHARA(1795))
CALL アビ対象選択テンプレート_自己のみ
アビ汎用文字列:バフ・デバフ枠 = あなたの盾
アビ汎用文字列:バフ・デバフ対象能力 = あなたの盾
アビ汎用変数:持続ターン = -1
アビ汎用変数:消去不可オプション = 1
アビ汎用変数:特殊表示オプション = 1
CALL アビテンプレート_有利効果_パッシブバフ効果セット
;メッセージ出さない用に保存文字列をリセット
CALL アビテンプレ変数リセット

@バフ・デバフ特殊表示_あなたの盾(隊列番号, バフ・デバフ行数)
#DIM 隊列番号
#DIM バフ・デバフ行数
#DIM あなたの盾
#DIM イサドラ隊列
#DIM 対象番号
#DIM あなたの盾保有数


あなたの盾保有数 = 戦闘中カウント:イサドラ隊列:0
イサドラ隊列 = キャラ隊列検索(GETCHARA(1795))
VARSET LOCALS

PRINTFORML あなたの盾 現在{あなたの盾保有数}（最大１０）




;--------------------------------------------------
;戦闘能力画面に表示されるキャラごとの固有処理説明
;--------------------------------------------------
;・使い方
;「XXXX」をキャラクター番号に置換し、それぞれの関数に処理を入れる
;　口上と同じ感覚で使う為に書式を統一しているが、ステータス画面で表示されるので
;　基本的にWAIT系列は使わないことを推奨
;--------------------------------------------------
@口上_ステータス画面_固有特性解説_1795(対象キャラ)
#DIM 対象キャラ
#DIM 効果数値1
#DIM 効果数値2

	IF 基礎BATTLE_STATE:対象キャラ:Lv >= 29
			効果数値1 = 70
		ELSEIF 基礎BATTLE_STATE:対象キャラ:Lv >= 14
			効果数値1 = 55
		ELSEIF 基礎BATTLE_STATE:対象キャラ:Lv >= 5
			効果数値1 = 40
		ELSE
			
		ENDIF
	IF 基礎BATTLE_STATE:対象キャラ:Lv >= 35
			効果数値2 = 200
		ELSEIF 基礎BATTLE_STATE:対象キャラ:Lv >= 21
			効果数値2 = 160
		ELSEIF 基礎BATTLE_STATE:対象キャラ:Lv >= 8
			効果数値2 = 130
		ELSE
			
		ENDIF

CALL 口上変数初期化
KSTR:(K++) = □ 特性：『ツヴァイ協会』 □-------------------------------------------
KSTR:(K++) = 　トリプルアタック・奥義発動時、[あなたの盾]が増加（最大１０）
KSTR:(K++) = 　◆あなたの盾が３以上の時、通常攻撃後に[立ち向かう]が発動
SIF 基礎BATTLE_STATE:対象キャラ:Lv >= 5
KSTR:(K++) = 　◆あなたの盾が３以上の時、[囲い]が[戦闘準備]に変化
SIF 基礎BATTLE_STATE:対象キャラ:Lv >= 8
KSTR:(K++) = 　◆あなたの盾が５以上の時、[制圧]が[回転斬り]に変化
KSTR:(K++) = 　
KSTR:(K++) = □ 特性：『立ち向かう』 □-------------------------------------------
KSTR:(K++) = 　敵単体に１００％の自属性ダメージを与える。
KSTR:(K++) = 　自身の行動速度を５０％/２Ｔ上昇させる。
KSTR:(K++) = 　
IF 基礎BATTLE_STATE:対象キャラ:Lv >= 5
KSTR:(K++) = □ 特性：『戦闘準備』 □-------------------------------------------
KSTR:(K++) = 　味方全体の防御力を{効果数値1}％/３Ｔ上昇させる。
KSTR:(K++) = 　[あなたの盾]を３消費し、味方全体にダメージカット７０％/２回を付与する
KSTR:(K++) = 　
ELSE
ENDIF
IF 基礎BATTLE_STATE:対象キャラ:Lv >= 8
KSTR:(K++) = □ 特性：『回転斬り』 □-------------------------------------------
KSTR:(K++) = 　敵単体に{効果数値2}％の自属性ダメージを与える。
KSTR:(K++) = 　[あなたの盾]を３消費し、対象に[自傷]を付与して攻撃力を５０％/２Ｔ減少させる。
KSTR:(K++) = 　
ELSE
ENDIF

CALL 口上変数表示(対象キャラ, 1)



