;--------------------------------------------------
;キャラの絶頂後、あなたの射精への反応など
;--------------------------------------------------
;・使い方
;「27」をキャラクター番号に置換し、それぞれの関数に処理を入れる
;--------------------------------------------------

;--------------------------------------------------
;通常絶頂時
;--------------------------------------------------
@KOJO_ORGASM_通常絶頂_27(対象キャラ)
#DIM 対象キャラ
#DIM 相手キャラ番号
;NOWEX:対象キャラ:Ｃ絶頂、NOWEX:対象キャラ:Ｖ絶頂、NOWEX:対象キャラ:Ａ絶頂、NOWEX:対象キャラ:Ｂ絶頂、NOWEX:対象キャラ:Ｓ絶頂
	;それぞれの絶頂強度が入っている
	;1:絶頂(10000超え)  2:強絶頂(20000超え)  3:超強絶頂(30000超え)  4:最強絶頂(40000超え)  5:究極絶頂(50000超え)
	;この強度の名前ダサいから変えたい……

CALL 口上変数初期化

相手キャラ番号 = 絶頂相手算出(対象キャラ)

IF 相手キャラ番号 == MASTER
	;相手があなたの時
	;多部位同時絶頂判定
	LOCAL:1 = 0
	FOR LOCAL, 0, 5
		SIF NOWEX:対象キャラ:LOCAL
			LOCAL:1 += 1
	NEXT
	SELECTCASE LOCAL:1
		CASE 2
			;2部位同時絶頂
			KSTR:(K++) = 「嗯啊_H_不……我才没……_H_没高潮呢！！」
			KSTR:(K++) = (明明不行了…却好舒服啊_H_……)
			KSTR:(K++) = 倔强的%CALLNAME:対象キャラ%在连续高潮中仍强撑着最后的抵抗……
		CASE 3
			;3部位同時絶頂
			KSTR:(K++) = 「呜哦…呼…才_H_才不会认输_H_……人家可是…呀_H_…团长呢………」
			KSTR:(K++) = (要…要是被大家知道我在做这种事………就完蛋了_H_…)
			KSTR:(K++) = %CALLNAME:対象キャラ%不愿承认正被%CALLNAME:MASTER%高超技巧玩弄到狼狈潮吹的事实，但早已开发成熟的身体早已彻底臣服……
		CASE 4
			;4部位同時絶頂
			KSTR:(K++) = 「咕…呜_H_啊呜……对不起…明明_H_是大家的…团长却…对不起_H_…」
			KSTR:(K++) = 连心灵都向快感屈服的淫乱%CALLNAME:対象キャラ%，在喘息中如同梦呓般向同伴们道着歉……
		CASE 5
			;全部位同時絶頂、理論上は存在しうる
			KSTR:(K++) = 「啊啊……_H_呜嗯…爸…爸爸_H_…别这样_H_…要坏掉_H_…了……」
			KSTR:(K++) = 似乎给成长中的%CALLNAME:対象キャラ%身心施加了过量快感，意识朦胧间连呼吸都困难，仿佛产生了幻觉……
		CASEELSE
			;1部位絶頂
			IF NOWEX:対象キャラ:Ｃ絶頂
				KSTR:(K++) = 「呀_H_…呜嗯…_H_…才没有…高潮呢………」
				KSTR:(K++) = %CALLNAME:対象キャラ%双腿发颤地嘴硬着……
			ELSEIF NOWEX:対象キャラ:Ｖ絶頂
				KSTR:(K++) = 「小腹…_H_要溢出来了…没关系的…嗯啊_H_…」
				KSTR:(K++) = %CALLNAME:対象キャラ%从尿道激烈喷涌着潮水，因阴道高潮而浑身颤抖……
			ELSEIF NOWEX:対象キャラ:Ａ絶頂
				KSTR:(K++) = 
			ELSEIF NOWEX:対象キャラ:Ｂ絶頂
				KSTR:(K++) = 
			ELSEIF NOWEX:対象キャラ:Ｓ絶頂
				KSTR:(K++) = 
			ENDIF
	ENDSELECT
ENDIF

;ルリアと同位置ではなく1/5の確率で発生
IF CFLAG:対象キャラ:現在位置 != CFLAG:GETCHARA(28):現在位置 && TALENT:対象キャラ:命のリンク
	SELECTCASE RAND:5
	CASE 0
					KSTR:(K++) = _L_
		IF EXP:GETCHARA(28):絶頂経験 <= 30
		KSTR:(K++) = _COLOR_0x4169e1_「咿…_H_」
		KSTR:(K++) = _COLOR_0x4169e1_(%CALLNAME:対象キャラ%……？是错觉吗……)
		KSTR:(K++) = _COLOR_0x4169e1_与%CALLNAME:対象キャラ%感官共享的%CALLNAME:GETCHARA(28)%突然在公众场合被快感侵袭，慌乱不已……
		ELSE
			SELECTCASE RAND:3
			CASE 0
			KSTR:(K++) = _COLOR_0x4169e1_「呀…呜…下面_H_…」
			KSTR:(K++) = _COLOR_0x4169e1_(没被……看到吧………为了%CALLNAME:対象キャラ%……得……忍住声音……嗯呜_H_…)
			CASE 1
			KSTR:(K++) = _COLOR_0x4169e1_「喵…呜嗯…%CALLNAME:対象キャラ%啊_H_…」
			KSTR:(K++) = _COLOR_0x4169e1_下腹袭来的剧烈快感让%CALLNAME:GETCHARA(28)%瘫软在地，失控潮吹……
			KSTR:(K++) = _COLOR_0x4169e1_%CALLNAME:GETCHARA(28)%双腿如小鹿般颤抖着，边抽泣边擦拭满地爱液，随后匆匆逃离现场
			CASE 2
			KSTR:(K++) = _COLOR_0x4169e1_「又…来了吗…呜…嗯_H_…」
			KSTR:(K++) = _COLOR_0x4169e1_%CALLNAME:GETCHARA(28)%纯白连衣裙已被自己的爱液浸透，仍在努力抵抗快感……
			KSTR:(K++) = _COLOR_0x4169e1_(%CALLNAME:対象キャラ%…下面…一跳一跳的…是不是坏掉了呀_H_…)
			ENDSELECT
		ENDIF
	ENDSELECT
ENDIF

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;調教者の射精時
;--------------------------------------------------
@KOJO_ORGASM_被射精_27(対象キャラ)
#DIM 対象キャラ
#DIM 相手キャラ番号
;RFLAG:フィニッシュ場所
	;どこに出されたか  
;RCVAR:対象キャラ:被射精絶頂の強度
	;１以上だと射精された時にキャラも絶頂
	;現状はフィニッシュ場所が0～3の時しか起こらない
CALL 口上変数初期化

相手キャラ番号 = RFLAG:口上用射精キャラ番号

IF 相手キャラ番号 == MASTER
	;相手があなたの時
	SELECTCASE RFLAG:フィニッシュ場所
		CASE 0
			;膣内
			;現在の体力気力によって分岐
			;(23/10/20追記　気力の削除に応じて条件を変更しました。by開発者きくうし)
			IF RCVAR:対象キャラ:被射精絶頂の強度
				;IF BASE:対象キャラ:気力 <= 300 && BASE:対象キャラ:体力 <= 601
				IF BASE:対象キャラ:体力 <= 201
					KSTR:(K++) = 「啊…呜_H_嗯…_H_不…_H_……」
					KSTR:(K++) = 体力透支濒临昏厥的%CALLNAME:対象キャラ%只能发出毫无理性的下流喘息，
					KSTR:(K++) = %CALLNAME:MASTER%提出只要认输就让她休息时，她才勉强挤出断断续续的句子
					KSTR:(K++) = 「嘻…嗯_H_输…输给…_H_%CALLNAME:MASTER%…的…大肉棒了_H_…」
					KSTR:(K++) = 未满足的%CALLNAME:MASTER%压上摆出双V手势认输的少女，以捣毁发育期子宫的气势在花心深处射精……
					KSTR:(K++) = (妈妈当年…也体会过这种感受吗…嘻…嗯_H_)
				ELSEIF BASE:対象キャラ:体力 <= 601
					KSTR:(K++) = 「呜…嗯_H_对…对不起_H_…人家正在…高潮…别顶了_H_…小腹要…坏掉了_H_…」
					KSTR:(K++) = %CALLNAME:MASTER%用胳膊勒紧道歉少女的脖颈，在窒息收缩的嫩穴里肆意内射
					KSTR:(K++) = 「哈啊…哈呜…都…溢出来了_H_…」
					KSTR:(K++) = (被%CALLNAME:MASTER%注入了好多…脑袋晕乎乎的_H_…)
				ELSE
					KSTR:(K++) = 「咿呀…_H_才没…输呢_H_…%CALLNAME:MASTER%明明…更弱嘛_H_…」
					KSTR:(K++) = (呜_H_小腹好舒服…这样下去…赢不了啦_H_…)
					KSTR:(K++) = 即便被%CALLNAME:MASTER%内射到双腿痉挛失禁，%CALLNAME:対象キャラ%仍倔强地否认败北……
				ENDIF
			ELSE
				;IF BASE:対象キャラ:気力 <= 300
				IF BASE:対象キャラ:体力 <= 201
				KSTR:(K++) = 「嗯咕…肚…肚子…好烫…太激烈了_H_…」
				KSTR:(K++) = (大人…每天都做这种事吗_H_…)
				;KSTR:(K++) = %CALLNAME:対象キャラ%は%CALLNAME:MASTER%との激しい中出し交尾で気力をすり減らし、怯えている……
				KSTR:(K++) = %CALLNAME:対象キャラ%因激烈性交耗尽体力，眼角泛着泪花颤抖……
				ELSE
				KSTR:(K++) = 「哎呀？射出来了_H_…难道性技…是我更厉害吗_H_…？」
				KSTR:(K++) = (明明是我更强…绝对不会输_H_)
				KSTR:(K++) = %CALLNAME:対象キャラ%边喘息边挑衅刚射精的%CALLNAME:MASTER%… 
				ENDIF
			ENDIF
		CASE 1
			;腸内
			IF RCVAR:対象キャラ:被射精絶頂の強度
				KSTR:(K++) = 「唔…嗯_H_肛交舒服吗？我…倒是…还行_H_…」
				KSTR:(K++) = (虽然不太懂………单方面让%CALLNAME:MASTER%射精真好玩_H_)
			ELSE
				KSTR:(K++) = 「咿…%CALLNAME:MASTER%？居然…射在人家屁股里了_H_…」
				KSTR:(K++) = %CALLNAME:対象キャラ%因肛门异物感皱起小脸，却又眯着眼责备轻易射精的%CALLNAME:MASTER%——或许被激发了受虐欲？
			ENDIF
		CASE 2
			;口
			IF RCVAR:対象キャラ:精飲フラグ
				KSTR:(K++) = 「啊～_H_」
				KSTR:(K++) = %CALLNAME:対象キャラ%淫靡地张嘴展示精液，缓缓吞咽……
				KSTR:(K++) = 「咳噗……哼哼……厉害吧_H_…身为团长连精液都能好好喝下去哦_H_…」
				KSTR:(K++) = 嘴角粘着阴毛的%CALLNAME:対象キャラ%得意洋洋地说道……
			ELSE
				KSTR:(K++) = 即将射精的%CALLNAME:MASTER%按住%CALLNAME:対象キャラ%脑袋往喉管灌入白浊
				KSTR:(K++) = 「呕……咳咳……过分！都不知道温柔点……黏糊糊的……」
				KSTR:(K++) = %CALLNAME:対象キャラ%泪眼婆娑地抗议，鼻尖还垂着精液丝……
				ENDIF

		CASE 3
			;乳内
				KSTR:(K++) = 「啊～_H_%CALLNAME:MASTER%射在人家胸上了_H_不可以啦_H_」
				KSTR:(K++) = 坏笑着的%CALLNAME:対象キャラ%用发育期的乳房紧紧裹住渗出前列腺液的龟头，迫使%CALLNAME:MASTER%在密闭空间里射精……

		CASE 5
			;顔
			KSTR:(K++) = 「呀呜……啊嗯_H_被弄脏了………_H_」
			KSTR:(K++) = 吐出舌头试图用嘴接住%CALLNAME:MASTER%精液的%CALLNAME:対象キャラ%，因突然被颜射而兴奋不已
		CASE 6
			;腹
			KSTR:(K++) = 
		CASE 7
			;背中
			KSTR:(K++) = 
		CASE 30
			IF CFLAG:対象キャラ:うふふ
				;うふふ中汎用射精
				SELECTCASE RAND:3
				CASE 0
				KSTR:(K++) = 「欸……？」
				KSTR:(K++) = %CALLNAME:対象キャラ%被%CALLNAME:MASTER%尿道喷射的大量白浊惊得目瞪口呆……
				KSTR:(K++) = (难、难道很舒服吗？搞不懂啦_H_……)
				CASE 1
				KSTR:(K++) = 「射…射这么多没问题吗？是…是我的错吗？对不起_H_…」
				KSTR:(K++) = %CALLNAME:対象キャラ%用手舀起%CALLNAME:MASTER%的精液目不转睛地端详……
				CASE 2
				KSTR:(K++) = 「嗯…呀_H_…人家很努力了！！快表扬我！！」
				KSTR:(K++) = 拥抱成功引诱%CALLNAME:MASTER%射精的%CALLNAME:対象キャラ%，轻抚她的小脑袋
				KSTR:(K++) = (想要更多夸奖_H_必须让他射更多才行_H_…)
				ENDSELECT
			ELSE
				;非うふふ時の射精、反向性骚扰など
				KSTR:(K++) = 
			ENDIF
	ENDSELECT
ENDIF

CALL 口上変数表示(対象キャラ, 0)
