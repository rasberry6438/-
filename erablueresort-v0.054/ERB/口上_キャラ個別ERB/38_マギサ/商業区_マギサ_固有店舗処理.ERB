;***************************************
;商業区に特殊な店舗を立てるための関数
;****************************************
;・使い方;「38」をキャラクター番号に置換し、それぞれの関数に処理を入れる
;****************************************
;--------------------------------------------------
;コマンド実行時処理
;--------------------------------------------------
@特殊店舗_建設条件_38(対象キャラ)
#DIM 対象キャラ

;RESULTS:0に文字列が入っていればその名前で店を生成する
;RESULTS:1には店の種別を入力する。空でもOK

;汎用店舗とは違い、基本的に条件を満たせば必ず発生する
;（一日３店舗までの制限は受ける）
;確率を持たせたいならこの関数内部でRANDを使うこと

RESULTS:0 = 魔女的工坊
RESULTS:1 = 
RETURN 0

;--------------------------------------------------
;商店効果
;--------------------------------------------------
@特殊店舗_一日終了時処理_魔女的工坊()

LOCAL = 滞在キャラ数算出関数() * 3

ZP小数点以下所持量 += LOCAL
IF ZP小数点以下所持量 > 999
	FLAG:ZP所持量 += ZP小数点以下所持量 / 1000
	ZP小数点以下所持量 = ZP小数点以下所持量 % 1000
ENDIF

RSTR:リゾート収支計算_記録文字列 += @"通过玛姬莎的『魔女的工房』的效果，获得了{LOCAL / 1000}.{(LOCAL % 1000) / 100}{(LOCAL % 100) / 10}{(LOCAL % 10)}ZP。"
