;--------------------------------------------------
;ダンジョン探索中にダンジョンハプニングを踏んだとき表示される文章
;--------------------------------------------------
;・使い方
;「38」をキャラクター番号に置換し、それぞれの関数に処理を入れる
;--------------------------------------------------
;ver240507
;--------------------------------------------------
;「スカート捲れ」時
;--------------------------------------------------
@KOJO_ハプニング_スカート捲れ_38(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)
;急に突風が吹いた！
;マギサの服が捲れあがり、
;目の前にいた＠はマギサの下着をばっちり見てしまった！
IF TALENT:対象キャラ:恋慕
	WSTR:(K++) = 「啊呀，被看到了呢？」
	WSTR:(K++) = 「……还想多看一点吗？等我们单独的时候哦_H_」
ELSEIF TALENT:対象キャラ:セフレ
	WSTR:(K++) = 「啊呀，被看到了呢？」
	WSTR:(K++) = 「……还想多看一点吗？等我们单独的时候哦_H_」
ELSE
	WSTR:(K++) = 「你对我的裙下感兴趣吗？那当然没问题」
	WSTR:(K++) = 「不过……魔女的内衣可不便宜哦，就算只看一眼也得记住这一点」
	WSTR:(K++) = 虽然脸上浮现着微笑，眼神却冰冷无比……
ENDIF


CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ,,0)

;--------------------------------------------------
;「ポロリ発生」時
;--------------------------------------------------
@KOJO_ハプニング_ポロリ発生_38(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

IF TALENT:対象キャラ:恋慕
	WSTR:(K++) = 「真伤脑筋呢……%CALLNAME:MASTER%，能稍微帮我一下吗？」
	WSTR:(K++) = 你强忍着内心的躁动，小心翼翼地帮玛姬莎整理凌乱的衣服……
ELSEIF TALENT:対象キャラ:セフレ
	WSTR:(K++) = 「真伤脑筋呢……%CALLNAME:MASTER%，能稍微帮我一下吗？」
	WSTR:(K++) = 你强忍着内心的躁动，小心翼翼地帮玛姬莎整理凌乱的衣服……
ELSE
	WSTR:(K++) = 「哎呀真是的，这种事可不常见呢……」
	WSTR:(K++) = 「……再盯着看下去，可别怪我生气了哦？」
ENDIF

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ,,0)

;--------------------------------------------------
;「乳タッチ」時
;--------------------------------------------------
@KOJO_ハプニング_乳タッチ_38(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)
;＠は何かに躓いてしまった！
;幸いにもマギサが受け止めてくれたが、
;その拍子に、豊かな胸を鷲掴みにしてしまった。
IF TALENT:対象キャラ:恋慕
	WSTR:(K++) = 「唔……嗯_H_」
	WSTR:(K++) = 「看起来没扭到脚什么的。真是太好了」
	WSTR:(K++) = 「不过啊……这种事，还是在没人的地方再做……好吗？」
ELSEIF TALENT:対象キャラ:セフレ
	WSTR:(K++) = 「没事吧？有没有受伤？那就好～」
	WSTR:(K++) = 玛姬莎一把把你抱紧，脸埋进她的胸口里，让人忍不住沉醉其中。
	WSTR:(K++) = ……不过也就一瞬间而已。玛姬莎小姐，有点、喘不过气了……
ELSE
	WSTR:(K++) = 「你不是故意的吧？那就没关系啦，不用太在意」
	WSTR:(K++) = 「不过……如果这其实是恶作剧的话……你懂的吧？」
ENDIF

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ,,0)

;--------------------------------------------------
;「発情罠」時、陥落状態だと物陰でセックスする
;V挿入したことがない場合、V快楽は発生しない
;A挿入したことがない場合、A快楽は発生しない
;--------------------------------------------------
@KOJO_ハプニング_発情罠セックス_38(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

IF TALENT:対象キャラ:恋慕
	WSTR:(K++) = 玛姬莎低声说了句「对不起」，就把%CALLNAME:MASTER%拉进了隐蔽处。
	WSTR:(K++) = 她扑进%CALLNAME:MASTER%怀里，献上了热烈的吻。
	WSTR:(K++) = 「对不起，%CALLNAME:MASTER%。我已经忍不住了……_H_」
	WSTR:(K++) = 面对她热烈的吻和那含泪的双眼，%CALLNAME:MASTER%也无法拒绝……
ELSEIF TALENT:対象キャラ:セフレ
	WSTR:(K++) = 玛姬莎突然将%CALLNAME:MASTER%拉进了隐蔽处。
	WSTR:(K++) = 她将丰满的胸部暴露出来，脱下内裤，扑倒在%CALLNAME:MASTER%身上。
	WSTR:(K++) = 接着，只吟诵了短短一句咒文，仅此就让%CALLNAME:MASTER%陷入了几近痛苦的兴奋中。
	WSTR:(K++) = 「呵呵呵呵_H_对不起，我已经停不下来了_H_……那么，我们一起变得更舒服吧_H_」
	WSTR:(K++) = 面对她炽热得过头的渴求，%CALLNAME:MASTER%也不得不回应……
ELSE
	WSTR:(K++) = 「对不起，%CALLNAME:MASTER%……我好像忍不了了……对不起……」
	WSTR:(K++) = 面对她含泪的双眸，%CALLNAME:MASTER%也不得不回应……
ENDIF

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ,,0)

;--------------------------------------------------
;「発情罠」時、陥落状態だと物陰でオナニーする
;部位の決定方法は一日終了時オナニーと同様
;（全部位からランダム、ABLや敏感素質があると確率UP
;　V経験・A経験が無い場合はそれぞれV・Aは選択されない
;　男の場合、V・Bは選択されない）
;--------------------------------------------------
@KOJO_ハプニング_発情罠オナニー_38(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

IF 知識素質:対象キャラ:性知識 < 0 && EXP:対象キャラ:自慰経験 <= 0
	;性知識と自慰経験が無い場合、あなたが自慰を教えてあげるシチュになる
	;接触ソースが発生し、キャラがオナニー覚えたて状態になる
	WSTR:(K++) = 「我居然会被这么简单的陷阱……可恶……」
ELSE
	WSTR:(K++) = 「我居然会被这么简单的陷阱……可恶……」
	WSTR:(K++) = 「要不干脆让%CALLNAME:MASTER%也来帮帮我好了……不过，这样是不是太……」
ENDIF

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ,,0)

