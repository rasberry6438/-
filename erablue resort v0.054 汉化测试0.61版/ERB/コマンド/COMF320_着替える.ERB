;-------------------------------------------------
;更换服装
;-------------------------------------------------
@COMNAME334
#FUNCTIONS
TSTR:コマンド名受渡 = 更换服装


;===================================================
;コマンドタイプ
;===================================================
@COMTYPE_334
#FUNCTION
TFLAG:コマンドタイプ受渡 = COMTYPE("単独可能")

@COM_TOOLTIP_334
LOCALS = <br>■更换服装<br>
LOCALS += "在个人房间更换其他服装的指令。可以更改自身的制服・当前衣着。"
LOCALS += "<br>指令类型：可单独执行<br>获取来源：无"
LOCALS += "<br>专属经验值：无<br>"
TSTR:ツールチップ受渡 = %LOCALS%

@COM334

CALL コスプレ実処理(PLAYER)
IF RSTR:コマンド結果受渡し文字列 != "元の衣装"
	現在制服:PLAYER:0 '= RSTR:コマンド結果受渡し文字列
ELSE
	現在制服:PLAYER:0 = 
ENDIF
RETURN RESULT

;-------------------------------------------------
;実行判定
;-------------------------------------------------

@COM_ABLE334
;全部脱衣
SIF SAVESTR:ゲームフェイズ管理 != "通常モード"
	RETURN 0
;一括管理
SIF GLOBAL_COMABLE(334)
	RETURN RESULT


RETURN 1


;-------------------------------------------------
;実行時メッセージ
;-------------------------------------------------
@MESSAGE_COM334
#DIM 同時キャラ番号

PRINTFORML %CALLNAME:PLAYER%换上了%RSTR:コマンド結果受渡し文字列%。

;画像表示、元の衣装以外の時に表示
IF RSTR:コマンド結果受渡し文字列 != "元の衣装"
	IF EXIST画像FILE(@"resources/%CSTR:PLAYER:画像フォルダ%/短冊_%RSTR:コマンド結果受渡し文字列%")
		CALL PRINT_STRL(@"IMAGEPATH_%CSTR:PLAYER:画像フォルダ%/短冊_%RSTR:コマンド結果受渡し文字列%")
	ENDIF
ENDIF

