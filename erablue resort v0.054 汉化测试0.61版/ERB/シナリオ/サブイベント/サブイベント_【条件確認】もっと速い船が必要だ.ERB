
@イベント発生条件_サブイベント_【条件確認】もっと速い船が必要だ

;開放条件を満たしたら1を返すこと
IF イベント完了フラグ確認("もっと速い船が必要だ") > 0 && 高速船作成済フラグ == 0
	RETURN 1
ENDIF
RETURN 0

@イベント消滅条件_キャライベント_【条件確認】もっと速い船が必要だ
;この条件を満たした時、イベントは発生してない扱いとなる
;発生条件＞消滅条件で見るので、発生と消滅を両方満たしている時は「発生した！」というメッセージが出るが発生していない扱いになる
;そのため条件には注意すること

IF 高速船作成済フラグ
	;発生条件アウトなので1を返す
	RETURN 1
ENDIF

@イベント関数_サブイベント_【条件確認】もっと速い船が必要だ(ARG)
DRAWLINE
PRINTL ［【条件确认】需要更快的船］
DRAWLINE
PRINTW
CALL 画像表示("顔エラ","LEFT",,,,1,)
PRINTL 星晶兽艾拉：
PRINTFORMW 「如何？已与风之星晶兽缔结羁绊了吗？」
PRINTL
IF 風の星晶獣_陥落チェック() || ダンジョンクリアフラグ_風遊ぶ渓谷の参道
	PRINTFORMW 条件已满足，让我们立即开始吧。
	PRINTL
	PRINTL 星晶兽艾拉：
	PRINTFORMW 「看来条件确实已经满足了
	PRINTFORMW 　即将现有船只改造为高速舰，顷刻可成」
	PRINTL
	SETCOLOR 0xFFFF00
	SIF !高速船作成済フラグ
		PRINTFORML 成功建造高速舰，度假村可容纳角色上限＋１０
	SIF ダンジョンクリアフラグ_風遊ぶ渓谷の参道
		PRINTFORML 道具店新增「风之魔石」
	RESETCOLOR
	高速船作成済フラグ = 1
	;即座に反映させるために再計算を呼ぶ
	CALL 滞在可能キャラ数再計算()
	CALL イベント完了フラグ汎用処理_再視聴不可("【条件確認】もっと速い船が必要だ")
ELSE
	PRINTFORMW 不，条件尚未满足。 %CALLNAME:PLAYER%摇着头说道。
	PRINTL
	PRINTL 星晶兽艾拉：
	PRINTFORMW 「是吗。条件是【与风之星晶兽建立爱慕或炮友关系】
	PRINTFORMW 　或【获得风之溪谷参道中风之星晶兽的协助】」
	PRINTFORMW 　尽力而为吧，我的契约者」
	PRINTL
ENDIF
FORCEWAIT







