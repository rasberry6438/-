;--------------------------------------------------
;ダンジョン探索中に条件を満たしていた時表示される文章
;--------------------------------------------------
;・使い方
;「28」をキャラクター番号に置換し、それぞれの関数に処理を入れる
;--------------------------------------------------

;--------------------------------------------------
;「仲間と会話」ボタン押下時
;簡単に何度も見られるので、条件分岐やランダム化で複数パターンの登録を推奨
;--------------------------------------------------
@KOJO_DUNGEON_仲間と会話_28(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)
SELECTCASE RAND:5
	CASE 0
WSTR:(K++) = 「哼哼，人家还在发育期呢！」
KSTR:(K++) = 露莉亚挺起胸膛说道，可惜挺起的胸脯依旧平坦。
	CASE 1
WSTR:(K++) = 「WowWowWow♪、WowWowWow♪　WowWowWow♪、YeahYeahYeah♪」
KSTR:(K++) = 「呀啊！你、你听到了！？要、要来的话先说一声嘛～！」
	CASE 2
WSTR:(K++) = 「大家都在守护你呢」
KSTR:(K++) = 「我也想保护你！像卡塔莉娜那样，嘿呀！看招！」
KSTR:(K++) = 「我才不是只会被保护呢！」
	CASE 3
WSTR:(K++) = 「咿耶——————！！这就是自由！！」
KSTR:(K++) = 「哈～哇哇哇哇哇哇啊！」
	CASE 4
WSTR:(K++) = 「召唤术…超级消耗体力啊……」
	ENDSELECT

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ,,0)




;--------------------------------------------------
;戦闘中特定タイミングで表示される文章
;--------------------------------------------------
;固有スキル発動時
;「（キャラ名）の（アビ名）！」よりも前に表示される
;汎用アビや衣装アビだと発動しないので注意
;--------------------------------------------------
;恵みの風
@KOJO_DUNGEON_固有アビ発動時_28_1(対象キャラ, 使用アビ名)
#DIMS 使用アビ名
#DIM 対象キャラ

;YYYYを固有アビ関数の「@固有アビ_XXXX_YYYY」のYYYYと同じに変更する
;使用したアビリティの名前は「使用アビ名」に入ってくる
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

STRDATA KSTR:(K++)
	DATA 「聆听风的呢喃！」
	DATA 「我来守护你！」
	DATA 「轰鸣之风，生命的使者！」
ENDDATA

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ)

;猛き炎
@KOJO_DUNGEON_固有アビ発動時_28_2(対象キャラ, 使用アビ名)
#DIMS 使用アビ名
#DIM 対象キャラ

;YYYYを固有アビ関数の「@固有アビ_XXXX_YYYY」のYYYYと同じに変更する
;使用したアビリティの名前は「使用アビ名」に入ってくる
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

STRDATA KSTR:(K++)
	DATA 「吟唱火焰的咆哮！」
	DATA 「为了你的话…接招——！」
	DATA 「涡旋之火，净化万物！」
ENDDATA

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ)

@KOJO_DUNGEON_固有アビ発動時_28_3(対象キャラ, 使用アビ名)
#DIMS 使用アビ名
#DIM 対象キャラ

;YYYYを固有アビ関数の「@固有アビ_XXXX_YYYY」のYYYYと同じに変更する
;使用したアビリティの名前は「使用アビ名」に入ってくる
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

STRDATA KSTR:(K++)
	DATA 「献上水之絮语！」
	DATA 「加油，加油！嘿——！」
	DATA 「澎湃之水，诞生之摇篮！」
ENDDATA

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ)

@KOJO_DUNGEON_固有アビ発動時_28_4(対象キャラ, 使用アビ名)
#DIMS 使用アビ名
#DIM 対象キャラ

;YYYYを固有アビ関数の「@固有アビ_XXXX_YYYY」のYYYYと同じに変更する
;使用したアビリティの名前は「使用アビ名」に入ってくる
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)
STRDATA KSTR:(K++)
	DATA 「传递大地的温暖！」
	DATA 「请交给我吧！」
	DATA 「广袤之土，万象根基！」
ENDDATA

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ)
;--------------------------------------------------
;奥義発動時
;「（キャラ名）の奥義：（奥義名）！」よりも前に表示される
;--------------------------------------------------
@KOJO_DUNGEON_奥義発動時_28(対象キャラ, 使用奥義名)
#DIMS 使用奥義名
#DIM 対象キャラ

CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)
SELECTCASE RAND:3
	CASE 0
		KSTR:(K++) = 「始原之龙，暗焰之子——汝之名为……巴哈姆特！」
	CASE 1
		KSTR:(K++) = 「拜托了……巴哈姆特！」
	CASE 2
		KSTR:(K++) = 「指引我们直至天空尽头！汝之名为，巴哈姆特！」
ENDSELECT

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ,,0)

;--------------------------------------------------
;チェンバースト発動時
;「チェインバースト！」（フルチェイン！）よりも前に表示される
;該当キャラが起点になった時（＝ターンで最初に奥義を撃った）にしか呼ばれないので注意
;--------------------------------------------------
@KOJO_DUNGEON_チェンバ発動時_28(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

KSTR:(K++) = 「我也能成为战力！」

LOCAL:2 = GETCHARA(27)
LOCAL:3 = GETCHARA(146)
IF キャラ隊列検索(LOCAL:2) > -1
	NSTR:(K++) = ++++
	切り替え名前:0 = %CALLNAME:(LOCAL:2)%
	切り替え顔グラリソース:0 = 探索用_{キャラ隊列検索(LOCAL:2)}_顔

	KSTR:(K++) = 「要上了，露莉亚！」

	NSTR:(K++) = ++++
	切り替え名前:1 = %CALLNAME:(対象キャラ)%
	切り替え顔グラリソース:1 = 探索用_{LOCAL}_顔
	
	KSTR:(K++) = 「是的！和你一起！」
ELSEIF キャラ隊列検索(LOCAL:3) > -1
	NSTR:(K++) = ++++
	切り替え名前:0 = %CALLNAME:(LOCAL:3)%
	切り替え顔グラリソース:0 = 探索用_{キャラ隊列検索(LOCAL:3)}_顔

	KSTR:(K++) = 「露莉亚，就是现在！」

	NSTR:(K++) = ++++
	切り替え名前:1 = %CALLNAME:(対象キャラ)%
	切り替え顔グラリソース:1 = 探索用_{LOCAL}_顔
	
	KSTR:(K++) = 「好嘞！冲呀！」
ENDIF
;と記述すると下に一個、掛け合い相手の顔グラと名前が表示されたメッセージ欄を増やせるので、そこで掛け合いを行う
;複数個メッセージ欄を増やす場合、切り替え顔グラリソース:1、切り替え名前:1のように配列番号を１つずつ増やすこと

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ)

;--------------------------------------------------
;味方から回復を受けた時
;「（キャラ名）のＨＰが」の直後に表示される
;複数人回復した場合、ランダムで一人の分が表示される
;--------------------------------------------------
@KOJO_DUNGEON_被回復時_28(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

;回復した側のキャラは「BATTLE_STATE:戦闘行動キャラ:キャラ登録番号」でキャラ番号が
;「戦闘行動キャラ」で隊列番号が取れる

KSTR:(K++) = 「得救啦～！」

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ)

;--------------------------------------------------
;戦闘勝利時
;ルピやEXPの取得よりも前に表示される
;--------------------------------------------------
@KOJO_DUNGEON_戦闘勝利時_28(対象キャラ)
#DIM 対象キャラ
CALL メッセージ欄表示用関数(,,,0)
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

KSTR:(K++) = 「哼哼～怎么样？我也能做到哦！」

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ)

;--------------------------------------------------
;全滅時
;--------------------------------------------------
@KOJO_DUNGEON_全滅時_28(対象キャラ)
#DIM 対象キャラ
CALL メッセージ欄表示用関数(,,,0)
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

KSTR:(K++) = 「对不起…没能帮上你的忙…」

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ)

;--------------------------------------------------
;逃走時
;--------------------------------------------------
@KOJO_DUNGEON_逃走時_28(対象キャラ)
#DIM 対象キャラ
CALL メッセージ欄表示用関数(,,,0)
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

KSTR:(K++) = 「哈呜……果然我还是不行吗？」

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ)
