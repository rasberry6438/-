;--------------------------------------------------
;●草薙京口上＠erablue_resort用
;　――固有アビリティ
;--------------------------------------------------

;--------------------------------------------------
;●ライセンス/更新履歴/概要/使用フラグ
;--------------------------------------------------
;　いずれも草薙京口上_readme.txt記載に従う
;--------------------------------------------------

;--------------------------------------------------
;〇アビリティ/奥技性能まとめ
;--------------------------------------------------
;★性能について
;　本家グラブルのリュウとえらぶるのユエルちゃんをベースに作成した八神庵を流用。
;　タイプは器用万能という名のバランスでも良かったけど96～のスタイルチェンジを鑑みて連撃タイプに。
;　原作の京は庵と比べるとテクニカルなキャラですが95～97の所謂「オロチ編」では上位キャラ。95と98では最上位。
;　しかし「オロチ編」が終わり主人公の座をK'に譲ると設定的にも弱体化されて時には最弱扱いされた作品も。
;　その後、時には最強キャラに返り咲いたりもしたけれど、彼はまだ留年生です。
;★奥義について
;　最初は強化前を「無式・壱之段」、強化後を「最終決戦奥義・無式」にする予定でしたが
;　「MAX版無式が真の無式」という設定と名前の見栄えも踏まえて強化後をMAX版無式として、
;　名前も「真・最終決戦奥義・無式」にしました。中黒二つ使っちゃってるけど！
;　実は京の無式も庵の八稚女と同じく最初の火柱が高倍率なのですが
;　差別化も兼ねて倍率は全て均等化させています。そこ、手抜きとか言わない。
;--------------------------------------------------

;--------------------------------------------------
;・百拾四式・荒咬み
;　全体攻撃。ボディが甘かったりガラ空きだったり。
;　ぶっちゃけゲームの方は百拾五式・毒咬みの方が使われるけど台詞的な事情でこっちを採用。
;　性能はグラブルリュウの波動拳と汎用アビリティのファイアをベースに調整した庵を流用。
;　95までは技構成がリュウとケンみたいな感じだったからノーカン！ノーカン！
;--------------------------------------------------

@固有アビ_1370_1(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 効果数値
#DIM 消費ＭＰ
#DIMS アビ名

;レベルなどの条件でアビを強化する場合、アビ名の文字列を条件分岐で変化させる
IF 基礎BATTLE_STATE:キャラ番号:Lv >= 16
	アビ名 = 百拾四式・荒咬み・極
	消費ＭＰ = 30
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 4
	アビ名 = 百拾四式・荒咬み・改
	消費ＭＰ = 25
ELSE
	アビ名 = 百拾四式・荒咬み
	消費ＭＰ = 20
ENDIF

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		IF 基礎BATTLE_STATE:キャラ番号:Lv >= 16
			詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>敵全体に3回自属性［攻撃力✕150％］ダメージを与える。
		ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 4
			詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>敵全体に3回自属性［攻撃力✕100％］ダメージを与える。
		ELSE
			詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>敵全体に3回自属性［攻撃力✕80％］ダメージを与える。
		ENDIF
		RETURN 消費ＭＰ
	CASE "アビ効果"
;奥義ゲージUP
	CALL アビ対象選択テンプレート_自己のみ
	アビ汎用変数:効果量 = 10
	CALL アビテンプレート_有利効果_奥義ゲージUP
	CALL アビ汎用変数文字列リセット
;全体ダメージ処理
		IF 基礎BATTLE_STATE:キャラ番号:Lv >= 16
			CALL アビ汎用変数文字列リセット
			CALL アビ対象選択テンプレート_敵全体_生者のみ
			アビ汎用変数:効果割合 = 150
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
		ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 4
			CALL アビ汎用変数文字列リセット
			CALL アビ対象選択テンプレート_敵全体_生者のみ
			アビ汎用変数:効果割合 = 100
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
		ELSE
			CALL アビ汎用変数文字列リセット
			CALL アビ対象選択テンプレート_敵全体_生者のみ
			アビ汎用変数:効果割合 = 80
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
			CALL アビテンプレート_ダメージ処理_自属性
		ENDIF
ENDSELECT

;--------------------------------------------------
;・R.E.D.KicK
;　全体攻撃。牽制技によく使われるイメージ。
;　性能は庵のカウンター付与を連撃バフに変えただけ。
;　正式名称は「レインボー・エネルギー・ダイナマイト・キック」。京のネーミングセンスが伺える名前である。
;　英名に改とか極はねーだろと思ったのでこれだけ原作の＋方式に。
;--------------------------------------------------

@固有アビ_1370_2(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 効果数値
#DIM 消費ＭＰ
#DIMS アビ名

;レベルなどの条件でアビを強化する場合、アビ名の文字列を条件分岐で変化させる
IF 基礎BATTLE_STATE:キャラ番号:Lv >= 20
	アビ名 = R.E.D.KicK＋＋
	効果数値 = 200
	消費ＭＰ = 30
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 8
	アビ名 = R.E.D.KicK＋
	効果数値 = 150
	消費ＭＰ = 25
ELSE
	アビ名 = R.E.D.KicK
	効果数値 = 100
	消費ＭＰ = 20
ENDIF

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>敵全体に［攻撃力✕{効果数値}％］の自属性ダメージを与える。<br>
		詳細文文字列受け渡し変数 += @"3Tの間、自身の連続攻撃率が20％アップする。"
		RETURN 消費ＭＰ
	CASE "アビ効果"
;奥義ゲージUP
	CALL アビ対象選択テンプレート_自己のみ
	アビ汎用変数:効果量 = 10
	CALL アビテンプレート_有利効果_奥義ゲージUP
	CALL アビ汎用変数文字列リセット
;全体ダメージ処理
	CALL アビ対象選択テンプレート_敵全体_生者のみ
	アビ汎用変数:効果割合 = 効果数値
	CALL アビテンプレート_ダメージ処理_自属性
;連続攻撃率
	CALL アビ対象選択テンプレート_自己のみ
	アビ汎用文字列:バフ・デバフ枠 = 連続攻撃率
	アビ汎用文字列:バフ・デバフ対象能力 = 連続攻撃率
	アビ汎用変数:効果量 = 20
	アビ汎用変数:持続ターン = 3
	アビ汎用変数:消去不可オプション = 1
	CALL アビテンプレート_有利効果_バフ効果セット

ENDSELECT

@固有アビ_1370_3(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIMS アビ名
#DIM 効果数値
#DIM 効果数値２
#DIM 効果成功率

;--------------------------------------------------
;・裏百八式・大蛇薙
;　原作では超必殺技。ぶっちゃけ京の超必殺技は無式よりこっちの方をイメージする人が多いと思う。
;　性能はグラブル春麗のスピニングバードキックを参考に。防御デバフとか。
;--------------------------------------------------

;初期状態で習得しない場合は以下のようにする
IF 基礎BATTLE_STATE:キャラ番号:Lv >= 36
	アビ名 = 裏百八式・大蛇薙・極
	効果数値 = 400
	効果数値２ = 20
	効果成功率 = 100
	消費ＭＰ = 150
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 24
	アビ名 = 裏百八式・大蛇薙・改
	効果数値 = 350
	効果数値２ = 20
	効果成功率 = 100
	消費ＭＰ = 100
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 12
	アビ名 = 裏百八式・大蛇薙
	効果数値 = 300
	効果数値２ = 20
	効果成功率 = 100
	消費ＭＰ = 75
ELSE
	アビ名 = 
ENDIF


SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>［攻撃力✕{効果数値}％］の自属性ダメージを与え、
		詳細文文字列受け渡し変数 += @"<br>防御力を3ターン［{効果数値２}％/B枠］減少させる。基礎成功率{効果成功率}％"
		RETURN 消費ＭＰ
	CASE "アビ効果"
;奥義ゲージUP
	CALL アビ対象選択テンプレート_自己のみ
	アビ汎用変数:効果量 = 10
	CALL アビテンプレート_有利効果_奥義ゲージUP
;全体ダメージ処理
	CALL アビ汎用変数文字列リセット
	CALL アビ対象選択テンプレート_敵全体_生者のみ
	アビ汎用変数:効果割合 = 効果数値
	CALL アビテンプレート_ダメージ処理_自属性
;デバフ処理
	CALL アビ汎用変数文字列リセット
	アビ汎用変数:効果割合 = 効果数値２
	アビ汎用文字列:バフ・デバフ枠 = 防御力B
	アビ汎用文字列:バフ・デバフ対象能力 = 防御力
	アビ汎用変数:持続ターン = 3
	アビ汎用変数:基礎成功確率 = 効果成功率
	CALL アビテンプレート_不利効果_デバフ効果セット
ENDSELECT

;下の４つの文字列に文章を入れると、対象選択時の文章を変化させることが出来る。
;これらを使わない場合は「誰に使用しますか？」と表示される。		
;アビ汎用文字列:選択時メッセージ１ = 
;アビ汎用文字列:選択時メッセージ２ = 
;アビ汎用文字列:選択時メッセージ３ = 
;アビ汎用文字列:選択時メッセージ４ = 

;下の４つの文字列に文章を入れると、アビ使用時の文章を変化させることが出来る。
;これらを使わない場合は「（キャラ名）の（アビ名）！」と表示される。
;アビ汎用文字列:実行時メッセージ１ = 
;アビ汎用文字列:実行時メッセージ２ = 
;アビ汎用文字列:実行時メッセージ３ = 
;アビ汎用文字列:実行時メッセージ４ = 






;----------------------------------------------------------------------------------
;アビリティテンプレート例
;----------------------------------------------------------------------------------
;敵単体に、攻撃力の200%威力で火属性のダメージを与える効果
;----------------------------------------------------------------------------------	
	; CALL アビ対象選択テンプレート_敵単体
	; アビ汎用変数:効果割合 = 200
	; CALL アビテンプレート_ダメージ処理_火属性

;----------------------------------------------------------------------------------
;戦闘不能ではない敵全体に、防御力の300%威力で自属性のダメージを与える効果
;----------------------------------------------------------------------------------	
	; CALL アビ対象選択テンプレート_敵全体_生者のみ
	; アビ汎用変数:効果割合 = 300
	; アビ汎用文字列:攻撃側使用能力値 = 防御力
	; CALL アビテンプレート_ダメージ処理_自属性

;----------------------------------------------------------------------------------
;戦闘不能ではない味方全体に、3ターン持続する30%の攻撃力UPを与える効果
;----------------------------------------------------------------------------------
	; CALL アビ対象選択テンプレート_味方全体_生者のみ
	; アビ汎用変数:効果割合 = 30
	; アビ汎用文字列:バフ・デバフ枠 = 攻撃力A
	; アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
	; アビ汎用変数:持続ターン = 3
	; CALL アビテンプレート_有利効果_バフ効果セット

;----------------------------------------------------------------------------------
;敵縦列に、3ターン持続する暗闇（攻撃失敗率40%）を与える効果　基礎成功率70％
;----------------------------------------------------------------------------------
	; CALL アビ対象選択テンプレート_敵縦列
	; アビ汎用変数:効果割合 = 40
	; アビ汎用文字列:バフ・デバフ枠 = 暗闇
	; アビ汎用文字列:バフ・デバフ対象能力 = 暗闇
	; アビ汎用変数:持続ターン = 3
	; アビ汎用変数:基礎成功確率 = 70
	; CALL アビテンプレート_不利効果_デバフ効果セット

;----------------------------------------------------------------------------------
;戦闘不能状態の味方単体を蘇生し、回復力の100%威力でHPを回復する効果
;----------------------------------------------------------------------------------	
	; CALL アビ対象選択テンプレート_味方単体_死者のみ
	; アビ汎用変数:効果割合 = 100
	; アビ汎用変数:蘇生可能オプション = 1
	; CALL アビテンプレート_回復処理


;--------------------------------------------------
;戦闘能力の固有処理説明
;--------------------------------------------------
@口上_ステータス画面_固有特性解説_1370(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

;口上と同じ感覚で使う為に書式を統一しているが、ステータス画面で表示されるので
;基本的にWAIT系列は使わないことを推奨

KSTR:(K++) = □ 特性：『猛き炎の伝承者』 □---------------------------------------------------------------
KSTR:(K++) = 　アビリティ使用時に奥義ゲージ10％UP
KSTR:(K++) = 　
KSTR:(K++) = 　
KSTR:(K++) = 　

CALL 口上変数表示(対象キャラ, 1)



