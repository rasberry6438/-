@固有奥義_25(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 奥義威力
#DIM 効果数値
#DIMS 奥義名

;レベルなどの条件で奥義を強化する場合、奥義名の文字列を条件分岐で変化させる
IF 基礎BATTLE_STATE:キャラ番号:Lv >= 34
	IF 陥落チェック(キャラ番号)
		奥義名 = 大衍著
	ELSE
		奥義名 = 大衍术＋＋
	ENDIF
	奥義威力 = 500
	効果数値 = 25
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 18
	奥義名 = 大衍术＋
	奥義威力 = 500
	効果数値 = 20
ELSE
	奥義名 = 大衍术
	奥義威力 = 500
ENDIF

SELECTCASE ARGS
	CASE "奥義名"
		TSTR:コマンド名受渡 = %奥義名%
	CASE "奥義説明文"
		詳細文文字列受け渡し変数 = 奥义威力：{奥義威力}％<br>对敌方单体造成［攻击力✕{奥義威力}％］的自身属性伤害。
		IF TALENT:キャラ番号:恋慕
			詳細文文字列受け渡し変数 += @"（消耗全部真理Lv提升威力）"
		ENDIF
		SIF 基礎BATTLE_STATE:キャラ番号:Lv >= 18
			詳細文文字列受け渡し変数 += @"<br>4回合内，我方全体攻击力提升［{効果数値}％/B槽］。"
		SIF 基礎BATTLE_STATE:キャラ番号:Lv >= 34
			詳細文文字列受け渡し変数 += @"<br>战斗期间，自身回复力提升[50％/不可驱散]\@ 陥落チェック(キャラ番号)? ，并赋予[10％(最大100)]的MP回复# \@。"
		SWAP TARGET, キャラ番号
		詳細文文字列受け渡し変数 += @"<br>赋予自身［累积1层 最大5层］的%属性刻印名()%效果。"
		SWAP TARGET, キャラ番号
		RETURN 奥義威力
	CASE "奥義追加効果"
		;ここに奥義効果を記述する。基本の奥義ダメージ部分は記載する必要はない。
		;直接記述しても良いが、基本的にアビテンプレートの関数を使用すると便利で良い
		;テンプレート使用の例は下部分を参照
		IF 基礎BATTLE_STATE:キャラ番号:Lv >= 18
			CALL アビ対象選択テンプレート_味方全体_生者のみ
			アビ汎用変数:効果割合 = 効果数値
			アビ汎用文字列:バフ・デバフ枠 = 攻撃力B
			アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
			アビ汎用変数:持続ターン = 4
			CALL アビテンプレート_有利効果_バフ効果セット
		ENDIF
		IF 基礎BATTLE_STATE:キャラ番号:Lv >= 34
			CALL アビ対象選択テンプレート_自己のみ
			アビ汎用変数:効果割合 = 50
			アビ汎用文字列:バフ・デバフ枠 = 回復力_%TOHALF(奥義名)%
			アビ汎用文字列:バフ・デバフ対象能力 = 回復力
			アビ汎用変数:持続ターン = -1
			アビ汎用変数:消去不可オプション = 1
			CALL アビテンプレート_有利効果_バフ効果セット
			IF 陥落チェック(キャラ番号)
				アビ汎用変数:効果割合 = 0
				アビ汎用変数:効果量 = MIN(BATTLE_STATE:戦闘行動キャラ:最大ＭＰ / 10, 99)
				CALL アビテンプレート_ＭＰ回復処理_MAXでも回復
			ENDIF
		ENDIF
		CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用変数:持続ターン = -1
		アビ汎用文字列:バフ・デバフ対象能力 = %属性刻印名()%
		CALL アビテンプレート_刻印追加(1)
ENDSELECT
RETURN RESULT
