;各ABLの上昇に必要な珠や経験の数を返す

@JUEL_DEMAND(ABL_ID,ARG:1,ARG:2,ARG:3)
#FUNCTION
#DIM ABL_ID
#DIM JUEL_DEMAND_RESULT

IF ABL_ID == 0
	JUEL_DEMAND_RESULT = JUEL_DEMAND_0(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 1
	JUEL_DEMAND_RESULT = JUEL_DEMAND_1(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 2
	JUEL_DEMAND_RESULT = JUEL_DEMAND_2(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 3
	JUEL_DEMAND_RESULT = JUEL_DEMAND_3(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 4
	JUEL_DEMAND_RESULT = JUEL_DEMAND_4(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 9
	JUEL_DEMAND_RESULT = JUEL_DEMAND_9(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 10
	JUEL_DEMAND_RESULT = JUEL_DEMAND_10(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 11
	JUEL_DEMAND_RESULT = JUEL_DEMAND_11(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 12
	JUEL_DEMAND_RESULT = JUEL_DEMAND_12(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 13
	JUEL_DEMAND_RESULT = JUEL_DEMAND_13(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 14
	JUEL_DEMAND_RESULT = JUEL_DEMAND_14(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 15
	JUEL_DEMAND_RESULT = JUEL_DEMAND_15(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 16
	JUEL_DEMAND_RESULT = JUEL_DEMAND_16(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 17
	JUEL_DEMAND_RESULT = JUEL_DEMAND_17(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 18
	JUEL_DEMAND_RESULT = JUEL_DEMAND_18(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 30
	JUEL_DEMAND_RESULT = JUEL_DEMAND_30(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 31
	JUEL_DEMAND_RESULT = JUEL_DEMAND_31(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 32
	JUEL_DEMAND_RESULT = JUEL_DEMAND_32(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 33
	JUEL_DEMAND_RESULT = JUEL_DEMAND_33(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 34
	JUEL_DEMAND_RESULT = JUEL_DEMAND_34(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 35
	JUEL_DEMAND_RESULT = JUEL_DEMAND_35(ARG:1,ARG:2,ARG:3)
ENDIF
SIF JUEL_DEMAND_RESULT < 0
	RETURNF JUEL_DEMAND_RESULT
RETURNF CALC_ABL_DEMAND(ABL_ID, JUEL_DEMAND_RESULT)


@EXP_DEMAND(ABL_ID,ARG:1,ARG:2,ARG:3)
#FUNCTION
#DIM ABL_ID
#DIM EXP_DEMAND_RESULT

IF ABL_ID == 0
	EXP_DEMAND_RESULT = EXP_DEMAND_0(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 1
	EXP_DEMAND_RESULT = EXP_DEMAND_1(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 2
	EXP_DEMAND_RESULT = EXP_DEMAND_2(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 3
	EXP_DEMAND_RESULT = EXP_DEMAND_3(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 9
	EXP_DEMAND_RESULT = EXP_DEMAND_9(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 10
	EXP_DEMAND_RESULT = EXP_DEMAND_10(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 11
	EXP_DEMAND_RESULT = EXP_DEMAND_11(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 12
	EXP_DEMAND_RESULT = EXP_DEMAND_12(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 13
	EXP_DEMAND_RESULT = EXP_DEMAND_13(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 14
	EXP_DEMAND_RESULT = EXP_DEMAND_14(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 15
	EXP_DEMAND_RESULT = EXP_DEMAND_15(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 16
	EXP_DEMAND_RESULT = EXP_DEMAND_16(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 17
	EXP_DEMAND_RESULT = EXP_DEMAND_17(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 18
	EXP_DEMAND_RESULT = EXP_DEMAND_18(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 30
	EXP_DEMAND_RESULT = EXP_DEMAND_30(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 31
	EXP_DEMAND_RESULT = EXP_DEMAND_31(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 32
	EXP_DEMAND_RESULT = EXP_DEMAND_32(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 33
	EXP_DEMAND_RESULT = EXP_DEMAND_33(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 34
	EXP_DEMAND_RESULT = EXP_DEMAND_34(ARG:1,ARG:2,ARG:3)
ELSEIF ABL_ID == 35
	EXP_DEMAND_RESULT = EXP_DEMAND_35(ARG:1,ARG:2,ARG:3)
ENDIF
SIF EXP_DEMAND_RESULT < 0
	RETURNF EXP_DEMAND_RESULT
RETURNF CALC_ABL_DEMAND(ABL_ID, EXP_DEMAND_RESULT)

;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;Ｃ感覚
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;ついでにパターンの認識や必要なABL等の処理
;--------------------------------------------------
@JUEL_DEMAND_0(ARG,ARG:1,ARG:2)
#FUNCTION
SIF ARG > 0
	RETURNF -1
VARSET LOCAL
SELECTCASE ABL:(ARG:2):Ｃ感覚
	CASE 0
		LOCAL:0 = 1
	CASE 1
		LOCAL:0 = 20 * (100 - ABLDLC) / 100
	CASE 2
		LOCAL:0 = 400 * (100 - ABLDLC) / 100
	CASE 3
		LOCAL:0 = 5000 * (100 - ABLDLC) / 100
	CASE 4
		LOCAL:0 = 15000 * (100 - ABLDLC) / 100
	CASE 5
		LOCAL:0 = 30000 * (100 - ABLDLC) / 100
	CASE 6
		LOCAL:0 = 40000 * (100 - ABLDLC) / 100
	CASE 7
		LOCAL:0 = 50000 * (100 - ABLDLC) / 100
	CASE 8
		LOCAL:0 = 60000 * (100 - ABLDLC) / 100
	CASE 9
		LOCAL:0 = 70000 * (100 - ABLDLC) / 100
	CASEELSE
		LOCAL:0 = (20000 * (100 - ABLDLC) / 100) * (ABL:(ARG:2):Ｃ感覚 - 6)
ENDSELECT
;経験補正
LOCAL:0 = LOCAL:0 * 10 / (5 + GETEXPLV(EXP:(ARG:2):Ｃ経験,8))
LOCAL:0 = LOCAL:0 * (1 + ABL:(ARG:2):Ｃ感覚) / (1 + GETEXPLV(EXP:(ARG:2):Ｃ絶頂経験,8))
;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:0 , 2.00
	ELSE
		TIMES LOCAL:0 , 0.50
	ENDIF
ENDIF

SIF ARG:2 == MASTER
	LOCAL:0 *= (ABL:(ARG:2):Ｃ感覚 + 1)

RETURNF LOCAL:(ARG:1)

;--------------------------------------------------
;ARG パターン
;EXP:(ARG:2):(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@EXP_DEMAND_0(ARG,ARG:1,ARG:2)
#FUNCTION
RETURNF 0

;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;Ｖ感覚
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@JUEL_DEMAND_1(ARG,ARG:1,ARG:2)
#FUNCTION
SIF ARG > 0
	RETURNF -1
VARSET LOCAL
SELECTCASE ABL:(ARG:2):Ｖ感覚
	CASE 0
		LOCAL:1 = 1
	CASE 1
		LOCAL:1 = 20
	CASE 2
		LOCAL:1 = 400
	CASE 3
		LOCAL:1 = 5000
	CASE 4
		LOCAL:1 = 15000
	CASE 5
		LOCAL:1 = 30000
	CASE 6
		LOCAL:1 = 40000
	CASE 7
		LOCAL:1 = 50000
	CASE 8
		LOCAL:1 = 60000
	CASE 9
		LOCAL:1 = 70000
	CASEELSE
		LOCAL:1 = 20000 * (ABL:(ARG:2):Ｖ感覚 - 6)
ENDSELECT
IF EXP:(ARG:2):Ｖ拡張経験 > 50
	TIMES LOCAL:1 , 0.50
ELSEIF EXP:(ARG:2):Ｖ拡張経験 > 40
	TIMES LOCAL:1 , 0.60
ELSEIF EXP:(ARG:2):Ｖ拡張経験 > 30
	TIMES LOCAL:1 , 0.70
ELSEIF EXP:(ARG:2):Ｖ拡張経験 > 20
	TIMES LOCAL:1 , 0.80
ELSEIF EXP:(ARG:2):Ｖ拡張経験 > 10
	TIMES LOCAL:1 , 0.90
ELSEIF EXP:(ARG:2):Ｖ拡張経験
	TIMES LOCAL:1 , 0.95
ENDIF
IF ARG:2 != MASTER
	LOCAL:1 = LOCAL:1 * 10 / (5 + GETEXPLV(EXP:(ARG:2):Ｖ経験,8))
	LOCAL:1 = LOCAL:1 * (1 + ABL:(ARG:2):Ｖ感覚) / (1 + GETEXPLV(EXP:(ARG:2):Ｖ絶頂経験,8))
ENDIF
;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:1 , 2.00
	ELSE
		TIMES LOCAL:1 , 0.50
	ENDIF
ENDIF

SIF ARG:2 == MASTER
	LOCAL:1 *= (ABL:(ARG:2):Ｖ感覚 + 1)

RETURNF LOCAL:(ARG:1)

;--------------------------------------------------
;ARG パターン
;EXP:(ARG:2):(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@EXP_DEMAND_1(ARG,ARG:1,ARG:2)
#FUNCTION
VARSET LOCAL
SIF ABL:(ARG:2):Ｖ感覚 > 2
	LOCAL:1 = 1
RETURNF LOCAL:(ARG:1)

;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;Ａ感覚
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@JUEL_DEMAND_2(ARG,ARG:1,ARG:2)
#FUNCTION
SIF ARG > 0
	RETURNF -1
VARSET LOCAL
SELECTCASE ABL:(ARG:2):Ａ感覚
	CASE 0
		LOCAL:2 = 1
	CASE 1
		LOCAL:2 = 50
	CASE 2
		LOCAL:2 = 400
	CASE 3
		LOCAL:2 = 5000
	CASE 4
		LOCAL:2 = 15000
	CASE 5
		LOCAL:2 = 30000
	CASE 6
		LOCAL:2 = 40000
	CASE 7
		LOCAL:2 = 50000
	CASE 8
		LOCAL:2 = 60000
	CASE 9
		LOCAL:2 = 70000
	CASEELSE
		LOCAL:2 = 20000 * (ABL:(ARG:2):Ａ感覚 - 6)
ENDSELECT
IF EXP:(ARG:2):Ａ拡張経験 > 50
	TIMES LOCAL:2 , 0.50
ELSEIF EXP:(ARG:2):Ａ拡張経験 > 40
	TIMES LOCAL:2 , 0.60
ELSEIF EXP:(ARG:2):Ａ拡張経験 > 30
	TIMES LOCAL:2 , 0.70
ELSEIF EXP:(ARG:2):Ａ拡張経験 > 20
	TIMES LOCAL:2 , 0.80
ELSEIF EXP:(ARG:2):Ａ拡張経験 > 10
	TIMES LOCAL:2 , 0.90
ELSEIF EXP:(ARG:2):Ａ拡張経験
	TIMES LOCAL:2 , 0.95
ENDIF
IF ARG:2 != MASTER
	LOCAL:2 = LOCAL:2 * 10 / (5 + GETEXPLV(EXP:(ARG:2):Ａ経験,8))
	LOCAL:2 = LOCAL:2 * (1 + ABL:(ARG:2):Ａ感覚) / (1 + GETEXPLV(EXP:(ARG:2):Ａ絶頂経験,8))
ENDIF
;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:2 , 2.00
	ELSE
		TIMES LOCAL:2 , 0.50
	ENDIF
ENDIF

SIF ARG:2 == MASTER
	LOCAL:2 *= (ABL:(ARG:2):Ａ感覚 + 1)

RETURNF LOCAL:(ARG:1)

;--------------------------------------------------
;ARG パターン
;EXP:(ARG:2):(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@EXP_DEMAND_2(ARG,ARG:1,ARG:2)
#FUNCTION
VARSET LOCAL
SELECTCASE ABL:(ARG:2):Ａ感覚
	CASE 0
		LOCAL:2 = 2
	CASE 1
		LOCAL:2 = 10
	CASE 2
		LOCAL:2 = 30
	CASE 3
		LOCAL:2 = 75
	CASE 4
		LOCAL:2 = 150
	CASE 5
		LOCAL:2 = 220
	CASE 6
		LOCAL:2 = 270
	CASE 7
		LOCAL:2 = 360
	CASE 8
		LOCAL:2 = 420
	CASE 9
		LOCAL:2 = 500
	CASEELSE
		LOCAL:2 = 100 * (ABL:(ARG:2):Ａ感覚 - 4)
ENDSELECT
IF EXP:(ARG:2):Ａ拡張経験 > 50
	TIMES LOCAL:2 , 0.50
ELSEIF EXP:(ARG:2):Ａ拡張経験 > 40
	TIMES LOCAL:2 , 0.60
ELSEIF EXP:(ARG:2):Ａ拡張経験 > 30
	TIMES LOCAL:2 , 0.70
ELSEIF EXP:(ARG:2):Ａ拡張経験 > 20
	TIMES LOCAL:2 , 0.80
ELSEIF EXP:(ARG:2):Ａ拡張経験 > 10
	TIMES LOCAL:2 , 0.90
ELSEIF EXP:(ARG:2):Ａ拡張経験
	TIMES LOCAL:2 , 0.95
ENDIF
;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:2 , 2.00
	ELSE
		TIMES LOCAL:2 , 0.50
	ENDIF
ENDIF
SIF LOCAL:2 < 1
	LOCAL:2 = 1

SIF ARG:2 == MASTER
	LOCAL:2 *= (ABL:(ARG:2):Ａ感覚 + 1)

RETURNF LOCAL:(ARG:1)

;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;Ｂ感覚
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@JUEL_DEMAND_3(ARG,ARG:1,ARG:2)
#FUNCTION
SIF ARG > 0
	RETURNF -1
VARSET LOCAL
SELECTCASE ABL:(ARG:2):Ｂ感覚
	CASE 0
		LOCAL:3 = 1
	CASE 1
		LOCAL:3 = 20
	CASE 2
		LOCAL:3 = 400
	CASE 3
		LOCAL:3 = 5000
	CASE 4
		LOCAL:3 = 15000
	CASE 5
		LOCAL:3 = 30000
	CASE 6
		LOCAL:3 = 40000
	CASE 7
		LOCAL:3 = 50000
	CASE 8
		LOCAL:3 = 60000
	CASE 9
		LOCAL:3 = 70000
	CASEELSE
		LOCAL:3 = 20000 * (ABL:(ARG:2):Ｂ感覚 - 6)
ENDSELECT
IF ARG:2 != MASTER
	LOCAL:3 = LOCAL:3 * 10 / (5 + GETEXPLV(EXP:(ARG:2):Ｂ経験,8))
	LOCAL:3 = LOCAL:3 * (1 + ABL:(ARG:2):Ｂ感覚) / (1 + GETEXPLV(EXP:(ARG:2):Ｂ絶頂経験,8))
ENDIF
;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:3 , 2.00
	ELSE
		TIMES LOCAL:3 , 0.50
	ENDIF
ENDIF

SIF ARG:2 == MASTER
	LOCAL:3 *= (ABL:(ARG:2):Ｂ感覚 + 1)

RETURNF LOCAL:(ARG:1)
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;Ｍ感覚
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;ついでにパターンの認識や必要なABL等の処理
;--------------------------------------------------
@JUEL_DEMAND_4(ARG,ARG:1,ARG:2)
#FUNCTION
SIF ARG > 0
	RETURNF -1
VARSET LOCAL
SELECTCASE ABL:(ARG:2):Ｍ感覚
	CASE 0
		LOCAL:4 = 1
	CASE 1
		LOCAL:4 = 20
	CASE 2
		LOCAL:4 = 400
	CASE 3
		LOCAL:4 = 5000
	CASE 4
		LOCAL:4 = 15000
	CASE 5
		LOCAL:4 = 30000
	CASE 6
		LOCAL:4 = 40000
	CASE 7
		LOCAL:4 = 50000
	CASE 8
		LOCAL:4 = 60000
	CASE 9
		LOCAL:4 = 70000
	CASEELSE
		LOCAL:4 = 20000 * (ABL:(ARG:2):Ｍ感覚 - 6)
ENDSELECT
;経験補正
IF ARG:2 != MASTER
	LOCAL:4 = LOCAL:4 * 10 / (5 + GETEXPLV(EXP:(ARG:2):Ｍ経験,8))
	LOCAL:4 = LOCAL:4 * (1 + ABL:(ARG:2):Ｍ感覚) / (1 + GETEXPLV(EXP:(ARG:2):Ｍ絶頂経験,8))
ENDIF
;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:4 , 2.00
	ELSE
		TIMES LOCAL:4 , 0.50
	ENDIF
ENDIF

SIF ARG:2 == MASTER
	LOCAL:4 *= (ABL:(ARG:2):Ｍ感覚 + 1)

RETURNF LOCAL:(ARG:1)

;--------------------------------------------------
;ARG パターン
;EXP:(ARG:2):(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@EXP_DEMAND_3(ARG,ARG:1,ARG:2)
#FUNCTION
RETURNF 0


;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;親密
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@JUEL_DEMAND_9(ARG,ARG:1,ARG:2)
#FUNCTION
SIF ARG > 0
	RETURNF -1
VARSET LOCAL
;JUEL:好意(LOCAL:20)が必要
SELECTCASE ABL:(ARG:2):親密
	CASE 0
		LOCAL:20 = 30
	CASE 1
		LOCAL:20 = 100
	CASE 2
		LOCAL:20 = 300
	CASE 3
		LOCAL:20 = 1500
	CASE 4
		LOCAL:20 = 5000
	CASE 5
		LOCAL:20 = 15000
	CASE 6
		LOCAL:20 = 40000
	CASE 7
		LOCAL:20 = 70000
	CASE 8
		LOCAL:20 = 120000
	CASE 9
		LOCAL:20 = 200000
	CASEELSE
		LOCAL:20 = 100000 * (ABL:(ARG:2):親密 - 7)
ENDSELECT

;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:20 , 2.00
	ELSE
		TIMES LOCAL:20 , 0.50
	ENDIF
ENDIF
SIF CFLAG:(ARG:2):体目当て
	TIMES LOCAL:20 , 1.50
RETURNF LOCAL:(ARG:1)

;--------------------------------------------------
;ARG パターン
;EXP:(ARG:2):(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@EXP_DEMAND_9(ARG,ARG:1,ARG:2)
#FUNCTION
RETURNF 0
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;従順
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;ついでにパターンの認識や必要なABL等の処理
;--------------------------------------------------
@JUEL_DEMAND_10(ARG,ARG:1,ARG:2)
#FUNCTION
SIF ARG > 3
	RETURNF -1
;恐怖の珠で上げる
VARSET LOCAL
IF ARG == 0
	SELECTCASE ABL:(ARG:2):従順
		CASE 0
			LOCAL:16 = 30
		CASE 1
			LOCAL:16 = 200
		CASE 2
			LOCAL:16 = 1000
		CASE 3
			LOCAL:16 = 5000
		CASE 4
			LOCAL:16 = 7500
		CASE 5
			LOCAL:16 = 10000
		CASE 6
			LOCAL:16 = 15000
		CASE 7
			LOCAL:16 = 20000
		CASE 8
			LOCAL:16 = 25000
		CASE 9
			LOCAL:16 = 30000
		CASEELSE
			LOCAL:16 = 10000 * (ABL:(ARG:2):従順 - 6)
	ENDSELECT
;恭順の珠で上げる
ELSEIF ARG == 1
		SELECTCASE ABL:(ARG:2):従順
			CASE 0
				LOCAL:10 = 30
			CASE 1
				LOCAL:10 = 200
			CASE 2
				LOCAL:10 = 1000
			CASE 3
				LOCAL:10 = 5000
			CASE 4
				LOCAL:10 = 7500
			CASE 5
				LOCAL:10 = 15000
			CASE 6
				LOCAL:10 = 25000
			CASE 7
				LOCAL:10 = 40000
			CASE 8
				LOCAL:10 = 50000
			CASE 9
				LOCAL:10 = 80000
			CASEELSE
				LOCAL:10 = 25000 * (ABL:(ARG:2):従順 - 5)
		ENDSELECT
;欲情の珠で上げる
ELSEIF ARG == 2
;		SELECTCASE ABL:(ARG:2):従順
;			CASE 0
;				LOCAL:11 = 150
;			CASE 1
;				LOCAL:11 = 450
;			CASE 2
;				LOCAL:11 = 1000
;			CASEELSE
				RETURNF -1
;		ENDSELECT
;屈服の珠で上げる
ELSEIF ARG == 3
		SELECTCASE ABL:(ARG:2):従順
			CASE 0
				LOCAL:12 = 100
			CASE 1
				LOCAL:12 = 600
			CASE 2
				LOCAL:12 = 1200
			CASEELSE
				RETURNF -1
		ENDSELECT
ENDIF
;恋慕
LOCAL:10 = LOCAL:10 * (10 - 2 * TALENT:(ARG:2):恋慕) / 10

;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:10 , 2.00
		TIMES LOCAL:11 , 2.00
		TIMES LOCAL:12 , 2.00
		TIMES LOCAL:16 , 2.00
	ELSE
		TIMES LOCAL:10 , 0.50
		TIMES LOCAL:11 , 0.50
		TIMES LOCAL:12 , 0.50
		TIMES LOCAL:16 , 0.50
	ENDIF
ENDIF

RETURNF LOCAL:(ARG:1)

;--------------------------------------------------
;ARG パターン
;EXP:(ARG:2):(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@EXP_DEMAND_10(ARG,ARG:1,ARG:2)
#FUNCTION
VARSET LOCAL
;ＬＶ5から6に上げるときは異常経験必要（素質：[膽怯][坦率]なら無視できる）
;IF ABL:(ARG:2):従順 == 5 && TALENT:(ARG:2):胆量 >= 0 && TALENT:(ARG:2):態度 >= 0
;	LOCAL:53 = 1
;ＬＶ8から9に上げるときは異常経験3以上必要（素質：[膽怯][坦率]なら無視できる）
;ELSEIF ABL:(ARG:2):従順 == 8 && TALENT:(ARG:2):胆量 >= 0 && TALENT:(ARG:2):態度 >= 0
;	LOCAL:53 = 3
;ENDIF
RETURNF LOCAL:(ARG:1)

;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;欲望
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@JUEL_DEMAND_11(ARG,ARG:1,ARG:2)
#FUNCTION
SIF ARG > 1
	RETURNF -1
;欲望の珠で上げる
VARSET LOCAL
IF ARG == 0
	SELECTCASE ABL:(ARG:2):欲望
		CASE 0
			LOCAL:11 = 1
		CASE 1
			LOCAL:11 = 20
		CASE 2
			LOCAL:11 = 1000
		CASE 3
			LOCAL:11 = 8000
		CASE 4
			LOCAL:11 = 24000
		CASE 5
			LOCAL:11 = 30000
		CASE 6
			LOCAL:11 = 40000;36000
		CASE 7
			LOCAL:11 = 50000;45000
		CASE 8
			LOCAL:11 = 75000;55000
		CASE 9
			LOCAL:11 = 100000;70000
		CASEELSE
			LOCAL:11 = 150000 * (ABL:(ARG:2):欲望 - 8)
	ENDSELECT
ELSEIF ARG == 1
	SELECTCASE ABL:(ARG:2):欲望
		CASE 0
			LOCAL:21 = 50
		CASE 1
			LOCAL:21 = 200
		CASE 2
			LOCAL:21 = 1000
		CASE 3
			LOCAL:21 = 8000
		CASE 4
			LOCAL:21 = 24000
		CASE 5
			LOCAL:21 = 30000
		CASE 6
			LOCAL:21 = 36000
		CASE 7
			LOCAL:21 = 45000
		CASE 8
			LOCAL:21 = 55000
		CASE 9
			LOCAL:21 = 70000
		CASEELSE
			LOCAL:21 = 10000 + 20000 * (ABL:(ARG:2):欲望 - 6)
	ENDSELECT
ENDIF
;恋慕
LOCAL:11 = LOCAL:11 * (10 - 2 * TALENT:(ARG:2):恋慕) / 10
LOCAL:21 = LOCAL:21 * (10 - 2 * TALENT:(ARG:2):恋慕) / 10
SIF LOCAL:11 == 0
	LOCAL:11 = 1
;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:11 , 2.00
		TIMES LOCAL:21 , 2.00
	ELSE
		TIMES LOCAL:11 , 0.50
		TIMES LOCAL:21 , 0.50
	ENDIF
ENDIF
SIF CFLAG:(ARG:2):体目当て
	TIMES LOCAL:21 , 0.70
RETURNF LOCAL:(ARG:1)


;--------------------------------------------------
;ARG パターン
;EXP:(ARG:2):(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@EXP_DEMAND_11(ARG,ARG:1,ARG:2)
#FUNCTION
VARSET LOCAL
;ＬＶ４から５に上げるときは異常経験必要（素質：[接受快感]なら無視できる）
;IF ABL:(ARG:2):欲望 == 4 && TALENT:(ARG:2):快感応答 < 1
;	LOCAL:53 = 1
;ＬＶ７から８に上げるときは異常経験3以上必要（素質：[接受快感]なら無視できる）
;ELSEIF ABL:(ARG:2):欲望 == 7 && TALENT:(ARG:2):快感応答 < 1
;	LOCAL:53 = 3
;ENDIF
RETURNF LOCAL:(ARG:1)

;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;技巧
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@JUEL_DEMAND_12(ARG,ARG:1,ARG:2)
#FUNCTION
SIF ARG > 0
	RETURNF -1
;技巧の珠で上げる
VARSET LOCAL
SELECTCASE ABL:(ARG:2):技巧
	CASE 0
		LOCAL:13 = 1
	CASE 1
		LOCAL:13 = 20
	CASE 2
		LOCAL:13 = 200
	CASE 3
		LOCAL:13 = 3000
	CASE 4
		LOCAL:13 = 20000
	CASE 5
		LOCAL:13 = 25000
	CASE 6
		LOCAL:13 = 34000
	CASE 7
		LOCAL:13 = 45000
	CASE 8
		LOCAL:13 = 55000
	CASE 9
		LOCAL:13 = 70000
	CASEELSE
		LOCAL:13 = 10000 + 20000 * (ABL:(ARG:2):技巧 - 6)
ENDSELECT

;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:13 , 2.00
	ELSE
		TIMES LOCAL:13 , 0.50
	ENDIF
ENDIF
RETURNF LOCAL:(ARG:1)


;--------------------------------------------------
;ARG パターン
;EXP:(ARG:2):(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@EXP_DEMAND_12(ARG,ARG:1,ARG:2)
#FUNCTION
RETURNF 0


;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;奉仕精神
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@JUEL_DEMAND_13(ARG,ARG:1,ARG:2)
#FUNCTION
;従順が必要
SIF ABL:(ARG:2):従順 < ABL:(ARG:2):奉仕精神 + 1
	RETURNF -2
SIF ARG > 2
	RETURNF -1
VARSET LOCAL
;屈服の珠(LOCAL:12)で上げる
IF ARG == 0
	SELECTCASE ABL:(ARG:2):奉仕精神
		CASE 0
			LOCAL:12 = 100
		CASE 1
			LOCAL:12 = 1200
		CASE 2
			LOCAL:12 = 5000
		CASE 3
			LOCAL:12 = 10000
		CASE 4
			LOCAL:12 = 30000
		CASE 5
			LOCAL:12 = 35000
		CASE 6
			LOCAL:12 = 40000
		CASE 7
			LOCAL:12 = 45000
		CASE 8
			LOCAL:12 = 50000
		CASE 9
			LOCAL:12 = 60000
		CASEELSE
			LOCAL:12 = 10000 + 20000 * (ABL:(ARG:2):奉仕精神 - 7)
	ENDSELECT
;恭順の珠(LOCAL:10)で上げる
ELSEIF ARG == 1
	SELECTCASE ABL:(ARG:2):奉仕精神
		CASE 0
			LOCAL:10 = 20
		CASE 1
			LOCAL:10 = 100
		CASE 2
			LOCAL:10 = 600
		CASE 3
			LOCAL:10 = 2000
		CASE 4
			LOCAL:10 = 8000
		CASE 5
			LOCAL:10 = 8500
		CASE 6
			LOCAL:10 = 10000
		CASE 7
			LOCAL:10 = 15000
		CASE 8
			LOCAL:10 = 20000
		CASE 9
			LOCAL:10 = 30000
		CASEELSE
			LOCAL:10 = 10000 + 20000 * (ABL:(ARG:2):奉仕精神 - 7)
	ENDSELECT
;習得の珠(LOCAL:13)で上げる
ELSEIF ARG == 2
	IF ABL:(ARG:2):奉仕精神 == 0
		LOCAL:13 = 100
	ELSE
		RETURNF -1
	ENDIF
ENDIF
;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:10 , 2.00
		TIMES LOCAL:13 , 2.00
		TIMES LOCAL:12 , 2.00
	ELSE
		TIMES LOCAL:10 , 0.50
		TIMES LOCAL:13 , 0.50
		TIMES LOCAL:12 , 0.50
	ENDIF
ENDIF
RETURNF LOCAL:(ARG:1)

;--------------------------------------------------
;ARG パターン
;EXP:(ARG:2):(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@EXP_DEMAND_13(ARG,ARG:1,ARG:2)
#FUNCTION
VARSET LOCAL
;屈服の珠で上げるには絶頂経験(LOCAL:10)と精液経験(LOCAL:14)が必要
IF ARG == 0
	SELECTCASE ABL:(ARG:2):奉仕精神
		CASE 0
			LOCAL:10 = 5
			LOCAL:14 = 5
		CASE 1
			LOCAL:10 = 10
			LOCAL:14 = 10
		CASE 2
			LOCAL:10 = 20
			LOCAL:14 = 20
		CASE 3
			LOCAL:10 = 20
			LOCAL:14 = 20
		CASE 4
			LOCAL:10 = 30
			LOCAL:14 = 30
		CASE 5
			LOCAL:10 = 40
			LOCAL:14 = 40
		CASE 6
			LOCAL:10 = 100
			LOCAL:14 = 100
		CASE 7
			LOCAL:10 = 150
			LOCAL:14 = 150
		CASE 8
			LOCAL:10 = 200
			LOCAL:14 = 200
		CASE 9
			LOCAL:10 = 300
			LOCAL:14 = 300
		CASEELSE
			LOCAL:10 = 100 * (ABL:(ARG:2):奉仕精神 - 6)
			LOCAL:14 = 100 * (ABL:(ARG:2):奉仕精神 - 6)
	ENDSELECT
;恭順の珠で上げるには奉仕快楽経験(LOCAL:40)が必要
ELSEIF ARG == 1
	SELECTCASE ABL:(ARG:2):奉仕精神
		CASE 0
			LOCAL:40 = 5
		CASE 1
			LOCAL:40 = 10
		CASE 2
			LOCAL:40 = 20
		CASE 3
			LOCAL:40 = 50
		CASE 4
			LOCAL:40 = 100
		CASE 5
			LOCAL:40 = 150
		CASE 6
			LOCAL:40 = 200
		CASE 7
			LOCAL:40 = 250
		CASE 8
			LOCAL:40 = 300
		CASE 9
			LOCAL:40 = 400
		CASEELSE
			LOCAL:40 = 100 * (ABL:(ARG:2):奉仕精神 - 5)
	ENDSELECT
;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:40 , 2.00
	ELSE
		TIMES LOCAL:40 , 0.50
	ENDIF
ENDIF
;習得の球で上げるには絶頂経験が必要
ELSEIF ARG == 2
	LOCAL:10 = 1
ENDIF
RETURNF LOCAL:(ARG:1)

;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;露出癖
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@JUEL_DEMAND_14(ARG,ARG:1,ARG:2)
#FUNCTION
SIF ARG > 0
	RETURNF -1
VARSET LOCAL
;恥情の珠(LOCAL:14)が必要
SELECTCASE ABL:(ARG:2):露出癖
	CASE 0
		LOCAL:14 = 100
	CASE 1
		LOCAL:14 = 500
	CASE 2
		LOCAL:14 = 1500
	CASE 3
		LOCAL:14 = 3000
	CASE 4
		LOCAL:14 = 6000
	CASE 5
		LOCAL:14 = 10000
	CASE 6
		LOCAL:14 = 15000
	CASE 7
		LOCAL:14 = 24000
	CASE 8
		LOCAL:14 = 30000
	CASE 9
		LOCAL:14 = 40000
	CASEELSE
		LOCAL:14 = 20000 * (ABL:(ARG:2):露出癖 - 7)
ENDSELECT

;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	SIF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:14 , 2.00
ENDIF
RETURNF LOCAL:(ARG:1)

;--------------------------------------------------
;ARG パターン
;EXP:(ARG:2):(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@EXP_DEMAND_14(ARG,ARG:1,ARG:2)
#FUNCTION
VARSET LOCAL
;調教自慰経験と絶頂経験が必要
LOCAL:10 = 1
LOCAL:23 = 1
;ＬＶ３か４に上げるときは異常経験必要（素質：[喜歡引人注目]なら無視できる）
;IF ABL:(ARG:2):露出癖 == 3 && !TALENT:(ARG:2):喜歡引人注目
;	LOCAL:53 = 1
;ＬＶ４か５に上げるときは異常経験３必要（素質：[喜歡引人注目]なら無視できる）
;ELSEIF ABL:(ARG:2):露出癖 == 4 && !TALENT:(ARG:2):喜歡引人注目
;	LOCAL:53 = 3
;ＬＶ８か９に上げるときは異常経験５必要（素質：[喜歡引人注目]なら無視できる）
;ELSEIF ABL:(ARG:2):露出癖 == 6 && !TALENT:(ARG:2):喜歡引人注目
;	LOCAL:53 = 5
;ENDIF
RETURNF LOCAL:(ARG:1)

;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;受虐属性
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@JUEL_DEMAND_15(ARG,ARG:1,ARG:2)
#FUNCTION
;欲望が必要
SIF ABL:(ARG:2):欲望 < ABL:(ARG:2):受虐属性 + 1
	RETURNF -2
SIF ARG > 1
	RETURNF -1
VARSET LOCAL
;苦痛(LOCAL:15)と欲情(LOCAL:11)で上げる
IF ARG == 0
	SELECTCASE ABL:(ARG:2):受虐属性
		CASE 0
			LOCAL:11 = 100
			LOCAL:15 = 100
		CASE 1
			LOCAL:11 = 300
			LOCAL:15 = 500
		CASE 2
			LOCAL:11 = 1000
			LOCAL:15 = 1500
		CASE 3
			LOCAL:11 = 6000
			LOCAL:15 = 3000
		CASE 4
			LOCAL:11 = 12000
			LOCAL:15 = 5000
		CASE 5
			LOCAL:11 = 15000
			LOCAL:15 = 8000
		CASE 6
			LOCAL:11 = 20000
			LOCAL:15 = 12000
		CASE 7
			LOCAL:11 = 25000
			LOCAL:15 = 16000
		CASE 8
			LOCAL:11 = 30000
			LOCAL:15 = 20000
		CASE 9
			LOCAL:11 = 40000
			LOCAL:15 = 30000
		CASEELSE
			LOCAL:11 = 10000 * (ABL:(ARG:2):受虐属性 - 5)
			LOCAL:15 = 10000 * (ABL:(ARG:2):受虐属性 - 6)
	ENDSELECT
;苦痛(LOCAL:15)と屈服(LOCAL:12)で上げる
ELSEIF ARG == 1
	SELECTCASE ABL:(ARG:2):受虐属性
		CASE 0
			LOCAL:12 = 100
			LOCAL:15 = 100
		CASE 1
			LOCAL:12 = 500
			LOCAL:15 = 500
		CASE 2
			LOCAL:12 = 1000
			LOCAL:15 = 1200
		CASEELSE
			RETURNF -1
	ENDSELECT
ENDIF
;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:15 , 2.00
		TIMES LOCAL:11 , 2.00
		TIMES LOCAL:12 , 2.00
	ELSE
		TIMES LOCAL:15 , 0.50
		TIMES LOCAL:11 , 0.50
		TIMES LOCAL:12 , 0.50
	ENDIF
ENDIF
;受虐狂
IF TALENT:(ARG:2):受虐狂
	TIMES LOCAL:11 , 0.50
	TIMES LOCAL:12 , 0.50
	TIMES LOCAL:15 , 0.50
ENDIF
IF FLAG:甲斐性無
	TIMES LOCAL:11 , 1.50
	TIMES LOCAL:12 , 1.50
	TIMES LOCAL:15 , 1.50
ENDIF
RETURNF LOCAL:(ARG:1)

;--------------------------------------------------
;ARG パターン
;EXP:(ARG:2):(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@EXP_DEMAND_15(ARG,ARG:1,ARG:2)
#FUNCTION
VARSET LOCAL
;苦痛快楽経験(EXP:(ARG:2):42)が必要
SELECTCASE ABL:(ARG:2):受虐属性
	CASE 3
		LOCAL:42 = 10
	CASE 4
		LOCAL:42 = 50
	CASE 5
		LOCAL:42 = 100
	CASE 6
		LOCAL:42 = 150
	CASE 7
		LOCAL:42 = 200
	CASE 8
		LOCAL:42 = 250
	CASE 9
		LOCAL:42 = 300
	CASE IS > 9
		LOCAL:42 = 50 + (ABL:(ARG:2):受虐属性 - 3)
ENDSELECT
;苦痛(LOCAL:10)と屈服(LOCAL:7)で上げるには絶頂経験(EXP:(ARG:2):10)が必要
SIF ARG == 0
	LOCAL:10 = 1
;ＬＶ３か４に上げるときは異常経験必要（素質：[受虐狂]なら無視できる）
;IF ABL:(ARG:2):受虐属性 == 3 && !TALENT:(ARG:2):受虐狂
;	LOCAL:53 = 1
;ＬＶ４か５に上げるときは異常経験３必要（素質：[受虐狂]なら無視できる）
;ELSEIF ABL:(ARG:2):受虐属性 == 4 && !TALENT:(ARG:2):受虐狂
;	LOCAL:53 = 3
;ＬＶ８か９に上げるときは異常経験５必要（素質：[受虐狂]なら無視できる）
;ELSEIF ABL:(ARG:2):受虐属性 == 6 && !TALENT:(ARG:2):受虐狂
;	LOCAL:53 = 5
;ENDIF

;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:42 , 2.00
	ELSE
		TIMES LOCAL:42 , 0.50
	ENDIF
ENDIF
;受虐狂
SIF TALENT:(ARG:2):受虐狂
	TIMES LOCAL:42 , 0.50
SIF FLAG:甲斐性無
	TIMES LOCAL:42 , 1.50

RETURNF LOCAL:(ARG:1)

;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;施虐属性
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@JUEL_DEMAND_16(ARG,ARG:1,ARG:2)
#FUNCTION
;欲望が必要
SIF ABL:(ARG:2):欲望 < ABL:(ARG:2):施虐属性 + 1
	RETURNF -2
SIF ARG != 1
	RETURNF -1
VARSET LOCAL
IF ARG == 0
;欲情(LOCAL:11)で上げる
	SELECTCASE ABL:(ARG:2):施虐属性
		CASE 0
			LOCAL:11 = 100
		CASE 1
			LOCAL:11 = 500
		CASE 2
			LOCAL:11 = 1500
		CASE 3
			LOCAL:11 = 3000
		CASE 4
			LOCAL:11 = 5000
		CASE 5
			LOCAL:11 = 8000
		CASE 6
			LOCAL:11 = 12000
		CASE 7
			LOCAL:11 = 15000
		CASE 8
			LOCAL:11 = 25000
		CASE 9
			LOCAL:11 = 30000
		CASEELSE
			LOCAL:11 = 10000 * (ABL:(ARG:2):施虐属性 - 6)
	ENDSELECT
ELSEIF ARG == 1
	;優越
	SELECTCASE ABL:(ARG:2):施虐属性
		CASE 0
			LOCAL:21 = 100
		CASE 1
			LOCAL:21 = 500
		CASE 2
			LOCAL:21 = 1500
		CASE 3
			LOCAL:21 = 3000
		CASE 4
			LOCAL:21 = 5000
		CASE 5
			LOCAL:21 = 7500
		CASE 6
			LOCAL:21 = 10000
		CASE 7
			LOCAL:21 = 15000
		CASE 8
			LOCAL:21 = 20000
		CASE 9
			LOCAL:21 = 25000
		CASEELSE
			LOCAL:21 = 10000 * (ABL:(ARG:2):施虐属性 - 7)
	ENDSELECT
ENDIF
;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:11 , 2.00
		TIMES LOCAL:21 , 2.00
	ELSE
		TIMES LOCAL:11 , 0.50
		TIMES LOCAL:21 , 0.50
	ENDIF
ENDIF
;施虐狂
IF TALENT:(ARG:2):施虐狂
	TIMES LOCAL:11 , 0.50
	TIMES LOCAL:21 , 0.50
ENDIF
IF FLAG:甲斐性無
	TIMES LOCAL:11 , 0.80
	TIMES LOCAL:21 , 0.80
ENDIF
RETURNF LOCAL:(ARG:1)

;--------------------------------------------------
;ARG パターン
;EXP:(ARG:2):(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@EXP_DEMAND_16(ARG,ARG:1,ARG:2)
#FUNCTION
VARSET LOCAL
;嗜虐快楽経験(EXP:(ARG:2):43)が必要
SELECTCASE ABL:(ARG:2):施虐属性
	CASE 0
		LOCAL:43 = 5
	CASE 1
		LOCAL:43 = 20
	CASE 2
		LOCAL:43 = 50
	CASE 3
		LOCAL:43 = 80
	CASE 4
		LOCAL:43 = 120
	CASE 5
		LOCAL:43 = 150
	CASE 6
		LOCAL:43 = 200
	CASE 7
		LOCAL:43 = 300
	CASE 8
		LOCAL:43 = 500
	CASE 9
		LOCAL:43 = 700
	CASEELSE
		LOCAL:43 = 250 * (ABL:(ARG:2):施虐属性 - 6)
ENDSELECT


;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:43 , 2.00
	ELSE
		TIMES LOCAL:43 , 0.50
	ENDIF
ENDIF
;施虐狂
SIF TALENT:(ARG:2):施虐狂
	TIMES LOCAL:43 , 0.50
SIF FLAG:甲斐性無
	TIMES LOCAL:11 , 0.80
RETURNF LOCAL:(ARG:1)

;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;百合属性
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@JUEL_DEMAND_17(ARG,ARG:1,ARG:2)
#FUNCTION
SIF ARG > 1
	RETURNF -1
VARSET LOCAL
;欲情(LOCAL:11),屈服(LOCAL:12)で上げる
IF ARG == 0
	SELECTCASE ABL:(ARG:2):百合属性
		CASE 0
			LOCAL:11 = 200
			LOCAL:12 = 0
		CASE 1
			LOCAL:11 = 1000
			LOCAL:12 = 0
		CASE 2
			LOCAL:11 = 3000
			LOCAL:12 = 1000
		CASE 3
			LOCAL:11 = 8000
			LOCAL:12 = 2000
		CASE 4
			LOCAL:11 = 20000
			LOCAL:12 = 5000
		CASE 5
			LOCAL:11 = 25000
			LOCAL:12 = 6000
		CASE 6
			LOCAL:11 = 30000
			LOCAL:12 = 8000
		CASE 7
			LOCAL:11 = 35000
			LOCAL:12 = 10000
		CASE 8
			LOCAL:11 = 40000
			LOCAL:12 = 15000
		CASE 9
			LOCAL:11 = 45000
			LOCAL:12 = 20000
		CASEELSE
			LOCAL:11 = 10000 * (ABL:(ARG:2):百合属性 - 4)
			LOCAL:12 = 10000 * (ABL:(ARG:2):百合属性 - 7)
	ENDSELECT
;快Ｃの珠で上げる
ELSEIF ARG == 1
	SELECTCASE ABL:(ARG:2):百合属性
		CASE 0
			LOCAL:0 = 1000
		CASE 1
			LOCAL:0 = 5000
		CASEELSE
			RETURNF -1
	ENDSELECT
ENDIF
;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:0 , 2.00
		TIMES LOCAL:11 , 2.00
		TIMES LOCAL:12 , 2.00
	ELSE
		TIMES LOCAL:0 , 0.50
		TIMES LOCAL:11 , 0.50
		TIMES LOCAL:12 , 0.50
	ENDIF
ENDIF
RETURNF LOCAL:(ARG:1)

;--------------------------------------------------
;ARG パターン
;EXP:(ARG:2):(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@EXP_DEMAND_17(ARG,ARG:1,ARG:2)
#FUNCTION
VARSET LOCAL
;百合経験(EXP:(ARG:2):51)が必要
SELECTCASE ABL:(ARG:2):百合属性
	CASE 0
		LOCAL:51 = 50
	CASE 1
		LOCAL:51 = 200
	CASE 2
		LOCAL:51 = 500
	CASE 3
		LOCAL:51 = 1000
	CASE 4
		LOCAL:51 = 2000
	CASE 5
		LOCAL:51 = 2300
	CASE 6
		LOCAL:51 = 2600
	CASE 7
		LOCAL:51 = 3000
	CASE 8
		LOCAL:51 = 3500
	CASE 9
		LOCAL:51 = 4000
	CASEELSE
		LOCAL:51 = 500 * (ABL:(ARG:2):百合属性 - 1)
ENDSELECT
;ＬＶ３か４に上げるときは異常経験必要（素質：[兩面通吃]なら無視できる）
;IF ABL:(ARG:2):百合属性 == 3 && TALENT:(ARG:2):性別嗜好 == -1
;	LOCAL:53 = 1
;ＬＶ４か５に上げるときは異常経験３必要（素質：[兩面通吃]なら無視できる）
;ELSEIF ABL:(ARG:2):百合属性 == 4 && TALENT:(ARG:2):性別嗜好 == -1
;	LOCAL:53 = 3
;ＬＶ８か９に上げるときは異常経験５必要（素質：[兩面通吃]なら無視できる）
;ELSEIF ABL:(ARG:2):百合属性 == 8 && TALENT:(ARG:2):性別嗜好 == -1
;	LOCAL:53 = 5
;ENDIF

;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:51 , 2.00
	ELSE
		TIMES LOCAL:51 , 0.50
	ENDIF
ENDIF
SIF FLAG:抱負 == 2
	TIMES LOCAL:51 , 0.90
RETURNF LOCAL:(ARG:1)

;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;断袖属性
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@JUEL_DEMAND_18(ARG,ARG:1,ARG:2)
#FUNCTION
SIF ARG > 1
	RETURNF -1
VARSET LOCAL
;欲情(LOCAL:11),屈服(LOCAL:12)で上げる
IF ARG == 0
	SELECTCASE ABL:(ARG:2):断袖属性
		CASE 0
			LOCAL:11 = 200
			LOCAL:12 = 0
		CASE 1
			LOCAL:11 = 1000
			LOCAL:12 = 0
		CASE 2
			LOCAL:11 = 3000
			LOCAL:12 = 1000
		CASE 3
			LOCAL:11 = 8000
			LOCAL:12 = 2000
		CASE 4
			LOCAL:11 = 20000
			LOCAL:12 = 5000
		CASE 5
			LOCAL:11 = 25000
			LOCAL:12 = 6000
		CASE 6
			LOCAL:11 = 30000
			LOCAL:12 = 8000
		CASE 7
			LOCAL:11 = 35000
			LOCAL:12 = 10000
		CASE 8
			LOCAL:11 = 40000
			LOCAL:12 = 15000
		CASE 9
			LOCAL:11 = 45000
			LOCAL:12 = 20000
		CASEELSE
			LOCAL:11 = 10000 * (ABL:(ARG:2):断袖属性 - 4)
			LOCAL:12 = 10000 * (ABL:(ARG:2):断袖属性 - 7)
	ENDSELECT
;快Ｃの珠で上げる
ELSEIF ARG == 1
	SELECTCASE ABL:(ARG:2):断袖属性
		CASE 0
			LOCAL:0 = 1000
		CASE 1
			LOCAL:0 = 5000
		CASEELSE
			RETURNF -1
	ENDSELECT
ENDIF
;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:0 , 2.00
		TIMES LOCAL:11 , 2.00
		TIMES LOCAL:12 , 2.00
	ELSE
		TIMES LOCAL:0 , 0.50
		TIMES LOCAL:11 , 0.50
		TIMES LOCAL:12 , 0.50
	ENDIF
ENDIF
RETURNF LOCAL:(ARG:1)

;--------------------------------------------------
;ARG パターン
;EXP:(ARG:2):(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@EXP_DEMAND_18(ARG,ARG:1,ARG:2)
#FUNCTION
VARSET LOCAL
;断袖経験(EXP:(ARG:2):42)が必要
SELECTCASE ABL:(ARG:2):断袖属性
	CASE 0
		LOCAL:52 = 50
	CASE 1
		LOCAL:52 = 200
	CASE 2
		LOCAL:52 = 500
	CASE 3
		LOCAL:52 = 1000
	CASE 4
		LOCAL:52 = 2000
	CASE 5
		LOCAL:52 = 2300
	CASE 6
		LOCAL:52 = 2600
	CASE 7
		LOCAL:52 = 3000
	CASE 8
		LOCAL:52 = 3500
	CASE 9
		LOCAL:52 = 4000
	CASEELSE
		LOCAL:52 = 500 * (ABL:(ARG:2):断袖属性 - 1)
ENDSELECT
;ＬＶ３か４に上げるときは異常経験必要（素質：[兩面通吃]なら無視できる）
;IF ABL:(ARG:2):断袖属性 == 3 && TALENT:(ARG:2):性別嗜好 == -1
;	LOCAL:53 = 1
;ＬＶ４か５に上げるときは異常経験３必要（素質：[兩面通吃]なら無視できる）
;ELSEIF ABL:(ARG:2):断袖属性 == 4 && TALENT:(ARG:2):性別嗜好 == -1
;	LOCAL:53 = 3
;ＬＶ８か９に上げるときは異常経験５必要（素質：[兩面通吃]なら無視できる）
;ELSEIF ABL:(ARG:2):断袖属性 == 8 && TALENT:(ARG:2):性別嗜好 == -1
;	LOCAL:53 = 5
;ENDIF

;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:52 , 2.00
	ELSE
		TIMES LOCAL:52 , 0.50
	ENDIF
ENDIF
IF FLAG:抱負 == 2
	TIMES LOCAL:52 , 0.90
ENDIF
RETURNF LOCAL:(ARG:1)

;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;自慰中毒
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@JUEL_DEMAND_30(ARG,ARG:1,ARG:2)
#FUNCTION
;C感覚が必要
SIF ABL:(ARG:2):Ｃ感覚 <= ABL:(ARG:2):自慰中毒 + 1
	RETURNF -2
;露出癖が必要
SIF ABL:(ARG:2):露出癖 <= ABL:(ARG:2):自慰中毒 + 1
	RETURNF -2
SIF ARG > 1
	RETURNF -1
VARSET LOCAL
;欲情(LOCAL:11),快C(LOCAL:0),恥情(LOCAL:14)で上げる
SELECTCASE ABL:(ARG:2):自慰中毒
	CASE 0
		LOCAL:11 = 1000
		LOCAL:0 = 5000
		LOCAL:14 = 1000
	CASE 1
		LOCAL:11 = 2000
		LOCAL:0 = 10000
		LOCAL:14 = 3000
	CASE 2
		LOCAL:11 = 3000
		LOCAL:0 = 30000
		LOCAL:14 = 5000
	CASE 3
		LOCAL:11 = 10000
		LOCAL:0 = 50000
		LOCAL:14 = 12000
	CASE 4
		LOCAL:11 = 15000
		LOCAL:0 = 100000
		LOCAL:14 = 20000
	CASE 5
		LOCAL:11 = 25000
		LOCAL:0 = 150000
		LOCAL:14 = 25000
	CASE 6
		LOCAL:11 = 30000
		LOCAL:0 = 200000
		LOCAL:14 = 40000
	CASE 7
		LOCAL:11 = 50000
		LOCAL:0 = 250000
		LOCAL:14 = 50000
	CASE 8
		LOCAL:11 = 60000
		LOCAL:0 = 300000
		LOCAL:14 = 60000
	CASE 9
		LOCAL:11 = 70000
		LOCAL:0 = 500000
		LOCAL:14 = 70000
	CASEELSE
		LOCAL:11 = 10000 * (ABL:(ARG:2):自慰中毒 - 2)
		LOCAL:0 = 100000 * (ABL:(ARG:2):自慰中毒 - 3)
		LOCAL:14 = 10000 * (ABL:(ARG:2):自慰中毒 - 2)
ENDSELECT
;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:0 , 2.00
		TIMES LOCAL:11 , 2.00
		TIMES LOCAL:14 , 2.00
	ELSE
		TIMES LOCAL:0 , 0.40
		TIMES LOCAL:11 , 0.40
		TIMES LOCAL:14 , 0.40
	ENDIF
ENDIF
;容易中毒
IF TALENT:(ARG:2):容易中毒
	TIMES LOCAL:0 , 0.50
	TIMES LOCAL:11 , 0.50
	TIMES LOCAL:14 , 0.50
ENDIF
IF FLAG:抱負 == 1
	TIMES LOCAL:0 , 0.75
	TIMES LOCAL:11 , 0.75
	TIMES LOCAL:14 , 0.75
ENDIF
RETURNF LOCAL:(ARG:1)

;--------------------------------------------------
;ARG パターン
;EXP:(ARG:2):(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@EXP_DEMAND_30(ARG,ARG:1,ARG:2)
#FUNCTION
VARSET LOCAL
;自慰経験(EXP:(ARG:2):22)が必要
IF ARG == 0
	SELECTCASE ABL:(ARG:2):自慰中毒
		CASE 0
			LOCAL:22 = 5
		CASE 1
			LOCAL:22 = 15
		CASE 2
			LOCAL:22 = 30
		CASE 3
			LOCAL:22 = 50
		CASE 4
			LOCAL:22 = 80
		CASE 5
			LOCAL:22 = 120
		CASE 6
			LOCAL:22 = 180
		CASE 7
			LOCAL:22 = 250
		CASE 8
			LOCAL:22 = 350
		CASE 9
			LOCAL:22 = 500
		CASEELSE
			LOCAL:22 = 100 * (ABL:(ARG:2):自慰中毒 - 4)
	ENDSELECT
ELSEIF ARG == 1
	SELECTCASE ABL:(ARG:2):自慰中毒
		CASE 0
			LOCAL:22 = 5
		CASE 1
			LOCAL:22 = 15
		CASE 2
			LOCAL:22 = 30
		CASE 3
			LOCAL:22 = 50
		CASE 4
			LOCAL:22 = 80
		CASE 5
			LOCAL:22 = 120
		CASE 6
			LOCAL:22 = 180
		CASE 7
			LOCAL:22 = 250
		CASE 8
			LOCAL:22 = 350
		CASE 9
			LOCAL:23 = 500
		CASEELSE
			LOCAL:23 = 100 * (ABL:(ARG:2):自慰中毒 - 4)
	ENDSELECT
ENDIF
;ＬＶ３か４に上げるときは異常経験必要（素質：[容易中毒][自慰狂]なら無視できる）
;IF ABL:(ARG:2):自慰中毒 == 3 && !TALENT:(ARG:2):容易中毒 && !TALENT:(ARG:2):自慰狂
;	LOCAL:53 = 1
;ＬＶ４か５に上げるときは異常経験３必要（素質：[容易中毒][自慰狂]なら無視できる）
;ELSEIF ABL:(ARG:2):自慰中毒 == 4 && !TALENT:(ARG:2):容易中毒 && !TALENT:(ARG:2):自慰狂
;	LOCAL:53 = 3
;ＬＶ８か９に上げるときは異常経験５必要（素質：[容易中毒][自慰狂]なら無視できる）
;ELSEIF ABL:(ARG:2):自慰中毒 == 8 && !TALENT:(ARG:2):容易中毒 && !TALENT:(ARG:2):自慰狂
;	LOCAL:53 = 5
;ENDIF

;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:22 , 2.00
		TIMES LOCAL:23 , 2.00
	ELSE
		TIMES LOCAL:22 , 0.40
		TIMES LOCAL:23 , 0.40
	ENDIF
ENDIF
;容易中毒
IF TALENT:(ARG:2):容易中毒 || TALENT:(ARG:2):自慰狂
	TIMES LOCAL:22 , 0.50
	TIMES LOCAL:23 , 0.50
ENDIF
IF FLAG:抱負 == 1
	TIMES LOCAL:22 , 0.75
	TIMES LOCAL:23 , 0.75
ENDIF
RETURNF LOCAL:(ARG:1)

;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;精液中毒
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@JUEL_DEMAND_31(ARG,ARG:1,ARG:2)
#FUNCTION
;奉仕精神が必要
SIF ABL:(ARG:2):奉仕精神 < ABL:(ARG:2):精液中毒 + 1
	RETURNF -2
SIF ARG > 0
	RETURNF -1
VARSET LOCAL
;欲情(LOCAL:11),屈服(LOCAL:12)
SELECTCASE ABL:(ARG:2):精液中毒
	CASE 0
		LOCAL:11 = 3000
		LOCAL:12 = 10000
	CASE 1
		LOCAL:11 = 8000
		LOCAL:12 = 25000
	CASE 2
		LOCAL:11 = 15000
		LOCAL:12 = 50000
	CASE 3
		LOCAL:11 = 30000
		LOCAL:12 = 100000
	CASE 4
		LOCAL:11 = 45000
		LOCAL:12 = 300000
	CASE 5
		LOCAL:11 = 60000
		LOCAL:12 = 350000
	CASE 6
		LOCAL:11 = 65000
		LOCAL:12 = 400000
	CASE 7
		LOCAL:11 = 70000
		LOCAL:12 = 450000
	CASE 8
		LOCAL:11 = 75000
		LOCAL:12 = 500000
	CASE 9
		LOCAL:11 = 90000
		LOCAL:12 = 600000
	CASEELSE
		LOCAL:11 = 15000 * (ABL:(ARG:2):精液中毒 - 3)
		LOCAL:12 = 100000 * (ABL:(ARG:2):精液中毒 - 3)
ENDSELECT
;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:11 , 2.00
		TIMES LOCAL:12 , 2.00
	ELSE
		TIMES LOCAL:11 , 0.40
		TIMES LOCAL:12 , 0.40
	ENDIF
ENDIF
;容易中毒
IF TALENT:(ARG:2):容易中毒
	TIMES LOCAL:11 , 0.50
	TIMES LOCAL:12 , 0.50
ENDIF
RETURNF LOCAL:(ARG:1)

;--------------------------------------------------
;ARG パターン
;EXP:(ARG:2):(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
;精液中毒
@EXP_DEMAND_31(ARG,ARG:1,ARG:2)
#FUNCTION
VARSET LOCAL
;精液経験(EXP:(ARG:2):14)が必要
SELECTCASE ABL:(ARG:2):精液中毒
	CASE 0
		LOCAL:14 = 10
	CASE 1
		LOCAL:14 = 25
	CASE 2
		LOCAL:14 = 40
	CASE 3
		LOCAL:14 = 80
	CASE 4
		LOCAL:14 = 200
	CASE 5
		LOCAL:14 = 250
	CASE 6
		LOCAL:14 = 300
	CASE 7
		LOCAL:14 = 350
	CASE 8
		LOCAL:14 = 400
	CASE 9
		LOCAL:14 = 500
	CASEELSE
		LOCAL:14 = 100 * (ABL:(ARG:2):精液中毒 - 4)
ENDSELECT
;ＬＶ2か3に上げるときは異常経験必要（素質：[汚臭鈍感][容易中毒]なら無視できる）
;IF ABL:(ARG:2):精液中毒 == 2 && TALENT:(ARG:2):汚臭耐性 > 0 && !TALENT:(ARG:2):容易中毒
;	;LOCAL:53 = 1
;ＬＶ３か４に上げるときは異常経験必要（素質：[汚臭鈍感][容易中毒]なら無視できる）
;ELSEIF ABL:(ARG:2):精液中毒 == 3 && TALENT:(ARG:2):汚臭耐性 > 0 && !TALENT:(ARG:2):容易中毒
	;LOCAL:53 = 2
;ＬＶ４か５に上げるときは異常経験３必要（素質：[汚臭鈍感][容易中毒]なら無視できる）
;ELSEIF ABL:(ARG:2):精液中毒 == 4 && TALENT:(ARG:2):汚臭耐性 > 0 && !TALENT:(ARG:2):容易中毒
	;LOCAL:53 = 3
;ＬＶ８か９に上げるときは異常経験５必要（素質：[汚臭鈍感][容易中毒]なら無視できる）
;ELSEIF ABL:(ARG:2):精液中毒 == 8 && TALENT:(ARG:2):汚臭耐性 > 0 && !TALENT:(ARG:2):容易中毒
	;LOCAL:53 = 5
;ENDIF

;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:14 , 2.00
	ELSE
		TIMES LOCAL:14 , 0.50
	ENDIF
ENDIF
;容易中毒
SIF TALENT:(ARG:2):容易中毒
	TIMES LOCAL:14 , 0.50
RETURNF LOCAL:(ARG:1)

;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;百合中毒
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@JUEL_DEMAND_32(ARG,ARG:1,ARG:2)
#FUNCTION
;百合属性が必要
SIF ABL:(ARG:2):百合属性 < ABL:(ARG:2):百合中毒 + 1
	RETURNF -2
SIF ARG > 0
	RETURNF -1
VARSET LOCAL
;快C(LOCAL:0),欲情(LOCAL:11),屈服(LOCAL:12)が必要
SELECTCASE ABL:(ARG:2):百合中毒
	CASE 0
		LOCAL:0 = 3000
		LOCAL:11 = 10000
		LOCAL:12 = 10000
	CASE 1
		LOCAL:0 = 8000
		LOCAL:11 = 25000
		LOCAL:12 = 25000
	CASE 2
		LOCAL:0 = 15000
		LOCAL:11 = 50000
		LOCAL:12 = 50000
	CASE 3
		LOCAL:0 = 30000
		LOCAL:11 = 100000
		LOCAL:12 = 100000
	CASE 4
		LOCAL:0 = 55000
		LOCAL:11 = 300000
		LOCAL:12 = 300000
	CASE 5
		LOCAL:0 = 60000
		LOCAL:11 = 350000
		LOCAL:12 = 350000
	CASE 6
		LOCAL:0 = 65000
		LOCAL:11 = 400000
		LOCAL:12 = 400000
	CASE 7
		LOCAL:0 = 70000
		LOCAL:11 = 450000
		LOCAL:12 = 450000
	CASE 8
		LOCAL:0 = 75000
		LOCAL:11 = 500000
		LOCAL:12 = 500000
	CASE 9
		LOCAL:0 = 80000
		LOCAL:11 = 550000
		LOCAL:12 = 550000
	CASEELSE
		LOCAL:0 = 10000 * (ABL:(ARG:2):百合中毒 - 1)
		LOCAL:11 = 60000 * (ABL:(ARG:2):百合中毒 + 1)
		LOCAL:12 = 60000 * (ABL:(ARG:2):百合中毒 + 1)
ENDSELECT
;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:0 , 2.00
		TIMES LOCAL:11 , 2.00
		TIMES LOCAL:12 , 2.00
	ELSE
		TIMES LOCAL:0 , 0.40
		TIMES LOCAL:11 , 0.40
		TIMES LOCAL:12 , 0.40
	ENDIF
ENDIF
;容易中毒
IF TALENT:(ARG:2):容易中毒
	TIMES LOCAL:0 , 0.50
	TIMES LOCAL:11 , 0.50
	TIMES LOCAL:12 , 0.50
ENDIF
RETURNF LOCAL:(ARG:1)

;--------------------------------------------------
;ARG パターン
;EXP:(ARG:2):(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@EXP_DEMAND_32(ARG,ARG:1,ARG:2)
#FUNCTION
VARSET LOCAL
;百合経験(EXP:(ARG:2):51)が必要
SELECTCASE ABL:(ARG:2):百合中毒
	CASE 0
		LOCAL:51 = 1000
	CASE 1
		LOCAL:51 = 1500
	CASE 2
		LOCAL:51 = 2000
	CASE 3
		LOCAL:51 = 4500
	CASE 4
		LOCAL:51 = 6000
	CASE 5
		LOCAL:51 = 6500
	CASE 6
		LOCAL:51 = 7000
	CASE 7
		LOCAL:51 = 7500
	CASE 8
		LOCAL:51 = 8000
	CASE 9
		LOCAL:51 = 9000
	CASEELSE
		LOCAL:51 = 1000 * ABL:(ARG:2):百合中毒
ENDSELECT
;ＬＶ2か3に上げるときは異常経験必要（素質：[兩面通吃][容易中毒]なら無視できる）
IF ABL:(ARG:2):百合中毒 == 2 && TALENT:(ARG:2):性別嗜好 == -1 && !TALENT:(ARG:2):容易中毒
	;LOCAL:53 = 1
;ＬＶ３か４に上げるときは異常経験必要（素質：[兩面通吃][容易中毒]なら無視できる）
ELSEIF ABL:(ARG:2):百合中毒 == 3 && TALENT:(ARG:2):性別嗜好 == -1 && !TALENT:(ARG:2):容易中毒
	;LOCAL:53 = 2
;ＬＶ４か５に上げるときは異常経験３必要（素質：[兩面通吃][容易中毒]なら無視できる）
ELSEIF ABL:(ARG:2):百合中毒 == 4 && TALENT:(ARG:2):性別嗜好 == -1 && !TALENT:(ARG:2):容易中毒
	;LOCAL:53 = 3
;ＬＶ８か９に上げるときは異常経験５必要（素質：[兩面通吃][容易中毒]なら無視できる）
ELSEIF ABL:(ARG:2):百合中毒 == 8 && TALENT:(ARG:2):性別嗜好 == -1 && !TALENT:(ARG:2):容易中毒
	;LOCAL:53 = 5
ENDIF

IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:51 , 2.00
	ELSE
		TIMES LOCAL:51 , 0.50
	ENDIF
ENDIF
;容易中毒
SIF TALENT:(ARG:2):容易中毒
	TIMES LOCAL:51 , 0.50
RETURNF LOCAL:(ARG:1)

;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;断袖中毒
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@JUEL_DEMAND_33(ARG,ARG:1,ARG:2)
#FUNCTION
;断袖属性が必要
SIF ABL:(ARG:2):断袖属性 < ABL:(ARG:2):断袖中毒 + 1
	RETURNF -2
SIF ARG > 0
	RETURNF -1
VARSET LOCAL
;快C(LOCAL:0),欲情(LOCAL:11),屈服(LOCAL:12)が必要
SELECTCASE ABL:(ARG:2):断袖中毒
	CASE 0
		LOCAL:0 = 3000
		LOCAL:11 = 10000
		LOCAL:12 = 10000
	CASE 1
		LOCAL:0 = 8000
		LOCAL:11 = 25000
		LOCAL:12 = 25000
	CASE 2
		LOCAL:0 = 15000
		LOCAL:11 = 50000
		LOCAL:12 = 50000
	CASE 3
		LOCAL:0 = 30000
		LOCAL:11 = 100000
		LOCAL:12 = 100000
	CASE 4
		LOCAL:0 = 55000
		LOCAL:11 = 300000
		LOCAL:12 = 300000
	CASE 5
		LOCAL:0 = 60000
		LOCAL:11 = 350000
		LOCAL:12 = 350000
	CASE 6
		LOCAL:0 = 65000
		LOCAL:11 = 400000
		LOCAL:12 = 400000
	CASE 7
		LOCAL:0 = 70000
		LOCAL:11 = 450000
		LOCAL:12 = 450000
	CASE 8
		LOCAL:0 = 75000
		LOCAL:11 = 500000
		LOCAL:12 = 500000
	CASE 9
		LOCAL:0 = 80000
		LOCAL:11 = 550000
		LOCAL:12 = 550000
	CASEELSE
		LOCAL:0 = 10000 * (ABL:(ARG:2):断袖中毒 - 1)
		LOCAL:11 = 60000 * (ABL:(ARG:2):断袖中毒 + 1)
		LOCAL:12 = 60000 * (ABL:(ARG:2):断袖中毒 + 1)
ENDSELECT
;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:0 , 2.00
		TIMES LOCAL:11 , 2.00
		TIMES LOCAL:12 , 2.00
	ELSE
		TIMES LOCAL:0 , 0.50
		TIMES LOCAL:11 , 0.50
		TIMES LOCAL:12 , 0.50
	ENDIF
ENDIF
;容易中毒
IF TALENT:(ARG:2):容易中毒
	TIMES LOCAL:0 , 0.50
	TIMES LOCAL:11 , 0.50
	TIMES LOCAL:12 , 0.50
ENDIF
RETURNF LOCAL:(ARG:1)

;--------------------------------------------------
;ARG パターン
;EXP:(ARG:2):(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@EXP_DEMAND_33(ARG,ARG:1,ARG:2)
#FUNCTION
VARSET LOCAL
;断袖経験(EXP:(ARG:2):42)が必要
SELECTCASE ABL:(ARG:2):断袖中毒
	CASE 0
		LOCAL:52 = 1000
	CASE 1
		LOCAL:52 = 1500
	CASE 2
		LOCAL:52 = 2000
	CASE 3
		LOCAL:52 = 4500
	CASE 4
		LOCAL:52 = 6000
	CASE 5
		LOCAL:52 = 6500
	CASE 6
		LOCAL:52 = 7000
	CASE 7
		LOCAL:52 = 7500
	CASE 8
		LOCAL:52 = 8000
	CASE 9
		LOCAL:52 = 9000
	CASEELSE
		LOCAL:52 = 1000 * ABL:(ARG:2):断袖中毒
ENDSELECT
;ＬＶ2か3に上げるときは異常経験必要（素質：[兩面通吃][容易中毒]なら無視できる）
IF ABL:(ARG:2):断袖中毒 == 2 && !TALENT:(ARG:2):容易中毒 && TALENT:(ARG:2):性別嗜好 == -1
	;LOCAL:53 = 1
;ＬＶ３か４に上げるときは異常経験必要（素質：[兩面通吃][容易中毒]なら無視できる）
ELSEIF ABL:(ARG:2):断袖中毒 == 3 && !TALENT:(ARG:2):容易中毒 && TALENT:(ARG:2):性別嗜好 == -1
	;LOCAL:53 = 2
;ＬＶ４か５に上げるときは異常経験３必要（素質：[兩面通吃][容易中毒]なら無視できる）
ELSEIF ABL:(ARG:2):断袖中毒 == 4 && !TALENT:(ARG:2):容易中毒 && TALENT:(ARG:2):性別嗜好 == -1
	;LOCAL:53 = 3
;ＬＶ８か９に上げるときは異常経験５必要（素質：[兩面通吃][容易中毒]なら無視できる）
ELSEIF ABL:(ARG:2):断袖中毒 == 8 && !TALENT:(ARG:2):容易中毒 && TALENT:(ARG:2):性別嗜好 == -1
	;LOCAL:53 = 5
ENDIF

;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:52 , 2.00
	ELSE
		TIMES LOCAL:52 , 0.50
	ENDIF
ENDIF
;容易中毒
SIF TALENT:(ARG:2):容易中毒
	TIMES LOCAL:52 , 0.50
RETURNF LOCAL:(ARG:1)

;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;膣射中毒
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@JUEL_DEMAND_34(ARG,ARG:1,ARG:2)
#FUNCTION
;精液中毒が必要
SIF ABL:(ARG:2):精液中毒 < ABL:(ARG:2):膣射中毒 + 1
	RETURNF -2
SIF ARG > 0
	RETURNF -1
VARSET LOCAL
;欲情(LOCAL:11),屈服(LOCAL:12)
SELECTCASE ABL:(ARG:2):膣射中毒
	CASE 0
		LOCAL:11 = 3000
		LOCAL:12 = 10000
	CASE 1
		LOCAL:11 = 8000
		LOCAL:12 = 25000
	CASE 2
		LOCAL:11 = 15000
		LOCAL:12 = 50000
	CASE 3
		LOCAL:11 = 30000
		LOCAL:12 = 100000
	CASE 4
		LOCAL:11 = 45000
		LOCAL:12 = 300000
	CASE 5
		LOCAL:11 = 60000
		LOCAL:12 = 350000
	CASE 6
		LOCAL:11 = 65000
		LOCAL:12 = 400000
	CASE 7
		LOCAL:11 = 70000
		LOCAL:12 = 450000
	CASE 8
		LOCAL:11 = 75000
		LOCAL:12 = 500000
	CASE 9
		LOCAL:11 = 90000
		LOCAL:12 = 600000
	CASEELSE
		LOCAL:11 = 15000 * (ABL:(ARG:2):膣射中毒 - 3)
		LOCAL:12 = 100000 * (ABL:(ARG:2):膣射中毒 - 3)
ENDSELECT
;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:11 , 2.00
		TIMES LOCAL:12 , 2.00
	ELSE
		TIMES LOCAL:11 , 0.50
		TIMES LOCAL:12 , 0.50
	ENDIF
ENDIF
;Ｖ感度
IF TALENT:(ARG:2):Ｖ感度 > 0
	TIMES LOCAL:11 , 0.50
	TIMES LOCAL:12 , 0.50
ENDIF
RETURNF LOCAL:(ARG:1)

;--------------------------------------------------
;ARG パターン
;EXP:(ARG:2):(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
;膣射中毒
@EXP_DEMAND_34(ARG,ARG:1,ARG:2)
#FUNCTION
VARSET LOCAL
;膣射経験(EXP:(ARG:2):16)が必要
SELECTCASE ABL:(ARG:2):膣射中毒
	CASE 0
		LOCAL:16 = 10
	CASE 1
		LOCAL:16 = 25
	CASE 2
		LOCAL:16 = 40
	CASE 3
		LOCAL:16 = 80
	CASE 4
		LOCAL:16 = 200
	CASE 5
		LOCAL:16 = 250
	CASE 6
		LOCAL:16 = 300
	CASE 7
		LOCAL:16 = 350
	CASE 8
		LOCAL:16 = 400
	CASE 9
		LOCAL:16 = 500
	CASEELSE
		LOCAL:16 = 100 * (ABL:(ARG:2):膣射中毒 - 4)
ENDSELECT
;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:16 , 2.00
	ELSE
		TIMES LOCAL:16 , 0.40
	ENDIF
ENDIF
;Ｖ感度
SIF TALENT:(ARG:2):Ｖ感度 > 0
	TIMES LOCAL:16 , 0.50
RETURNF LOCAL:(ARG:1)

;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;肛射中毒
;≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡≡
;--------------------------------------------------
;ARG パターン
;JUEL:(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
@JUEL_DEMAND_35(ARG,ARG:1,ARG:2)
#FUNCTION
;精液中毒が必要
SIF ABL:(ARG:2):肛射中毒 > ABL:(ARG:2):精液中毒 + 1
	RETURNF -2
SIF ARG > 0
	RETURNF -1
VARSET LOCAL
;欲情(LOCAL:11),屈服(LOCAL:12)
SELECTCASE ABL:(ARG:2):肛射中毒
	CASE 0
		LOCAL:11 = 3000
		LOCAL:12 = 10000
	CASE 1
		LOCAL:11 = 8000
		LOCAL:12 = 25000
	CASE 2
		LOCAL:11 = 15000
		LOCAL:12 = 50000
	CASE 3
		LOCAL:11 = 30000
		LOCAL:12 = 100000
	CASE 4
		LOCAL:11 = 45000
		LOCAL:12 = 300000
	CASE 5
		LOCAL:11 = 60000
		LOCAL:12 = 350000
	CASE 6
		LOCAL:11 = 65000
		LOCAL:12 = 400000
	CASE 7
		LOCAL:11 = 70000
		LOCAL:12 = 450000
	CASE 8
		LOCAL:11 = 75000
		LOCAL:12 = 500000
	CASE 9
		LOCAL:11 = 90000
		LOCAL:12 = 600000
	CASEELSE
		LOCAL:11 = 15000 * (ABL:(ARG:2):肛射中毒 - 3)
		LOCAL:12 = 100000 * (ABL:(ARG:2):肛射中毒 - 3)
ENDSELECT
;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:11 , 2.00
		TIMES LOCAL:12 , 2.00
	ELSE
		TIMES LOCAL:11 , 0.40
		TIMES LOCAL:12 , 0.40
	ENDIF
ENDIF
;Ａ感度
IF TALENT:(ARG:2):Ａ感度 > 0
	TIMES LOCAL:11 , 0.50
	TIMES LOCAL:12 , 0.50
ENDIF
RETURNF LOCAL:(ARG:1)
;--------------------------------------------------
;ARG パターン
;EXP:(ARG:2):(ARG:1)が必要ならLOCAL:(ARG:1)に代入してその値を返す
;--------------------------------------------------
;肛射中毒
@EXP_DEMAND_35(ARG,ARG:1,ARG:2)
#FUNCTION
VARSET LOCAL
;肛射経験(EXP:(ARG:2):肛射経験)が必要
SELECTCASE ABL:(ARG:2):肛射中毒
	CASE 0
		LOCAL:17 = 10
	CASE 1
		LOCAL:17 = 25
	CASE 2
		LOCAL:17 = 40
	CASE 3
		LOCAL:17 = 80
	CASE 4
		LOCAL:17 = 200
	CASE 5
		LOCAL:17 = 250
	CASE 6
		LOCAL:17 = 300
	CASE 7
		LOCAL:17 = 350
	CASE 8
		LOCAL:17 = 400
	CASE 9
		LOCAL:17 = 500
	CASEELSE
		LOCAL:17 = 100 * (ABL:(ARG:2):肛射中毒 - 4)
ENDSELECT

;難以越過的底線
IF TALENT:(ARG:2):難以越過的底線
	IF !TALENT:(ARG:2):恋慕
		TIMES LOCAL:17 , 2.00
	ELSE
		TIMES LOCAL:17 , 0.50
	ENDIF
ENDIF
;Ａ感度
SIF TALENT:(ARG:2):Ａ感度 > 0
	TIMES LOCAL:17 , 0.50
RETURNF LOCAL:(ARG:1)

;--------------------------------------------------
;各ABL_UPに必要なJUEL, EXPの必要倍率を設定する関数
;--------------------------------------------------
@OPTION_ABL_UP_RAIT
#DIM ABL_ID

PRINTL ■ 能力提升倍率 越高提升越容易,越低提升越困难
PRINTFORML   设置在{MIN_ABL_UP_RAIT}\%～{MAX_ABL_UP_RAIT}\%之间。因可能严重破坏游戏平衡,建议保持默认的100\%。
FOR ABL_ID, 0, VARSIZE("ABL_UP_RAIT")
	;46到49号能力被写入了talent里
	IF INRANGE(ABL_ID, 46, 49)
		;如果没有定义该能力则跳过
		SIF (STRLENS(TALENTNAME:ABL_ID) == 0)
			CONTINUE
		;如果值超出允许范围则初始化
		SIF (ABL_UP_RAIT:ABL_ID < MIN_ABL_UP_RAIT || ABL_UP_RAIT:ABL_ID > MAX_ABL_UP_RAIT)
			ABL_UP_RAIT:ABL_ID = DEFAULT_ABL_UP_RAIT
		LOCALS = %TALENTNAME:ABL_ID%的提升倍率
		PRINTFORML [%@"{ABL_ID, 2, RIGHT}"%] %@"%LOCALS, 20, LEFT%"%: {ABL_UP_RAIT:ABL_ID}\%
	ELSE
		;如果没有定义该能力则跳过
		SIF (STRLENS(ABLNAME:ABL_ID) == 0)
			CONTINUE
		;如果值超出允许范围则初始化
		SIF (ABL_UP_RAIT:ABL_ID < MIN_ABL_UP_RAIT || ABL_UP_RAIT:ABL_ID > MAX_ABL_UP_RAIT)
			ABL_UP_RAIT:ABL_ID = DEFAULT_ABL_UP_RAIT
		LOCALS = %ABLNAME:ABL_ID%的提升倍率
		PRINTFORML [%@"{ABL_ID, 2, RIGHT}"%] %@"%LOCALS, 20, LEFT%"%: {ABL_UP_RAIT:ABL_ID}\%
	ENDIF
NEXT
PRINTL [999] 返回
$INPUT_LOOP
INPUT
SIF RESULT == 999
	RETURN
; 跳过未定义的能力
IF RESULT < 0 && RESULT >= VARSIZE("ABL_UP_RAIT") && STRLENS(ABLNAME:RESULT) != 0
	PRINTW 请输入正确的值
	CLEARLINE 2
	GOTO INPUT_LOOP
ENDIF
CALL SETTING_ABL_UP_RAIT(RESULT)
RESTART

;--------------------------------------------------
;指定されたABLの上昇倍率を更新する関数
; ABL_ID: 上昇倍率を更新するABLのID
;--------------------------------------------------
@SETTING_ABL_UP_RAIT(ABL_ID)
#DIM ABL_ID
#DIM NEW_ABL_UP_RAIT

PRINTL 
PRINTFORML 请将%ABLNAME:ABL_ID%的能力提升倍率设置在{MIN_ABL_UP_RAIT}\%～{MAX_ABL_UP_RAIT}\%之间
PRINTL 倍率越高,能力提升越容易,倍率越低,提升越困难
PRINTL --- 也接受手动输入 ---
PRINTFORML [%@"{DEFAULT_ABL_UP_RAIT, 3, RIGHT}"%] 默认(推荐)
PRINTFORML [%@"{MAX_ABL_UP_RAIT, 3, RIGHT}"%] 最大
PRINTFORML [%@"{MIN_ABL_UP_RAIT, 3, RIGHT}"%] 最小
PRINTL [0] 返回
$INPUT_LOOP2
INPUT
; 不接受不合法的值
SIF RESULT == 0
	RETURN
IF (ABL_UP_RAIT:ABL_ID < MIN_ABL_UP_RAIT || ABL_UP_RAIT:ABL_ID > MAX_ABL_UP_RAIT)
	PRINTW 请输入正确的值
	CLEARLINE 2
	GOTO INPUT_LOOP2
ENDIF
NEW_ABL_UP_RAIT = RESULT
PRINTL
PRINTFORML 
$INPUT_LOOP3
PRINTFORML 将%ABLNAME:ABL_ID%的能力提升倍率设置为{NEW_ABL_UP_RAIT}\%
IF NEW_ABL_UP_RAIT > DEFAULT_ABL_UP_RAIT
	PRINTL 设置这个值后,能力将比正常情况下更容易提升
ELSEIF NEW_ABL_UP_RAIT < DEFAULT_ABL_UP_RAIT
	PRINTL 设置这个值后,能力将比正常情况下更难提升
ELSE
	PRINTL 设置这个值后,能力提升将处于标准设置
ENDIF
PRINTL 是否确认?
PRINTL [0] 是
PRINTL [1] 否
INPUT
IF (RESULT == 0)
	ABL_UP_RAIT:ABL_ID = NEW_ABL_UP_RAIT
	RETURN
ENDIF
RESTART

;--------------------------------------------------
;指定されたABLの上昇倍率と必要値を安全に返却する関数
; ABL_ID: 対象のABLのID
; DEMAND: 必要値の基準値
;--------------------------------------------------
@CALC_ABL_DEMAND(ABL_ID, DEMAND)
#FUNCTION
#DIM ABL_ID
#DIM DEMAND

SIF (ABL_UP_RAIT:ABL_ID) == 0
	ABL_UP_RAIT:ABL_ID = DEFAULT_ABL_UP_RAIT
SIF DEMAND == 0
	RETURNF 0
RETURNF MAX(1, DEMAND * DEFAULT_ABL_UP_RAIT / ABL_UP_RAIT:ABL_ID)
