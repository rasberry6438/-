;COMF413 製作料理.erbに統合されました＠料理改良パッチ
[SKIPSTART]
@MIX_MENU
PRINTL 要把什么混进去吗？
{
CALL ASK_M(
	"算了",  1,
	"更改调味", !GET_OPTION_COOKING("自動味付け設定"),
	"做出更刺激的味道",  GET_OPTION_COOKING("異物混入可能"),
	"混入药剂",  GET_OPTION_COOKING("薬物混入可能") && MAX(ITEM:媚薬, ITEM:利尿剤, ITEM:催情薬, ITEM:睡眠薬) > 0
	)
}
SELECTCASE RESULT
CASE 0
	RETURN
CASE 1
	CALL MANUAL_SEASONING
CASE 2
	CALL MIXTURE_SPICE
CASE 3
	CALL MIXTURE_DRUG
ENDSELECT
RETURN RESULT



@AUTO_SEASONING
#DIM AUTO_TASTE
SIF TCVAR:MASTER:308
	RETURN
TCVAR:MASTER:308 = (GET_OPTION_COOKING("自動味付け設定") - 10)



@MANUAL_SEASONING
PRINTL 要变更调料吗？
CALL ASK_M("普通",  1, "重口味", 1, "清淡的味道",  1)
SELECTCASE RESULT
CASE 2
	PRINTL 将料理调整成清淡的了
CASE 1
	PRINTL 将料理调整成重口味了
CASE 0
	PRINTFORML 将料理调整成了%NAME_OUTPUT_TRANSLATION("CALLNAME", MASTER)%喜欢的口味
ENDSELECT
SIF RESULT
	TCVAR:MASTER:308 = RESULT
RETURN RESULT



@MIXTURE_SPICE
#DIM CONST BIT_MIX_SPICE = 0, 3, 4, 5, 6
PRINTL 要添加什么呢…
{
CALL ASK_M(
	"果然還是放棄",  1,
	"变态辣DEATH酱汁", 1,
	"超甜糖精",  1,
	"大量芥末",  1,
	"濃縮柠檬果汁",  1)
}
SIF RESULT
	SETBIT TCVAR:MASTER:308, BIT_MIX_SPICE:RESULT
SELECTCASE RESULT
CASE 0
	RETURN
CASE 1
	PRINTFORML %NAME_OUTPUT_TRANSLATION("CALLNAME", PLAYER)%往作好的%DISH_NAME%里加入了DEATH酱汁
	PRINTFORML %DISH_NAME%眼看着被染成了一片椒红色
CASE 2
	PRINTFORML %NAME_OUTPUT_TRANSLATION("CALLNAME", PLAYER)%往%DISH_NAME%里加入了白色粉末状的糖精 
	PRINTFORML 虽然看上去不起眼但甜度可是砂糖的300倍呢
CASE 3
	PRINTFORML %NAME_OUTPUT_TRANSLATION("CALLNAME", PLAYER)%把新鮮的山葵磨成芥末加进了%DISH_NAME%里
	PRINTFORML 冲击性的好味道刺激着%NAME_OUTPUT_TRANSLATION("CALLNAME", PLAYER)%的鼻子
CASE 4
	PRINTFORML %NAME_OUTPUT_TRANSLATION("CALLNAME", PLAYER)%往%DISH_NAME%里加入了濃縮柠檬果汁
	PRINTFORML 虽然看上去不起眼但想必十分之酸吧
ENDSELECT
RETURN 1



@MIXTURE_DRUG
#DIM CONST BIT_MIX_DRUG = 0, 21, 22, 23, 24
PRINTL 要添加什么呢…
{
CALL ASK_M(
	"果然還是放棄",       1,
	"媚薬",   ITEM:媚薬   > 0,
	"利尿剤", ITEM:利尿剤 > 0,
	"催情薬", ITEM:催情薬 > 0,
	"睡眠薬", ITEM:睡眠薬 > 0)
}
SIF RESULT
	SETBIT TCVAR:MASTER:308, BIT_MIX_DRUG:RESULT
SELECTCASE RESULT
CASE 0
	RETURN
CASE 1
	PRINTFORML %NAME_OUTPUT_TRANSLATION("CALLNAME", PLAYER)%从懐中拿出媚薬、混进了%DISH_NAME%里…
	ITEM:媚薬 --
CASE 2
	PRINTFORML %NAME_OUTPUT_TRANSLATION("CALLNAME", PLAYER)%从懐中拿出利尿剤、混进了%DISH_NAME%里…
	ITEM:利尿剤 --
CASE 3
	PRINTFORML %NAME_OUTPUT_TRANSLATION("CALLNAME", PLAYER)%は懐から催情薬を出すと、%DISH_NAME%に混ぜた…
	ITEM:催情薬 --
CASE 4
	PRINTFORML %NAME_OUTPUT_TRANSLATION("CALLNAME", PLAYER)%从懐中拿出睡眠薬、混进了%DISH_NAME%里…
	ITEM:睡眠薬 --
ENDSELECT
RETURN 1
[SKIPEND]


