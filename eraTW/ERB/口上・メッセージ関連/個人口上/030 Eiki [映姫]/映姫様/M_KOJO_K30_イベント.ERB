;-------------------------------------------------
; eraTheWorld 4.920 映姫様口上（角色の名前を入れる、下にコンセプトなど一言那个ば入れる）
;-------------------------------------------------
;
;「四季様の愛のあるお説教……イイ……！」
;
;**** FlagManagement **********************************************************
;本口上にて使用しているCFLAG・TCVAR等
;TCVAR:30:351 複数恋人発覚フラグ
;TCVAR:30:352 風チラ発生フラグ
;TCVAR:30:353 アヘ顔フラグ
;TCVAR:30:354 おしり画像ぱんつ描画フラグ
;TCVAR:30:355 おしり画像エフェクト制御フラグ
;TCVAR:30:356 特殊表情COM制御フラグ
;TCVAR:30:357 口交アニメ制御フラグ
;TCVAR:30:358 约会のお誘い(=0 你から =1 相手から)
;TCVAR:30:359 一日一回の会話＠来訪理由
;TCVAR:30:360 IMAGE.ERB受け渡し用フラグ (=TIMEで表情変化) 
;TCVAR:30:361 強制攻守交代口上フラグ１
;TCVAR:30:362 強制攻守交代口上フラグ２
;TCVAR:30:363 朝诶嘿嘿フラグ(=TIME 朝口交した時間 =-1 妊活の為我慢した -1以下 朝诶嘿嘿実行)
;TCVAR:30:364 振動棒挿入约会フラグ(=1 挿入中 =-1 時間停止中)
;TCVAR:30:365 バイブ挿入デートリモコン(=1 弱 =2強)
;TCVAR;30:366 特殊衰弱中フラグ(=1 ヤリすぎ)
;TCVAR:30:367 媚薬関連フラグ(Bit0-もう飲まない Bit1-後付け[淫乱]付与中 Bit2-上限突破 Bit3-搾り取りモード)
;TCVAR:30:368 バイブ挿入デートリモコン連打防止(=TIME:1)
;TCVAR:30:371 映姫様折檻フラグ(=1 怒ってる =2 オオイカリ =3 マジイカリ)
;TCVAR:30:372 虫の居所フラグ(=1 @KIGEN_CHANGEで心情不快になった。MASTERが悪くない)
;TCVAR:30:373 おはよう口上フラグ(=1 おはよう口上通した =2 映姫様起きてなかった =3 部屋に乱入された)
;TCVAR:30:374 特殊衰弱中フラグ(=1 ヤリすぎ)
;TCVAR:30:375 射精口上分岐フラグ(雙重口交/授乳PLAY)
;TCVAR:30:377 詫び胖次フラグ(=-1 配送予約済み =2～ 手元のぱんつ種類)
;TCVAR:30:376 推倒口上制御フラグ(=1 推倒中 =2 被逆推中)
;TCVAR:30:378 私室で诶嘿嘿したフラグ(=1 部屋でした)
;TCVAR:30:379 薬入り茶フラグ(=1～10 口上分岐 =100～ミニイベント終了 =1000～ 後付け素質消去チェック)
;TCVAR:30:380 当日诶嘿嘿回数
;TCVAR:30:381 当日掌握把柄モニタ戒指
;TCVAR:30:382 前ターンＡ絶頂モニタリング
;TCVAR:30:383 诶嘿嘿終了時刻監視フラグ
;TCVAR:30:385 映姫様マグロスイッチ（ =1 ON）
;TCVAR:30:386 强行フラグ
;TCVAR:30:387 恋人同衾フラグ
;TCVAR:30:389 お気に入り体位記録
;TCVAR:30:390 Ｃ絶頂回数
;TCVAR:30:391 Ｖ絶頂回数
;TCVAR:30:392 Ａ絶頂回数
;TCVAR:30:393 Ｂ絶頂回数
;TCVAR:30:394 Ｍ絶頂回数
;TCVAR:30:395 口内射精回数
;TCVAR:30:396 你射精回数
;TCVAR:30:397 五重絶頂
;TCVAR:30:398 騎乗位の向き(=0 対面 =1 背面)
;CFLAG:1500 映姫様おしり画像＆アニメーションスイッチ（Bit0-口交アニメ 1-おしり画像 2-まばたき）
;CFLAG:1501 口上色保存フラグ
;CFLAG:1502 妊娠願望関連フラグ
;(Bit0-危険日Ｈ解禁 1-子宝祈願済 2-信賴度到達 3-願望取得済 4-二人目願望)
;CFLAG:1503 诶嘿嘿我慢日数
;CFLAG:1504 合意诶嘿嘿終了時刻(= TIME:1)
;CFLAG:1505 映姫様恋人フラグ(Bit0-告白成功 Bit1-破局済)
;CFLAG:1602 接吻制御フラグ
;CFLAG:1603 翌日行動予約フラグ（=1 祈願で来訪 =2 同居時自慰して朝襲う予定 =3,4 自慰我慢して来訪）
;CFLAG:1605 就寝フラグ (=1 同棲時、おやすみ口上通したor初期位置で寝た =10 同棲決定後口上制御)
;CFLAG:1606 朝口交フラグ（Bit0-発生抑制 1-依頼時口上制御）
;CFLAG:1607 潮吹きカウントフラグ
;CFLAG:1608 振動棒挿入约会累計
;CFLAG:1609 振動棒挿入约会フラグ(Bit0-予約済 1-本日実行中 2-実行抑制 3-祈願表示フラグ 4-リモコン追加）
;CFLAG:1698 情事ばれモニタ戒指
;CFLAG:1699 把柄関連管理(Bit =0 胖次密輸前科あり =1 密輸説教待ち =2 盛りすぎ説教待ち =3 寝室ヤリ部屋化説教待ち)
;CFLAG:1700 内裤走私者モニタ戒指
;CFLAG:1701 良いお話の累計
;CFLAG:1801 映姫様ガードUPフラグ(=1 ガード力UP)
;CFLAG:1802 母乳口上分岐フラグ(=1 授乳期間中)
;CFLAG:1803 メッセージ抑制フラグ(Bit0-ガード力UPUPDATE 1-掌握把柄 2-呼び名変更 3-日記UPDATE
;									4-母乳体質UPDATE 5-特殊约会 6-別絵確認 7-不怕痛付与 8-口上色変更)
;CFLAG:1804 育児口上抑制フラグ(Bit1~10がTALENT:育児中に対応)
;CFLAG:1805 無自覚妊娠フラグ
;CFLAG:1900 日記フラグ(初回遭遇パターン)
;CFLAG:1901 日記フラグ(初回遭遇時大家ID)
;CFLAG:1910 日記分岐管理
;(Bit =0 弾幕勝負経過 =1 弾幕勝負結果 =2 日記記入抑制No.1 =3 日記記入抑制No.2 =4 内裤走私者検挙歴
;	  =5 望んだ妊娠 =6 接吻主導権 =7 縦割れ肛門 =8 日記記入抑制No.36 =9 日記記入抑制No.50 )
;＊＊明確な口上使用領域ではないので注意＊＊
;CSTR:30:80 恋慕二人きり限定のMASTER呼び名
;CSTR:30:81 日記用記録１([日記ID:内容]…の形式で@SET_DICによる管理)
;CSTR:30:82 日記用記録２(ひとまとめより処理が早そうなので分割)
;CSTR:30:83 無自覚孕ませの子の名前
;******************************************************************************
;### 口上存在判定 ###################################
@M_KOJO_K30(ARG)
;別人版を作成する際はこの貂プレではなく別人版用口上貂プレをご利用ください

;口上存在判定です、けしてコメントアウトしないでください
;他の処理は一切行わないように
RETURN 1

;### 口上基本フラグ設定 #############################
@M_KOJO_FLAGSETTING_K30
#DIM COM_TIME
#DIMS PREV_STR

;基本フラグ設定はここで行ってください
;共通の口上フラグは必要な箇所のコメントアウトを外してご利用ください
;口上専用フラグはご自由に
;Xには角色番号を入れてください
;眠姦口上有、時間停止口上有、扮演に1を入れると、それぞれ時間停止時、眠姦時、扮演時に指令口上が読み込まれるように
;入れないと時間停止時、眠姦時、扮演時は一切喋りません
CFLAG:30:時間停止口上有 = 1
CFLAG:30:眠姦口上有 = 1
;破瓜中止口上有に1を入れると、@M_KOJO_EVENT_KX_LOST_VIRGIN_STOPで中止の成否を操作できます
;映姫様はお堅いので処女はなるべく守ろうとするよ
;推倒禁止に1を入れると、主动推倒てこなくなります
;映姫様はお堅いので恋慕か炮友がつくまで推倒てこないよ
IF CFLAG:30:1801 == 1
	CFLAG:30:破瓜中止口上有 = 1
	IF TALENT:30:恋慕 || TALENT:30:炮友 || TALENT:30:愛欲
		CFLAG:30:推倒禁止 = 0
	ELSE
		CFLAG:30:推倒禁止 = 1
	ENDIF
ELSE
	CFLAG:30:推倒禁止 = 0
	CFLAG:30:破瓜中止口上有 = 0
ENDIF

;口上内抱き寄せ判定_初回と口上内抱き寄せ判定_通常に1を入れると、M_KOJO_EVENT_KX_PERMISSIONで押し倒しの成否を操作できます
;CFLAG:X:口上内抱き寄せ判定_初回 = 0
;CFLAG:X:口上内抱き寄せ判定_通常 = 0

;映姫様は意識がちゃんとある時しか接吻合意を認めないよ
SIF CFLAG:30:1801 == 1 && CFLAG:30:1602 == 0
	CLEARBIT CFLAG:30:既成事實, 0

;映姫様は風チラガード硬めだよ
;でもバイブデート中はユルユルだよ
IF !CFLAG:30:诶嘿嘿 && TEQUIP:30:肛用振動棒
	CFLAG:30:めくれ補正 = 33
ELSEIF TCVAR:30:352 || CFLAG:30:没穿内裤
	CFLAG:30:めくれ補正 = -100
ELSE
	CFLAG:30:めくれ補正 = -10
ENDIF

;バニー衣装でも映姫様は変Ｔから逃げられないよ
IF CFLAG:30:衣装一時変更 == 55 && !CFLAG:30:诶嘿嘿
	LOCAL = DAY % 7 == 5 ? 62 # 17
	CALL CTRL_CLOTHES_SET(30, "現在衣装の変更_衣装セット", LOCAL)
	CALL CLOTHES_SETTING_TRAIN(30)
ENDIF

;映姫様はえっちした時間をしっかり覚えてるよ
IF TCVAR:30:383 && !CFLAG:30:诶嘿嘿
	TCVAR:30:383 = 0
	CFLAG:1504 = TIME:1
ENDIF

;ターン毎複数恋人管理
CALL K30_DENY_POLYAMORY(0)

;媚薬で搾り取りモードなら溜まってる度減らさない
SIF GETBIT(TCVAR:30:367, 3)
	CFLAG:30:积攒度 = MIN(CFLAG:30:积攒度, 666)
	
;媚薬で搾り取りモード中はうふふから逃さない
SIF COM_STR == "K30_搾り取りモード"
	CALL K30_KIMESEKU_PUSHDOWN

;COM_STR管理=口上独自で1ターンのみ継続するフラグを立てる
SIF STRFIND(PREV_STR, "K30_") > -1 && COM_STR == PREV_STR && COM_TIME < TIME:1
	COM_STR = 
PREV_STR '= COM_STR
COM_TIME = TIME:1

;無自覚孕ませの代償
IF CFLAG:30:1805 > 1
	TALENT:30:心情 = MIN(TALENT:30:心情, 0)
	CFLAG:30:子宝補正 = 0
	EX:30:膣内精液 = 0
	SIF FLAG:子宝祈願 == 30
		FLAG:子宝祈願 = 0
ENDIF

;ガーター吊帯描画フラグ
SIF !TCVAR:30:354
	TCVAR:30:354 = CFLAG:30:きょうのぱんつ == 22 ? 1 # -1

;オプション設定＆現在位置が映姫様と一緒の場合、指令待機時のアニメ描画優先度変更
SETANIMETIMER 32627
SIF CFLAG:MASTER:現在位置 == CFLAG:30:現在位置 && GETBIT(CFLAG:30:1500, 2)
	SETANIMETIMER 50

;振動棒约会フォロー
SIF TCVAR:30:364 >= 0
	RETURN 1
SIF CFLAG:30:诶嘿嘿
	RETURN 1
TEQUIP:30:肛用振動棒 = 1
TCVAR:30:364 = 1
RETURN 1

;### 来訪前フラグ設定 #############################
@K30_BEFORETRAIN
;変Ｔを着て朝から心情愉快とか無理
SIF DAY % 7 == 5 || FLAG:ファッション == 62
	TALENT:30:心情 = MIN(TALENT:30:心情, 0)

;母乳イベント用フラグ
CFLAG:30:1802 = (INRANGE(CFLAG:30:出産経過日, 1, CHILD_離乳 - 1) || CFLAG:30:妊娠経過日数 >= 90) && !CFLAG:1805

;同棲中外泊朝帰りチェック
SIF CFLAG:MASTER:初期位置 == CFLAG:30:初期位置 && CFLAG:MASTER:現在位置 != CFLAG:30:初期位置 && STRFIND(CSTR:30:1, "同居") == -1
	CFLAG:1605 = 0

;### 口上色判定 ###################################
@M_KOJO_COLOR_K30
SETCOLOR CFLAG:30:1501
RETURN RESULT

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"UPDATE判定"
;※※※※※※※※※※※※※※※※※※※※※※※※※※
@M_KOJO_UPDATE_K30
#DIM TEMP
#DIM R_TEMP
;口上独自のUPDATE用
;ENCOUNTER専用に独自分岐フラグを仕込んだ場合等にどうぞ
;UPDATE判定でCFLAG等の角色変数を使用場合、角色番号の指定が必要になります
VARSET LOCALS
SETBIT CFLAG:30:1803, 4
SIF TALENT:30:恋人 && !CFLAG:30:1505
	SETBIT CFLAG:30:1505, 0
IF CFLAG:30:面識 && MASTERNAME:30 == ""
	CFLAG:30:1501 = 0x337D5C
	PRINTFORML
	PRINTFORML UP后可以更改映姬的称呼了
	PRINTFORML 「是否要对%CALLNAME:MASTER%\@ TALENT:30:恋人 ? # 桑 \@」更改？
	CALL ASK_YN
	IF !RESULT
		CALL K30_SET_C_NAME(0)
		RESETCOLOR
	ELSE
		MASTERNAME:30 = %CALLNAME:MASTER%
		PRINTFORMW 「%CALLNAME:MASTER%\@ TALENT:30:恋人 ? # 桑 \@」已设置
	ENDIF
ENDIF
SIF CFLAG:30:允许无套 == 2
	SETBIT CFLAG:30:1502, 0
IF CFLAG:30:面識 && GETBIT(CFLAG:30:1803, 3) == 0
	VARSET DIARY:30, 0, 0, 101
	VARSET PAGESET:30, 0, 0, 101
	DIARY:30:50 =1
	PAGESET:30:1 = 50
	IF CFLAG:30:1902
		CSTR:30:81 = [50:%TOSTR(CFLAG:30:1902)%/晴天/]
		CSTR:30:82 = [50:%MASTERNAME:30%/%CSTR:30:82%/]
	ELSE
		CFLAG:30:1900 = 3
		CFLAG:30:1901 = 1
		CSTR:30:81 = [50:3/晴天/]
		CSTR:30:82 = [50:%MASTERNAME:30%/博麗神社/]
	ENDIF
	SIF !TALENT:30:無接吻経験
			CALL K30_WRITE_DIARY(1, 1)
	SIF CSTR:30:処女喪失履歴 != "" 
			CALL K30_WRITE_DIARY(2, 1)
	PRINTFORML 
	PRINTFORML 随着规格变更日记已重置
	PRINTFORMW 交接数据日记的发生·显示会变得奇怪，请谅解
	PRINTFORML 
	SETBIT CFLAG:30:1803, 3
ENDIF
$K30_GUARD_CHECK
IF GETBIT(CFLAG:30:1803, 0)
	RESETCOLOR
	PRINTFORML
	PRINTFORML 映姫大人是\@ CFLAG:30:1801 == 1 ? 慎重的阎魔大人 # 普通的幻想乡少女 \@
	PRINTFORML 要变更映姫大人的慎重程度么？
	CALL ASK_M("选择变更",1 , "暂时保留" ,1 , "不再改变",1)
	SELECTCASE RESULT
		CASE 0
			CALL K30_SELECT_TYPE
			GOTO K30_GUARD_CHECK
		CASE 1
			PRINTFORMW 引继UPDATE時会再次出现选择项
		CASE 2
			CLEARBIT CFLAG:30:1803, 0
			PRINTFORMW 选择完毕
	ENDSELECT
ENDIF
PRINTFORML 
IF !GETBIT(CFLAG:30:1803, 6)
	SETBIT CFLAG:30:1803, 6
	IF !CFLAG:30:差し替え適用 && SPRITECREATED("30_bodyparts_00")
		PRINTFORML 将映姫様的颜绘切换为口上推荐的另一种
		PRINTFORML 如果有问题的话，请从[表示設定]OFF[差分]
		PRINTFORML 
		CFLAG:30:差し替え適用 = 1
	ENDIF
ENDIF
R_TEMP = CURRENTREDRAW()
REDRAW 0
PRINTL 映姫様口上専用画像表示オプション
PRINTL 
DO
	TEMP = LINECOUNT
	CALL PRINTBUTTON_EX, @"[0] - 口交动画　　%\@ GETBIT(CFLAG:30:1500, 0) ? 有 # 没有 \@%　※有描画负担", 0, 0, GETBIT(CFLAG:30:1500, 0)
	PRINTL
	CALL PRINTBUTTON_EX, @"[1] - 臀部图像　　　%\@ GETBIT(CFLAG:30:1500, 1) ? 有 # 没有 \@%　※有若干选择表现", 1, 0, GETBIT(CFLAG:30:1500, 1)
	PRINTL
	CALL PRINTBUTTON_EX, @"[2] - 眨眼动画　%\@ GETBIT(CFLAG:30:1500, 2) ? 有 # 没有 \@%　※実験要素-描画负担高  优化真的差  卡顿真的大", 2, 0, GETBIT(CFLAG:30:1500, 2)
	PRINTFORML \n
	PRINTL [9] - 決定
	INPUT
	SELECTCASE RESULT
		CASE 0 TO 2
			INVERTBIT CFLAG:30:1500, RESULT
		CASE 9
			REDRAW R_TEMP
			BREAK
	ENDSELECT
	CLEARLINE LINECOUNT - TEMP
LOOP 1

IF !GETBIT(CFLAG:30:1803, 7)
	SETBIT CFLAG:30:1803, 7
	TALENT:30:痛覚 = -1
	PRINTFORML 
	CALL COLORMESSAGE, "根据口上内容赋予映姬素质[不怕痛]", C_YELLOW, 1, 0
ENDIF

IF !GETBIT(CFLAG:30:1803, 8)
	SETBIT CFLAG:30:1803, 8
	CFLAG:30:1501 = 0x337D5C
	PRINTFORML 
	CALL M_KOJO_COLOR_K30
	LOCAL = 0x337D5C, 0x52C487, 0x7FD8A7, GETDEFCOLOR(), 0xFF93FB
	SIF !CFLAG:30:面識
		PRINTFORML 「那边的，那边的阁下…很突然，非常抱歉。吾名四季映姬·夜摩仙那度」
	PRINTFORML 「近来听闻了我的说教变得很长，又晦涩难懂」
	PRINTFORML 「说教变长是因为听众平时的行为不端，不过…」
	PRINTFORML 「但闻而不知其意应该是我的过失吧」
	PRINTFORML 「……阁下觉得用什么样的讲话方式更易于教诲大家呢?？」
	PRINTFORMDL 
	PRINTL [0] - 以低沉稳定的声音
	SETCOLOR LOCAL:1
	PRINTL [1] - 毫不在意地用普通的声音
	SETCOLOR LOCAL:2
	PRINTL [2] - 稍微高亢的声音
	RESETCOLOR
	PRINTL [3] - 没个性的
	SETCOLOR LOCAL:4
	PRINTL [4] - 请用下流H的声音
	RESETCOLOR
	DO
	INPUT
	SIF INRANGE(RESULT, 0, 4)
		BREAK
	CLEARLINE 1
	LOOP 1
	CFLAG:30:1501 = LOCAL:RESULT
	CALL M_KOJO_COLOR_K30
	SELECTCASE RESULT
		CASE 0, 1
			PRINTFORML 「我明白了。谢谢您的协助」
		CASE 2
			PRINTFORML 「这个…有点不习惯呢」
			PRINTFORML 「但是加油吧。谢谢您的帮助」
		CASE 3
			PRINTFORML 「我的声音…有那么难听吗…？」
			PRINTFORML 「欸~哆、谢谢您的指正」
		CASE 4
			PRINTFORML 「欸…？这样的声音…呃？」
			PRINTFORML 「………当真？」
	ENDSELECT
	RESETCOLOR
	PRINTFORML
	PRINTFORMW ※您可以从商店菜单中更改口上颜色。
ENDIF

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"ENCOUNTER"系イベント（エクストラ構文）
;※※※※※※※※※※※※※※※※※※※※※※※※※※
@M_KOJO_ENCOUNTER_K30
;初対面、挨拶のタイミング
;TALENTの変更はここでどうぞ
CALL K30_SELECT_TYPE
SIF K30_CHECK_HEN_T()
	CALLF FIRSTTIME("変Ｔお披露目")
;BIT 0と3を同時にON
CFLAG:30:1803 = 9
;日記フラグ
CALL K30_WRITE_DIARY(50, 1)
CFLAG:30:1901 = 拠点_家主
CALLF ONCE("初対面")
CALL M_KOJO_COLOR_K30
;白玉楼か是非曲直庁に部屋持ち
IF MAIN_MAP == 6 && 拠点_家主 != 26
	;変ＴVer.-冥界住まいで4日間映姫様を避け继続。たぶん死に分岐
	IF K30_CHECK_HEN_T()
		CFLAG:30:1900 = 4
		PRINTFORMW 「欸~……！？」
		PRINTFORMDL 顺着声音的方向回头一看，站着一个打扮怪异的少女。
		PRINTFORMDL 戴着的帽子有设计的很高，可以看出帽主的地位不低
		PRINTFORMDW 另一方面服装是随意的黑色露肩衬衫和三原色系的迷你裙，没有比这更夸张的了
		IF CFLAG:113:面識
			PRINTFORMDW 和地狱女神一样的衣服是因为惩罚游戏还是什么而被穿上的呢…
		ELSE
			PRINTFORMD 衬衫上印有大大的「welcome
			CALL COLORMESSAGE("♥", C_RED, 0, 0)
			PRINTFORMDL  Hell」字样的装饰图案
			PRINTFORMDW ……这种装扮、是在策划什么奇怪的化装欢迎派对吗?
		ENDIF
		;わざわざ呼び名を聞くのは、女の子っぽい名前がいやでブタゴリラって呼ばせてる人も居るし…という映姫様の配慮
		PRINTFORML
		PRINTFORML 「……难道你是%NAME:MASTER%先生吗…？」
		PRINTFORMW 「私自搬到冥界的人，一直找不到，没想到是生者…」
		PRINTFORML 「吾名四季映姬·夜摩仙那度，担任幻想乡的阎魔…」
		PRINTFORMW 「我该怎么称呼你呢」
		CALL K30_SET_C_NAME(0)
		PRINTFORMW 「明白了」
		PRINTFORMW 「………………」
		PRINTFORMW 「我想确认的事，你也有疑问的事…似乎都有很多…」
		PRINTFORMW 「一切改天再说吧，可以吧…」
		PRINTFORMW 「那么……」
	;通常
	ELSE
		CFLAG:30:1900 = 1
		PRINTFORMW 「……这是出了什么差错？为什么生者会在彼岸？」
		PRINTFORMDL 向声音的方向回头一看，在那里站着一个严厉地注视着你的少女
		PRINTFORMW 「让我们确认一下。%NAME:MASTER%没错吧？」
		PRINTFORMW 「暂且怎样称呼你好呢」
		CALL K30_SET_C_NAME(0)
		PRINTFORM 「吾名四季映姬·夜摩仙那度。
		SELECTCASE CFLAG:MASTER:現在位置
			CASE 610 TO 619
				PRINTFORMW 作为阎魔,是这里的掌管者」
			CASE 604
				PRINTFORMW 于那栋大厅就任阎魔一职」
			CASE 620 TO 629
				PRINTFORMW 在是非曲直厅担任阎魔」
			CASEELSE
				PRINTFORMW 担任幻想乡的阎魔」
		ENDSELECT
		PRINTFORML 「……“彼岸”是幽世之领域,纵使为妖怪,亦难飞渡三途川」
		PRINTFORMW 「竟那样的安然居住于此，我不认为阁下是普通人类。」
		PRINTFORMW 「所以阁下到底是何许人也？有隐瞒了什么吗？」
		PRINTFORMDL 说到这里，映姬惊讶地盯着%CALLNAME:MASTER%
		PRINTFORMDW 虽然外表看起来是个惹人怜爱的少女,但毕竟有着阎魔的名号,从她身上散发出的威严和重压还真是不一般……
	ENDIF
ELSE
	;此岸住まいで彼岸で対面
	IF (MAIN_MAP != 6 && INRANGE(CFLAG:MASTER:現在位置, 640, 699)) || (MAIN_MAP == 6 && (INRANGE(CFLAG:MASTER:現在位置, 610, 629) || INRANGE(CFLAG:MASTER:現在位置, 640, 699)))
		;変Ｔ
		IF K30_CHECK_HEN_T()
			CFLAG:30:1900 = 5
			PRINTFORMW 「是谁……！？」
			PRINTFORMDL 顺着声音的方向回头一看，那里站着一个打扮怪异的少女。
			PRINTFORMDL 戴着的帽子有设计的很高，可以看出帽主的地位不低
			PRINTFORMDW 另一方面服装是随意的黑色露肩衬衫和三原色系的迷你裙，没有比这更夸张的了
			IF CFLAG:113:面識
				PRINTFORMDW 和地狱女神一样的衣服是因为惩罚游戏还是什么而被穿上的呢…
			ELSE
				PRINTFORMD 衬衫上印有大大的「welcome
				CALL COLORMESSAGE("♥", C_RED, 0, 0)
				PRINTFORMDL  Hell」字样的装饰图案
				PRINTFORMDW …看来冥界是比想象中门槛低的地方
			ENDIF
			PRINTFORML 
			PRINTFORML 「生者因何在此…？居然行走无妨？」
			PRINTFORML 「莫非阁下是传说中的外来人……」
			PRINTFORMW 「嗯，姓名是…」
		;通常
		ELSE
			CFLAG:30:1900 = 2
			PRINTFORMW 「请稍等。阁下是从何处误入的？」
			PRINTFORMDL 回头朝着严厉质问自己的声音看去
			PRINTFORMDL 一位顶着大大的高帽威严满满的少女站在那里
			PRINTFORML 「此非生者可以踏足之处」
			PRINTFORMW 「居然能若无其事地闯进此处绝地」
			PRINTFORML 「阁下…似是外来人吧」
			PRINTFORMW 「总之先告知阁下的大名吧」
		ENDIF
	;一般的な遭遇
	ELSE
		;変Ｔ
		IF K30_CHECK_HEN_T()
			CFLAG:30:1900 = 6
			PRINTFORMDW %CALLNAME:MASTER%发现了一个打扮得很奇怪的少女
			PRINTFORMDL 戴着的帽子有设计的很高，可以看出帽主的地位不低
			PRINTFORMDL 另一方面服装是随意的黑色露肩衬衫和三原色系的迷你裙，没有比这更夸张的了
			IF CFLAG:113:面識
				PRINTFORMDW 和地狱女神一样的衣服是因为惩罚游戏还是什么而被穿上的呢…
			ELSE
				PRINTFORMD 衬衫上印有大大的「welcome
				CALL COLORMESSAGE("♥", C_RED, 0, 0)
				PRINTFORMDL  Hell」字样的装饰图案
				PRINTFORMDW 即使保守地说，也充满了无法模仿的个性品味…
			ENDIF
			PRINTFORMDW 被一直在意别人目光的少女所吸引，%CALLNAME:MASTER%试着打招呼
			PRINTFORML 
			PRINTFORMW 「呀！？」
			PRINTFORML 「初，初次见面。%K30_GREETING_EIKI()%…」
			PRINTFORML 「…莫非阁下，是传说中的外来人？」
			PRINTFORMW 「嗯，姓名是…」
		;通常
		ELSE
			CFLAG:30:1900 = 3
			PRINTFORMW 「%K30_GREETING_EIKI()%」
			PRINTFORMDL 一位站得笔直、连周围的空气都显得严肃沉稳的少女向%CALLNAME:MASTER%打招呼
			PRINTFORMW 「初次见面。阁下是最近来这里的人吗？」
			PRINTFORML 「因为听说有奇怪的外来人来了,所以想稍微来确认一下。」
			PRINTFORMW 「能告诉我你的名字吗？」
		ENDIF
	ENDIF
	CALL K30_SET_C_NAME(0)
	IF K30_CHECK_HEN_T()
		PRINTFORML 「我的名字是四季映姬·夜摩仙那度。担任幻想乡的阎魔…」
		PRINTFORMW 「………………」
		PRINTFORML 「……我知道你会有很多疑问」
		PRINTFORMW 「但是，那是日后的事…可以吗」
		PRINTFORMW 「失礼了…」
	ELSE
		PRINTFORMW 「我的名字是四季映姬·夜摩仙那度。是裁决阁下逝后一切的存在」
		PRINTFORMW 「阎魔大人，你知道吧？我是幻想乡的阎魔」
		PRINTFORMW 「阁下,是否罪孽深重，今日所做的一切又是否有违德行呢？」
		PRINTFORMDL 说到这里，映姬怀疑地盯着%CALLNAME:MASTER%
		PRINTFORMDW 这是……暴露了吗？
	ENDIF
ENDIF
IF K30_CHECK_HEN_T()
	PRINTFORML 
	PRINTFORMDL 单方面的谈话被打断了
	PRINTFORMDL 和传说中的幻想乡的阎魔印象大不相同，令人困惑。
	PRINTFORMDW 映姬虽然很在意别人的目光，但还站在那里，那该怎么办呢…
ELSE
	PRINTFORML 
	PRINTFORMW 「…先把那个放在一边吧。毕竟很快就会知晓的」
	PRINTFORML 「无论人或妖，吾都在到处宣讲说教，让其死后罪孽减轻。」
	PRINTFORMW 「引导在俗世中迷失方向的人也是阎魔的本分」
	PRINTFORMW 「你也要谨遵吾的教诲,积德而行」
	PRINTFORMW 「明白了么？」
ENDIF
RESETCOLOR
RETURN 1
@K30_SELECT_TYPE
DO
PRINTFORML 
PRINTFORMDL 你印象中的映姫様…
PRINTL [0]和其他幻想乡少女一样
PRINTL [1]era的认真映姬殿下
PRINTL [2]有何不同？
INPUT
SELECTCASE RESULT
	CASE 0, 1
		CFLAG:30:1801 = RESULT
		RETURN 1
	CASE 2
		PRINTFORMDL 「殿下」是映姬大人有陷落素质之前,将破瓜和推倒都封印
		PRINTFORMDL 「一样」和导入口上前的状态是一样的。部分台词产生矛盾，请谅解
		PRINTFORMDL 因为不进行素质的变更，所以通常攻略难易度应该不会有太大的变化
		SIF !GETBIT(CFLAG:30:1803, 0)
			PRINTFORMDL 在UPDATE时会再次出现变更选项。所以随便选也没关系。
		PRINTFORMDL 加深关系后再变更的话标志处理会变得奇怪。[思慕]在取得之前建议固定
ENDSELECT
LOOP 1
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"SP_EVENT"系イベント
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;==================================================
;约会帰りにファーストKISS（合意も付く）
;==================================================
;==================================================
;Optional: Determines if the standard description should be skipped.
;Return 0 if description and KOJO should be shown, 1 if description should be hidden and KOJO shown, 2 if description should be shown and KOJO hidden, and 3 if both description and KOJO should be hidden.
;==================================================
@M_KOJO_SPEVENT_MESSAGECHECK_K30_1
SIF TCVAR:30:中止接吻
	RETURN 1
RETURN 0

@M_KOJO_SPEVENT_K30_1(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
;地の文
IF !TCVAR:30:中止接吻
	PRINTFORMW 「%K30_C_NAME(MASTER)%。我有几句话要跟你说」
	PRINTFORMW 「……这是在做什么防备?呃?你以为是在说教吗?」
	PRINTFORMW 「你把我当成了一个整天说教的妖怪吗？」
	PRINTFORMW 「我在你们接受死后裁决之前」
	PRINTFORMW 「帮助你们减轻自身的罪责而已」
	PRINTFORMW 「说起来阁下……听好了哦，所谓的罪责………哈啊咳咳」
	PRINTFORMW 「………咳哼」
	PRINTFORMW 「………那个,以前有人说过」
	PRINTFORMW 「我是不会被任何人所迷惑的存在，所以才能判决他人」
	PRINTFORMW 「不论是人类还是妖怪,都是为了让他们积德行善而说教,并与之保持距离的存在」
	PRINTFORMW 「但是你知道么,最近有个破坏了这种距离的家伙来到了幻想乡」
	PRINTFORMW 「是个…和众人所疏远的阎魔，也想搞好关系的怪人」
	PRINTFORMW 「%K30_C_NAME(MASTER)%，今后也请好好交往」
	PRINTFORMW 「还有,作为表示我亲近象征的赠物」
	PRINTFORMW 「请收下吧♥」
	PRINTFORMW ……呼呼
	SETBIT CFLAG:30:1910, 6
	SIF CFLAG:1801 == 1
		CFLAG:1602 = 4
ELSEIF FIRSTTIME("中止接吻")
	PRINTFORMDL ...在回家的路上,走在旁边的映姬突然停下脚步,
    PRINTFORMDL 对%CALLNAME:MASTER%喃喃自语道...
    PRINTFORMW 
    PRINTFORML 「和阎魔一起出去玩,%K30_C_NAME(MASTER)%你还真是个怪人啊...」
    PRINTFORML 「你陪着我,难道只是出于兴趣或者一时兴起吗?」
    PRINTFORMW 「又或者,该不会是...」
    PRINTFORML (...不,你心里已经有了决定的那个人吧)
    PRINTFORML (我这样打扰你,是不被允许的吧)
    PRINTFORMDW 映姬的声音越来越低,后来听不见了
ENDIF
RETURN 1

@M_KOJO_SPEVENT_MESSAGECHECK_K30_2
CALL K30_PULL_OUT_VIBE
RESETCOLOR
PRINTFORML
RETURN 0
;==================================================
;约会帰りに告白（恋人が付く）
;==================================================
@M_KOJO_SPEVENT_K30_2(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;告白内容
	;この告白内容表示後に接受かどうかの選択分が表示されます
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		IF FIRSTTIME("初告白")
			PRINTFORMW 「………我有些话想跟你说…」
			PRINTFORMW 
			PRINTFORMW 「吶，%K30_C_NAME(MASTER)%…」
			PRINTFORMW 「或许也已经察觉到了」
			PRINTFORMW 「我喜欢你」
			PRINTFORMW 「不…是我爱着你，虽然知道人类和阎魔是无法缔结的关系」
			PRINTFORMW 「但我…已经没法再这样一个人走下去了」
			PRINTFORMW 「能请你今后只看着我一人好么？」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;告白オッケー（恋人が付く）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORMW 「…谢谢，%K30_C_NAME(MASTER)%」
		PRINTFORMDW 映姬的眼瞳中渗出了喜悦的泪水
		PRINTFORMW 「还一直想着如果被拒绝了该怎么办…」
		PRINTFORMW 「终于把这份想法传达给你了,太好了,真是…太好了」
		PRINTFORMW 「………………………………」
		PRINTFORMW 「……真的，非常感谢」
		PRINTFORMW 「%K30_C_NAME(MASTER)%，最喜欢你了」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;告白失敗
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF FIRSTTIME("告白失敗")
			PRINTFORML 「也,也是呢……」
			PRINTFORMW 「人神相交……确实不可能呢……人间五十年，刹那芳华」
			PRINTFORMW 「%K30_C_NAME(MASTER)%……，对不起对不起真是对不起……」
			PRINTFORMW 「让你听了奇怪的…东西呢（哽咽）」
			RETURN 1
		ENDIF
	ENDIF
ENDIF
RESETCOLOR
RETURN 1

;==================================================
;约会帰り
;==================================================
@M_KOJO_SPEVENT_K30_3(ARG,ARG:1)
;口上主はTARGET
;地の文表示
RESETCOLOR
CALL M_KOJO_COLOR_K30
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;通常帰宅
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		IF K30_CHECK_HEN_T()
			IF TCVAR:30:358 == 0
				PRINTFORMW 「在这种日子里带着我到处走，你真的是个坏心眼的人…」
			ELSE
				PRINTFORMW 「今天非常感谢…」
			ENDIF
		ELSEIF GETBIT(CFLAG:1609, 1)
			CALL K30_PULL_OUT_VIBE
			PRINTFORMW 「今天…你陪我到最后，真的感激不尽」
			PRINTFORML 「那个……下次也可以拜托你吧？」
			IF CFLAG:1608 > 2 
				PRINTFORMW 「那种感觉…我好像已经上瘾了…♥」
			ELSE
				PRINTFORML 「虽然很害羞……但是心跳加速，小鹿乱撞…」
				PRINTFORMW 「总觉得忘不了…♥」
			ENDIF
		ELSEIF TALENT:恋人
			PRINTFORML 「\@ TCVAR:30:358 ? 人类居然将阎魔带出去 # 阎魔居然陪人类 \@约会什么的」
			PRINTFORMW 「呵呵,周围的人是怎么看的呢」
			PRINTFORMW 「谢谢。非常开心呢」
		ELSEIF TALENT:恋慕
			PRINTFORMW 「今天就在这里告别吧…」
			PRINTFORMW 「很开心呢。以后有机会的话再\@ TCVAR:30:358 ? 陪陪我吧 # 邀请我吧 \@」
		ELSE
			PRINTFORMW 「谢谢你今天的\@ TCVAR:30:358 ? 约会 # 邀请 \@」
			PRINTFORMW 「如果还有机会的话就再麻烦你了」
		ENDIF
		TCVAR:30:358 = 0
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;反発刻印消去イベント
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORMW 「……今后请好好地积德行善」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;反発刻印2>1レベルダウンイベント
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML （他要是以为所做的恶行全部都被原谅了的话,我会很困扰的…）
		PRINTFORMW 「…就稍微认同你一点吧」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;反発刻印3>2レベルダウンイベント
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML （判罪者也得有所不失宽容…）
		PRINTFORMW 「…就多少听你几句狡辩吧」
		RETURN 1
	ENDIF
	PRINTFORML
ENDIF
RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"EVENT"系イベント
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;==================================================
;部屋で遭遇
;==================================================
@M_KOJO_EVENT_K30_1(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;PRINTFORMW 「部屋で遭遇」きてる ARGは{ARG}
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;MASTERが入ってきた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF TCVAR:30:373 && (ONCE("同棲挨拶") || (TIME - TCVAR:30:363 <= 5) || TIME - TIME:3 <= 5) || TFLAG:192 == 10
		ELSEIF 仕事中チェック(30) && GET_JOBNAME(30) == "裁判"
			PRINTFORMDL 映姫正\@ K30_CHECK_HEN_T() ? 穿着奇怪的T恤 # \@专注于审判…
		ELSEIF K30_CHECK_HEN_T()
			IF TALENT:心情 > -1
				SELECTCASE RAND:3
					CASE 0
						PRINTFORML 「……！！」
						PRINTFORML 「啊、 %K30_C_NAME(MASTER)%…」
						PRINTFORML 「………」
					CASE 1
						PRINTFORML 「……我知道你想说什、么」
						PRINTFORML 「今天、什么都、什么都请不要问…」
					CASE 2
						PRINTFORML 「…………！？」
						PRINTFORML 「%K30_C_NAME(MASTER)%、你什么时候在这里的…」
						PRINTFORMDL 今天的映姬根本不想谈说教…
				ENDSELECT
			ENDIF
		ELSEIF TALENT:心情 == -1
		ELSEIF ((TALENT:恋慕 && K30_BE_SEEN() == 0) || TALENT:接吻魔) && RAND:(20 - TALENT:接吻魔 * 10) == 1 && (CFLAG:1602 == 1 || CFLAG:1801 == 0) 
			PRINTFORML 「啊,%K30_C_NAME(MASTER)%…难道说是来找我的么？」
			PRINTFORML 「那么这是给你找到我的礼物………啾♥」
			PRINTFORMDL 映姫亲了上来…
		ELSEIF TALENT:恋慕
			PRINTFORMDL 映姫和%CALLNAME:MASTER%会面后露出很%TEXTR("满足/开心/幸福")%的表情
		ELSE
			PRINTFORMDL 映姫注意到%CALLNAME:MASTER%，并点头致意
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGETが入ってきた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF TFLAG:192 == 10
		ELSEIF K30_CHECK_HEN_T()
			IF TALENT:心情 > -1
				SELECTCASE RAND:3
					CASE 0
						PRINTFORML 「……！！」
						PRINTFORML 「啊，%K30_C_NAME(MASTER)%…」
						PRINTFORML 「………」
					CASE 1
						PRINTFORML 「……我知道你想说什、么」
						PRINTFORML 「今天、什么都、什么都请不要问…」
					CASE 2
						PRINTFORML 「…………！？」
						PRINTFORML 「%K30_C_NAME(MASTER)%、你什么时候在这里的…」
						PRINTFORMDL 今天的映姬根本不想谈说教…
				ENDSELECT
			ENDIF
		ELSEIF TALENT:心情 == -1
		ELSEIF ((TALENT:恋慕 && K30_BE_SEEN() == 0) || TALENT:接吻魔) && RAND:(20 - TALENT:接吻魔 * 10) == 1 && (CFLAG:1602 == 1 || CFLAG:1801 == 0)
			PRINTFORML 「啊,%K30_C_NAME(MASTER)%…难道说是来找我的么？」
			PRINTFORML 「对不起，我很抱歉。 这是对搅扰了的歉意………啾♥」
			PRINTFORMDL 映姫亲了上来…
		ELSEIF TALENT:恋慕
			PRINTFORMDL 映姫看到%CALLNAME:MASTER%后露出很%TEXTR("满足/开心/幸福")%的表情
		ELSE
			PRINTFORMDL 映姫注意到%CALLNAME:MASTER%，并点头致意
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGETが風呂に入ってきて一緒に入る
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML 「欸？　%K30_C_NAME(MASTER)%！？」
		PRINTFORMW 「……………………」
		PRINTFORMW 「……不介意的话,一起进去吧……？」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGETが風呂に入ってきて出て行った
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML 「欸？　%K30_C_NAME(MASTER)%！？」
		PRINTFORMW 「……………………！！」
		PRINTFORMW 「对,对对不起！」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGETが風呂に入ってきて追い出された
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
	;好吃理由が思い浮かばないから捏造
		IF TALENT:恋慕
			PRINTFORML 「%K30_C_NAME(MASTER)%！？　这个时间是女性专用的……」
			PRINTFORMW 「在被别人发现前请尽可能悄悄的出去」
		ELSE
			PRINTFORML 「我说你,这个时间段是女性专用啊！」
			PRINTFORMW 「请赶紧出去！」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;外出先で遭遇した
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		IF TFLAG:192 == 10 
			TFLAG:192 = 0
		ELSEIF 仕事中チェック(30) && GET_JOBNAME(30) == "裁判"
			PRINTFORMDL 映姫正\@ K30_CHECK_HEN_T() ? 穿着奇怪的T恤 # \@专注于审判…
		ELSEIF K30_CHECK_HEN_T()
			IF TALENT:心情 > -1
				SELECTCASE RAND:3
					CASE 0
						PRINTFORML 「……！！」
						PRINTFORML 「啊、 %K30_C_NAME(MASTER)%…」
						PRINTFORML 「………」
					CASE 1
						PRINTFORML 「……我知道你想说什、么」
						PRINTFORML 「今天、什么都、什么都请不要问…」
					CASE 2
						PRINTFORML 「…………！？」
						PRINTFORML 「%K30_C_NAME(MASTER)%、你什么时候在这里的…」
						PRINTFORMDL 今天的映姬根本不想谈说教…
				ENDSELECT
			ENDIF
		ELSEIF K30_FIND_AROUND() == 76 && RAND:2 == 1 && !CFLAG:30:同行 && !CFLAG:76:同行 && !仕事中チェック(30)
			PRINTDATADL
				DATAFORM 映姬在对小町说教着什么……
				DATAFORM 映姬正在训斥小町……
				DATAFORM 映姬似乎在对小町说着很难懂的长篇大论……
			ENDDATA
		ELSEIF TALENT:心情 == -1
		ELSEIF TALENT:恋慕
			PRINTFORMDL 映姫看到%CALLNAME:MASTER%后露出很%TEXTR("满足/开心/幸福")%的表情
		ELSE
			PRINTFORMDL 映姫注意到%CALLNAME:MASTER%，并点头致意
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;他角色と约会中に遭遇した
	;ARG:1に约会的对象
	;小町口上でやり合う映姫様が良かったので影響を受けて書き直し
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		IF ARG:1 == 76 && YOUBI_MATCH(DAY, "月水金") && INRANGE(TIME / 60, 11, 15) && ((CFLAG:[[小町]]:現在位置 != 三途之川 && MAIN_MAP != 6) || (CFLAG:[[小町]]:現在位置 != 602 && MAIN_MAP == 6))
			PRINTFORMDW 映姬面无表情地朝这边走过来…
			PRINTFORML 「小町，我交托你的工作应该不仅仅是渡口看守…」
			PRINTFORML 「是这様吗，晃晃悠悠的旷工，和\@ TALENT:30:恋人 ? 『我的』 # \@%K30_C_NAME(MASTER)%一起出门吗」
			PRINTFORMW 
			PRINTFORML 「――不、『现在』没什么关系、请尽情享受吧」
			PRINTFORMW 「小町、之后会换个地方『谈话』的，请给我记住」
			PRINTFORMW 「也有想问%K30_C_NAME(MASTER)%的『事』！」
		ELSEIF TALENT:恋人 
			PRINTFORMDW 映姬踏着步接近……
			IF ARG:1 == 76 || ARG == 129
				PRINTFORML 「%K30_C_NAME(ARG:1)%，作为上司，部下走错了路不能坐视不管」
			ELSEIF ARG:1 ==113
				PRINTFORML 「即使是赫卡提亚大人，也不能让步」
			ELSE
				PRINTFORML 「%K30_C_NAME(ARG:1)%，作为阎魔，我不能对你的罪行视而不见。」
			ENDIF
			PRINTFORMW 「确实，我承认%K30_C_NAME(MASTER)%很有魅力，和他交往很有趣」
			PRINTFORMW 「但是%K30_C_NAME(MASTER)%和我已经交换了思念。\@ ARG:1 ==113 ? 请你给我放手 # 给我撒手 \@吧」
			IF ARG:1 == 76
				PRINTFORML 
				PRINTFORML 「还有小町，你要记住」
				PRINTFORMDW 映姫紧紧抱住%CALLNAME:MASTER%的胳膊并用柔软欧派挤压着…
				PRINTFORMW 「%K30_C_NAME(MASTER)%比起大的，更喜欢可爱的一边…」
			ENDIF
			SIF TALENT:(ARG:1):恋慕
				PRINTFORMDW …一时间、%CALLNAME:MASTER%冒着冷汗体验『左拥右抱』…
		ELSEIF TALENT:恋慕
			IF ARG:1 == 76 && !TALENT:76:恋人
				PRINTFORMDL 注意到这边的映姬向小町打了照面…
				PRINTFORMW 「你这么聪明，应该也注意到了我的想法吧…」
				PRINTFORML 「只是吾作为阎魔殿下，必须注意光明正大。」
				PRINTFORMW 「所以小町，请放心。在这件事上你我是对等竞争的」
				IF TALENT:76:恋慕
					PRINTFORML 
					PRINTFORMW 「所以，想问一下%K30_C_NAME(MASTER)%…」
					PRINTFORMDL 映姫紧紧抱住%CALLNAME:MASTER%的胳膊并用柔软欧派挤压着
					PRINTFORMW 「无・用・的赘肉、和可爱的玲珑。您更喜欢哪一边呢…」
					PRINTFORMDW …冷汗直冒的%CALLNAME:MASTER%几乎立刻想时停后逃走，但总算还是敷衍过去修罗场了
				ENDIF
			ELSE
				PRINTFORMW 「……%K30_GREETING_EIKI()%、%K30_C_NAME(MASTER)%、%K30_C_NAME(ARG:1)%」
				PRINTFORMDW 映姬向两人打招呼后匆匆离去
				SIF TALENT:(ARG:1):恋人
					PRINTFORMW （%K30_C_NAME(MASTER)%、%K30_C_NAME(ARG:1)%。非常适合你呢…）
			ENDIF
		ELSE
			PRINTFORMDW 映姫非常体贴的只是注目两人而已
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;一日最初の挨拶
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && GROUPMATCH(ARG, 8, 9)
		;おはよう口上から連続
		IF TFLAG:192 == 10
			IF TCVAR:30:373 == 1 || TCVAR:30:363 != 0
				;非同棲時に部屋乱入は無言
				IF CFLAG:1605 == 0
				;不高興or変Ｔ
				ELSEIF YOUBI_MATCH(DAY, "金") || FLAG:ファッション == 62
					PRINTFORMDL ……现在就别管了
				;不高興
				ELSEIF TALENT:心情 == -1 
					PRINTFORMDL ……现在跟她说话，好像要挨训似的
				ELSE
					;普通に挨拶した
					IF TCVAR:30:363 == 0
						;一晩限り
						IF FLAG:一時滞在 == 30 || TCVAR:30:连住禁止
							LOCAL = 1
							WAIT
							PRINTFORML 「%K30_C_NAME(MASTER)%，昨天谢谢你\@ TCVAR:30:连住禁止 ? 留宿我这 # 让我留宿 \@呢」
							PRINTFORMW 「稍等一下哦。我想送个礼物…」
						;同棲中
						ELSE
							LOCAL = 0
							PRINTFORMW 「………………」
							PRINTDATAL
								DATAFORM 「……%K30_C_NAME(MASTER)%、能注意到真是太好了」
								DATAFORM 「……哎，是啊…%K30_C_NAME(MASTER)%。还没结束呢」
								DATAFORM 「……太好了。%K30_C_NAME(MASTER)%想起来了…松了一口气」
							ENDDATA
							PRINTFORMW 「早上的问候…可谓%TEXTR("首要/要紧/很重要/关键")%之事、%TEXTR("还没结束/掉了/忘记了/")%哦」
						ENDIF
						PRINTFORML 「………啾♥」
						PRINTDATAD
							DATAFORM 映姬在%CALLNAME:MASTER%的嘴唇上
							DATAFORM 映姫用手抚着%CALLNAME:MASTER%的脸颊
							DATAFORM 映姫撒娇似地拥抱着
						ENDDATA
						PRINTFORMDW 给了我一个早安的吻
						IF LOCAL && RAND:5 < 3
							PRINTDATAL
								DATAFORM 「因为你一离开视线就会马上消失…」
								DATAFORM 「虽然不能一直在一起…」
							ENDDATA
							PRINTFORMW 「这样的话，在别的房间的时候也能忍耐…♥」
						ELSE
							PRINTDATAW
								DATAFORM 「嗯……今天一天这样也能努力呢♥」
								DATAFORM 「呵呵……这样就醒了吗♥」
								DATAFORM 「…让喜欢的人高兴。因为这也是很好的善行♥」
							ENDDATA
						ENDIF
					;朝から致した
					ELSE
						PRINTFORML 「……怎么了？我……还有些准备……没做完」
						PRINTFORMDL 从早上开始就弄脏了很多，映姬的打扮看起来很辛苦…
					ENDIF
					CFLAG:1605 = 0
				ENDIF
			ENDIF
			RETURN
		ELSEIF FLAG:70 || CFLAG:睡眠 || STRFIND(CSTR:30:1, "おはよう/") > -1
			TFLAG:192 = 10
			RETURN
		ENDIF
		CALLF ONCE("おはよう")
		;流行热潮の日記フラグ
		SIF DIARY:30:7 == 0 && FLAG:ファッション == 62
			CALL K30_WRITE_DIARY(7)
		;ここで心情不快なら「朝から虫の居所が悪い」反発刻印なければMASTERのせいじゃない
		SIF TALENT:心情 == -1 && MARK:反発刻印 == 0
			TCVAR:30:372 = 1
		TFLAG:192 = 10
		;変なＴ恤衬衫
		IF K30_CHECK_HEN_T()
			IF YOUBI_MATCH(DAY, "金")
				IF FIRSTTIME("変Ｔお披露目")
					PRINTFORMDW …%CALLNAME:MASTER%一时认不出那个少女是谁
					PRINTFORMDL 被大胆的露肩T恤和新奇颜色的裙子吓到了
					PRINTFORMDW 通过她那顶标志性的帽子才注意到。……是映姬
					PRINTFORMDW 可为什么阎魔大人会穿成这个样子
					IF TALENT:心情 > -1
						PRINTFORMDW 注意到%CALLNAME:MASTER%的映姬用看向远方的目光告诉了他理由
					ELSE
						PRINTFORMDW 注意到%CALLNAME:MASTER%，映姬愤懑地开始说
					ENDIF
					PRINTFORML 「……据说赫卡提亚大人在参观外面的世界时，发现了一个令人在意的制度。」
					PRINTFORMW 「说是什么『休闲星期五』、穿着休闲的服装工作的话，效率会提高…」
					PRINTFORML 「所以很快就被引进了。正如您所看到的，赫卡提亚大人独有的休闲T恤。」
					PRINTFORMW 「而这就是以后每周五的阎魔审判长制服……」
					IF TALENT:心情 > -1
						PRINTFORMDW 映姬眼神空洞，无力地笑着。……
					ELSE
						PRINTFORML 「……不管什么样的规则，已经决定的事情都要遵守。那也是…我的职责。」
						PRINTFORMDW 映姬脸上浮现出各种感情交织在一起的苦闷表情……
					ENDIF
				ELSEIF 仕事中チェック(30) && GET_JOBNAME(30) == "裁判"
					PRINTDATADL
						DATAFORM 今天是金曜日、是非曲直厅的休闲日
						DATAFORM 映姬穿着那件T恤衫正在进行审判
						DATAFORM 在庄严的法庭上，映姬打扮得格外显眼。
					ENDDATA
					PRINTDATAL
						DATAFORM 「…狡言饰非。妄图蒙骗阎魔的法眼？　……」
						DATAFORM 「…嗯，是的。尔生前如此恶行……」
						DATAFORM 「…事到如今再后悔已然为时已晚。甚为可惜，汝……」
						DATAFORM 「…隐藏也没用。汝之行径都在这面镜子里……」
						DATAFORM 「…很遗憾，这不能说是善行。倒不如说……」
						DATAFORM 「…吓得说不出话来。事到如今还不醒悟吗……」
						DATAFORM 「…其他人也做过吗？即使如此，这一恶行的责任全在于汝……」
					ENDDATA
					PRINTFORMDL 映姫带着\@ TALENT:心情 == -1 ? 愤怒 # 死掉的眼睛 \@正在对死者说教
				ELSE
					IF TALENT:心情 > -1
						SELECTCASE RAND:3
							CASE 0
								PRINTFORMDL 今天是金曜日，是非曲直庁的休闲星期五
								PRINTFORML 「%K30_GREETING_EIKI()%、%K30_C_NAME(MASTER)%…」
								PRINTFORMDW 虽然服装很休闲，但映姬的心情却很糟糕
							CASE 1
								PRINTFORMDL 因为是星期五，映姬穿着那件T恤
								PRINTFORML 「啊……%K30_C_NAME(MASTER)%……%K30_GREETING_EIKI()%……」
								PRINTFORML 「呃…这边……请不要看这边…」
							CASE 2
								PRINTFORMDL 我先向心不在焉的映姬打了声招呼
								PRINTFORMW 「哇！！？」
								PRINTFORML 「……啊，那个…对不起……」
								PRINTFORMW 「啊…不是啊…%K30_GREETING_EIKI()%…」
						ENDSELECT
					ELSE
						PRINTFORMDL 今天是金曜日，是非曲直庁的休闲星期五
						PRINTFORML 「……………………」
						IF RAND:2 == 1
							PRINTFORMDL …『别跟我说话』的气场似乎在映姬周围盘旋
						ELSE
							PRINTFORMDL ……即使在说教的时候，也不会露出这么严厉的表情吧
						ENDIF
					ENDIF
				ENDIF
			ELSE
				IF STRCOUNT(CSTR:30:0, "変Ｔお披露目")
					PRINTFORMDL 明明不是星期五映姬却穿着那件T恤…
				ELSE
					PRINTFORMDL 映姬为何穿着\@ CFLAG:113:面識 ? 和赫卡提亚一样 # 非常休闲的 \@的衣服…
				ENDIF
				IF 仕事中チェック(30) && GET_JOBNAME(30) == "裁判"
					PRINTDATAL
						DATAFORM 「…狡言饰非。妄图蒙骗阎魔的法眼？　……」
						DATAFORM 「…嗯，是的。尔生前如此恶行……」
						DATAFORM 「…事到如今再后悔已然为时已晚。甚为可惜，汝……」
						DATAFORM 「…隐藏也没用。汝之行径都在这面镜子里……」
						DATAFORM 「…很遗憾，这不能说是善行。倒不如说……」
						DATAFORM 「…吓得说不出话来。事到如今还不醒悟吗……」
						DATAFORM 「…其他人也做过吗？即使如此，这一恶行的责任全在于汝……」
					ENDDATA
					PRINTFORMDL 映姫带着\@ TALENT:心情 == -1 ? 怒气 # 死掉的眼睛 \@对死者说教正在进行中
					RETURN
				ENDIF
				IF TALENT:心情 > -1
					PRINTFORMDW 注意到%CALLNAME:MASTER%的映姬用看向远方的目光告诉了他理由
				ELSE
					PRINTFORMDW 注意到%CALLNAME:MASTER%，映姬愤懑地开始说
				ENDIF
				PRINTFORML 「今天早上赫卡提亚大人来了，给了我这件衣服。……」
				PRINTFORMW 「为什么会觉得在幻想乡这个很棒？　会流行这样的服装」
				PRINTFORML 「今天一天，无论哪里的人都应该穿着这件衣服……」
				IF TALENT:心情 > -1
					PRINTFORMW 「呵呵，我不是一个人哦……呵呵……」
					PRINTFORMDW 映姬眼神空洞，无力地笑着……
				ELSE
					PRINTFORML 「……你想说可以拒绝的话吗？如果能做到的话……我会这样做的」
					PRINTFORMDW 阎魔大人也有不能违抗的东西…
				ENDIF
			ENDIF
		;同棲中=初期位置が一緒なのにおはよう口上を通してない場合
		ELSEIF CFLAG:MASTER:初期位置 == CFLAG:30:初期位置
			;おやすみ口上通している(=自室に帰っていた)時は生活リズムの違い
			IF CFLAG:1605 == 1
				CFLAG:1605 = 0
				LOCAL = TIME:3 / 60
				IF TCVAR:30:373 == 2
					PRINTFORML 「欸，欸多……早上好…？」
					PRINTFORMW 「\@ LOCAL < 4 ? …你到底几点起的床？ # 你怎么比我还早起？ \@」
				ELSE
					SELECTCASE LOCAL
						CASE 7 TO 10
							PRINTFORML 「早安,小懒虫」
							PRINTFORMW 「早点起来可会更舒服哦？」
						CASE 11 TO 15
							PRINTFORML 「早上好…也已经不是问早的时间了」
							PRINTFORMW 「生活的习惯不会乱糟糟的吧？」
						CASEELSE
							PRINTFORML 「嗯……怎么打招呼才好呢…」
							PRINTFORMW 「难道在晚上也出门了吗？」
					ENDSELECT
				ENDIF
			;今日引っ越した
			ELSEIF CFLAG:1605 == 10
				CFLAG:1605 = 0
				PRINTFORML 「%K30_GREETING_EIKI()%、%K30_C_NAME(MASTER)%」
				PRINTFORML 「搬家，住我的房间的话随时都可以」
				PRINTFORMW 「剩下的就是让你来了…」
				PRINTFORMW 「等着你哦♥」
			;外泊朝帰り
			ELSE
				LOCAL =  DAY - CFLAG:最後に会った日
				IF TIME:2 < 4 && LOCAL == 1
					PRINTFORML 「%K30_GREETING_EIKI()%、%K30_C_NAME(MASTER)%……」
				ELSE
					PRINTFORML 「%K30_C_NAME(MASTER)%……终于看到你了…」
				ENDIF
				;朝帰りして本命を連れてきた
				IF K30_FIND_LOVER() == 2
					PRINTFORML 「啊……」
					PRINTFORMDW 看到%CALLNAME:MASTER%和%CALLNAME:(TALENT:MASTER:恋人)%后,映姫露出了很复杂的表情…
				ELSE
					IF TALENT:恋人
						IF LOCAL == 1
							PRINTFORML 「…昨天晚上…你不在的时候…」
						ELSE
							PRINTFORML 「%TOKANJIT(LOCAL)%也一天没回来…」
						ENDIF
						PRINTFORMW 「果然是那么回事么……？」
						PRINTFORML 「吶、%K30_C_NAME(MASTER)%」
						PRINTFORMW 「希望你只好好看着我……」
					ELSE
						IF K30_FIND_LOVER() == 0
							PRINTFORMW 「…我们是什么关系…？」
							PRINTFORMW 「我知道你很受欢迎,但是…」
							PRINTFORMW 「只有我,已经不满足了么……？」
						ELSE
							PRINTFORMW 「…%K30_C_NAME(MASTER)%\@ LOCAL == 1 ? 、昨日的 # 已经、 \@果然…」
							PRINTFORMW 「………」
							PRINTFORML 「……不,没什么。」
							PRINTFORMW 「是我自己误会了吧…」
						ENDIF
					ENDIF
				ENDIF
			ENDIF
		;通常の挨拶
		ELSE
			IF TALENT:恋人
				PRINTFORML 「%K30_GREETING_EIKI()%、%K30_C_NAME(MASTER)%」
				PRINTFORMDL 映姫对%CALLNAME:MASTER%\@ TALENT:心情 > -1 ? ，找到了，看起来很高兴 # 打招呼 \@
			ELSEIF TALENT:恋慕
				PRINTFORML 「%K30_GREETING_EIKI()%、%K30_C_NAME(MASTER)%」
				PRINTFORMDL 映姫对%CALLNAME:MASTER%に\@ TALENT:心情 > -1 ? 微笑着 # \@打招呼了
			ELSEIF TALENT:思慕
				PRINTFORML 「%K30_GREETING_EIKI()%、%K30_C_NAME(MASTER)%」
				PRINTFORMDL 映姬注意到这里后,行了一个礼
			ELSE
				PRINTFORML 「%K30_GREETING_EIKI()%、%K30_C_NAME(MASTER)%」
			ENDIF
		ENDIF
	ENDIF
ENDIF
RETURN 1

;==================================================
;朝起きたとき（おはよう口上）
;==================================================
@M_KOJO_EVENT_K30_2(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;おはよう口上通したフラグ
TCVAR:30:373 = 1
;-------------
;流行热潮の日記フラグ
SIF DIARY:30:7 == 0 && FLAG:ファッション == 62
	CALL K30_WRITE_DIARY(7)
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;非同棲かつ相手が先に起きてる
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		;-------------------------------------------------
		;TARGET私室にMASTERが入っている（待客室はここを通る
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			IF YOUBI_MATCH(DAY, "金") || FLAG:ファッション == 62
				CALL K30_MORNING_STRANGE_TSHIRT
				GOTO SKIP
			ENDIF
			CALL K30_CHECK_MORNING_UFUFU
			IF TCVAR:30:363 == 0
				IF TALENT:心情 == -1 || CFLAG:318 == 1
					PRINTFORMW 「……早安」
					IF CFLAG:318 == 1
						PRINTFORMDW 从映姬身上感受到平静的愤怒和重压
					ELSE
						PRINTFORMDW 映姬一早开始就心情不好的样子…
						SIF MARK:反発刻印 == 0
							TCVAR:30:372 = 1
					ENDIF
					SIF GETBIT(CFLAG:1606, 0) && DAY % 2 == 1
						PRINTFORMDW 要是想让她含那儿的话肯定会被咬的… 
				ELSE
					SELECTCASE RAND:3
						CASE 0
							PRINTFORML 「早上好,%K30_C_NAME(MASTER)%」
							PRINTFORMW 「好好珍惜每一天,努力积德行善吧。」
						CASE 1
							PRINTFORML 「早安」
							PRINTFORMW 「睡得还好吗？」
						CASE 2
							PRINTFORMDL 睁开眼睛就发现映姬观察着你的睡颜
							PRINTFORMW 「早、早上好,%K30_C_NAME(MASTER)%」
					ENDSELECT
				ENDIF
			ENDIF
			GOTO SKIP
		ENDIF
		;-------------------------------------------------
		;MASTER私室にTARGETが入ってきてる(恋慕無しでも入ってくる可能性有り
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		TCVAR:30:373 = 3
		IF YOUBI_MATCH(DAY, "金") || FLAG:ファッション == 62
			CALL K30_MORNING_STRANGE_TSHIRT
			GOTO SKIP
		ENDIF
		CALL K30_CHECK_MORNING_UFUFU
		IF TCVAR:30:363 == 0
			IF TALENT:心情 == -1 || CFLAG:318 == 1
				PRINTFORMW 「……你要睡到什么时候？」
				IF CFLAG:318 == 1
					PRINTFORMDW 一起来就被骂了。而且完全没有可以反驳的余地…
				ELSE
					PRINTFORMDW 映姬一早开始就心情不好的样子…
					SIF MARK:反発刻印 == 0
						TCVAR:30:372 = 1
				ENDIF
				SIF GETBIT(CFLAG:1606, 0) && DAY % 2 == 1
					PRINTFORMDW 要是想让她含那儿的话肯定会被咬的… 
			ELSE
				PRINTFORML 「早上好,%K30_C_NAME(MASTER)%」
				IF TALENT:恋慕
					PRINTFORMW 「要不要一起做个早饭？」
				ELSEIF TALENT:思慕
					PRINTFORMW 「抱歉,打扰了」
				ELSE
					PRINTFORMW 「那么,快点起来吧,今天一天也努力行善吧。」
				ENDIF
			ENDIF
		ENDIF
		GOTO SKIP
	ENDIF
	;-------------------------------------------------
	;同棲かつ相手が起きている
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF YOUBI_MATCH(DAY, "金") || FLAG:ファッション == 62
			CALL K30_MORNING_STRANGE_TSHIRT
			GOTO SKIP
		ENDIF
		CALL K30_CHECK_MORNING_UFUFU
		IF TCVAR:30:363 == 0
			IF TALENT:心情 == -1 || CFLAG:318 == 1
				PRINTFORMW 「……终于起来了呢」
				IF CFLAG:318 == 1
					PRINTFORMDW 从映姬身上感受到平静的愤怒和重压
				ELSE
					PRINTFORMDW 映姬一早开始就心情不好的样子…
					SIF MARK:反発刻印 == 0
						TCVAR:30:372 = 1
				ENDIF
				SIF GETBIT(CFLAG:1606, 0) && DAY % 2 == 1
					PRINTFORMDW 要是想让她含那儿的话肯定会被咬的… 
			ELSE
				SELECTCASE RAND:3
					CASE 0
						PRINTFORML 「早上好,%K30_C_NAME(MASTER)%」
						PRINTFORMW 「好好珍惜每一天,努力积德行善吧。」
					CASE 1
						PRINTFORML 「早安」
						PRINTFORMW 「睡得还好吗？」
					CASE 2
						PRINTFORMDL 睁开眼睛就发现映姬观察着你的睡颜
						PRINTFORMW 「早、早上好,%K30_C_NAME(MASTER)%」
				ENDSELECT
			ENDIF
		ENDIF
		GOTO SKIP
	ENDIF
	;-------------------------------------------------
	;同棲かつ相手が寝ている
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		SIF MARK:反発刻印 == 0 && TALENT:心情 == -1
			TCVAR:30:372 = 1
		TCVAR:30:373 = 2
		IF TALENT:心情 == -1
			PRINTFORMDL 映姬一边睡觉一边皱着眉头
			PRINTFORMDW 是在做噩梦吗…
		ELSEIF TIME > 240
			PRINTFORMDL 映姬在旁边发出安详的鼾声
			PRINTFORMDW 要叫醒还早呢…
		ELSE
			PRINTFORMDL 旁边的映姬睡得很安稳
			PRINTFORMDW 这个时间叫醒太可怜了…
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;MASTERが起きていて、相手が起きてきた＠ここの条件よくわからないのでコピペ
	;添い寝時TARGET起床はこちら（TARGET衰弱or陪睡中TARGET睡魔負け後そのままMASTERが起き続けた上で相手が起床した場合限定
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		;-------------------------------------------------
		;非同棲
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			IF TIME:0 < 480
				IF YOUBI_MATCH(DAY, "金") || FLAG:ファッション == 62
					SIF MARK:反発刻印 == 0 && TALENT:心情 == -1
						TCVAR:30:372 = 1
					IF YOUBI_MATCH(DAY, "金")
						IF TALENT:心情 > -1
							PRINTFORML 「早上好……」
							PRINTDATAW 
								DATAFORM 「是的哦。今天是那个日子……」
								DATAFORM 「今天是金曜日、呢……」
								DATAFORM 「……如果是规则的话，我必须遵守…」
							ENDDATA
							PRINTFORMDW 换完衣服，映姬的眼睛里已经完全没有了生气
						ELSE
							PRINTFORML 「……………………」
							PRINTFORMDW 映姬始终无言地换好衣服。好像积了不少幽怨
						ENDIF
					ELSE
						PRINTFORML 「%K30_C_NAME(MASTER)%、早上好\@ TALENT:恋人 ? # 哟 \@……啊啦？」
						PRINTFORMDW 打过招呼，映姬想换衣服，却找不到平时的制服。取而代之的是那些充满自我主张的衣服和便条。
						;メモでこの語尾は変だけど、わかりやすさ重点
						PRINTL
						PRINTFORMDL 『这是现在最时髦的、期待着哟』
						PRINTW
						IF TALENT:心情 > -1
							PRINTFORML 「…………………」
							PRINTFORMDW 映姬无言地开始换衣服。眼神完全死了…
						ELSE
							PRINTFORML 「真的不明白那位大人在想些什么…」
							PRINTFORMDW 映姬不情愿地开始换衣服，明显心情不愉快…
						ENDIF
					ENDIF
				ELSEIF TALENT:心情 == -1 || CFLAG:318 == 1
					PRINTFORMW 「……早安」
					IF CFLAG:318 == 1
						PRINTFORMDW 从映姬身上感受到平静的愤怒和重压
					ELSE
						PRINTFORMDW 映姬一早开始就心情不好的样子…
						SIF MARK:反発刻印 == 0
							TCVAR:30:372 = 1
					ENDIF
				ELSE
					SELECTCASE RAND:3	
						CASE 0
							PRINTFORML 「啊呼…嗯,%K30_C_NAME(MASTER)%,早安」
							PRINTFORMW 「醒得真早呢。一直都是这个时间起来么？」
						CASE 1
							PRINTFORML 「啊呼,嗯嗯…」
							PRINTFORMW 「再稍微一会…就这样在他身边…」
						CASE 2
							PRINTFORML 「嗯唔…呼呼呼…」
							PRINTFORMDW 望着做着什么幸福梦的映姬
							PRINTFORMDL 突然睁开眼睛的映姬和%CALLNAME:MASTER%的眼睛对视上了…
							PRINTFORMW 「～～～～！！」
							PRINTFORMW 「你,你在那边偷笑什么呀！」
					ENDSELECT
				ENDIF
			;映姫様8時過ぎて寝てるのは衰弱だけのはず
			ELSE
				PRINTFORML 「呼啊……」
				PRINTFORML 「啊,%K30_C_NAME(MASTER)%,我说……那个……」
				IF TCVAR:30:374 == 1
					WAIT
					PRINTFORML 「我……虽然很迷迷糊糊…但是我记得…自己，曾经那样…」
					PRINTFORML 「那么随便的…下流央求了，非常…快乐…的事」
					PRINTFORML 「…真的，好害羞」
					TCVAR:30:374 = 0
				ELSE
					PRINTFORML 「这样对我来说,有点…太刺激了……」
				ENDIF
				PRINTFORMDW 映姬用近乎消失的声音嘟囔着、%CALLNAME:MASTER%温柔地抚摸她的脑袋
				RETURN 1
			ENDIF
			GOTO SKIP
		ENDIF
		;-------------------------------------------------
		;同棲中
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			IF TIME:0 < 480
				IF YOUBI_MATCH(DAY, "金") || FLAG:ファッション == 62
					SIF MARK:反発刻印 == 0 && TALENT:心情 == -1
						TCVAR:30:372 = 1
					IF YOUBI_MATCH(DAY, "金")
						IF TALENT:心情 > -1
							PRINTFORML 「早上好……」
							PRINTDATAW 
								DATAFORM 「是的哦。今天是那个日子……」
								DATAFORM 「今天是金曜日、呢……」
								DATAFORM 「……如果是规则的话，我必须遵守…」
							ENDDATA
							PRINTFORMDW 换完衣服，映姬的眼睛里已经完全没有了生气
						ELSE
							PRINTFORML 「……………………」
							PRINTFORMDW 映姬始终无言地换好衣服。好像积了不少幽怨
						ENDIF
					ELSE
						PRINTFORML 「%K30_C_NAME(MASTER)%、早上好\@ TALENT:恋人 ? # 哟 \@……啊啦？」
						PRINTFORMDW 打过招呼，映姬想换衣服，却找不到平时的制服。取而代之的是那些充满自我主张的衣服和便条。
						;メモでこの語尾は変だけど、わかりやすさ重点
						PRINTL
						PRINTFORMDL 『这是现在最时髦的、期待着哟』
						PRINTW
						IF TALENT:心情 > -1
							PRINTFORML 「…………………」
							PRINTFORMDW 映姬无言地开始换衣服。眼神完全死了…
						ELSE
							PRINTFORML 「真的不明白那位大人在想些什么…」
							PRINTFORMDW 映姬不情愿地开始换衣服，明显心情不愉快…
						ENDIF
					ENDIF
				ELSEIF TALENT:心情 == -1 || CFLAG:318 == 1
					PRINTFORMW 「……早安」
					IF CFLAG:318 == 1
						PRINTFORMDW 从映姬身上感受到平静的愤怒和重压
					ELSE
						PRINTFORMDW 映姬一早开始就心情不好的样子…
						SIF MARK:反発刻印 == 0
							TCVAR:30:372 = 1
					ENDIF
				ELSE
					SELECTCASE RAND:3	
						CASE 0
							PRINTFORML 「呼啊…唔,%K30_C_NAME(MASTER)%,早安\@ TALENT:恋人 ? #  \@」
							PRINTFORMW 「你醒得真早呢」
						CASE 1
							PRINTFORML 「啊呼,嗯嗯…」
							PRINTFORMW 「再稍微一会…就这样在他身边…」
						CASE 2
							PRINTFORML 「嗯唔…呼呼呼…」
							PRINTFORMDW 望着做着什么幸福梦的映姬
							PRINTFORMDL 突然睁开眼睛的映姬和%CALLNAME:MASTER%的眼睛对视上了…
							PRINTFORMW 「～～～～！！」
							PRINTFORMW 「你,你在那边偷笑什么呀！」
					ENDSELECT
				ENDIF
			;映姫様8時過ぎて寝てるのは衰弱だけのはず
			ELSE
				PRINTFORML 「呼啊……」
				PRINTFORML 「啊,%K30_C_NAME(MASTER)%,我说……那个……」
				IF TCVAR:30:374 == 1
					WAIT
					PRINTFORML 「我……虽然很迷迷糊糊…但是我记得…自己，曾经那样…」
					PRINTFORML 「那么随便的…下流央求，非常…快乐了…的事」
					PRINTFORML 「…真的，好害羞」
					TCVAR:30:374 = 0
				ELSE
					PRINTFORML 「这样对我来说,有点…太刺激了……」
				ENDIF
				PRINTFORMDW 映姬用近乎消失的声音嘟囔着、%CALLNAME:MASTER%温柔地抚摸她的脑袋
				RETURN 1
			ENDIF
		ENDIF
	ENDIF
ENDIF
$SKIP
;おはようと言ってから「まだ挨拶を～」とか言い出す違和感をなんとか減らしたい
;情事発覚.ERBの改良は自分にはハードル高すぎなのでフラグ乱立してごまかす
IF !CFLAG:诶嘿嘿
	TIME += 5
	RESETCOLOR
	TFLAG:192 = 10
	CALL AFFAIR_DISCLOSURE(30, 0)
ENDIF
RETURN 1

;-------------------------------------------------
;おはよう変Ｔ
@K30_MORNING_STRANGE_TSHIRT
;-------------------------------------------------
SIF MARK:反発刻印 == 0 && TALENT:心情 == -1
	TCVAR:30:372 = 1
PRINTFORML 「………%K30_GREETING_EIKI()%\@ TALENT:恋人 && INRANGE(TIME,240,599) ? 唉 # \@」
IF YOUBI_MATCH(DAY, "金")
	IF TALENT:心情 > -1
		PRINTDATAW 
			DATAFORM 「努力熬过今天这一天吧……」
			DATAFORM 「对，是的。今天是金曜日哦……」
			DATAFORM 「让我们保持坚强的心，一起加油吧…… 」
		ENDDATA
		SELECTCASE RAND:3
			CASE 0
				PRINTFORMDL 照规则，映姬换上了那件T恤
				PRINTFORMDW 眼神依旧死着。看来还是没能习惯这件衣服
			CASE 1
				PRINTFORMDL ……如果是那位女神的话，就算说不想换衣服，也不会在意吧
				PRINTFORMDW 虽然%CALLNAME:MASTER%是这么想的、但也觉得既然有规则，映姬一定会遵守的。
			CASE 2
				PRINTFORMDL 比平时的衣服换得快，映姬却什么也没做，只是呆呆地站着。
				PRINTFORMDW 这样一天下来没问题吗？。%CALLNAME:MASTER%稍微有些担心
		ENDSELECT
	ELSE
		PRINTFORMDL 寒暄了一句，映姬沉默了
		PRINTFORMDW 好像已经积攒了很多的郁愤…
	ENDIF
ELSE
	PRINTFORMDW 明明不是星期五，映姬却换上了那件T恤
	PRINTFORML 「刚才赫卡提亚大人来了……」
	PRINTFORMW 「今天幻想乡的每个人都要穿这件衣服。…」
	IF TALENT:心情 > -1
		PRINTFORMW 「呵呵呵，今天不是我一个人啊……呵呵呵……」
		PRINTFORMDW 映姬露出了笑容，但眼睛完全死了…
	ELSE
		PRINTFORML 「今天明明是不用穿的日子……」
		PRINTFORMDW 映姬一看就知道心情不快…
	ENDIF
ENDIF
RETURN 1

;==================================================
;夜寝るとき（おやすみ口上）
;==================================================
@M_KOJO_EVENT_K30_3(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;自室に返回（定時になって寝る）＠クラピ構文参考にしてます
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1 && !CFLAG:诶嘿嘿
		IF CFLAG:現在位置 == OMANEKIBEYA()
			PRINTFORML 「都到这个时间了呢……」
			PRINTFORMW 「晚安,%K30_C_NAME(MASTER)%……」
			SIF !TCVAR:(CFLAG:MASTER:招待):连住禁止 && NEMUKE() < 720
				PRINTFORMW 「……等等,果然还是不想现在和你分开…」
		ELSE
			IF TALENT:恋慕
				PRINTFORML 「都到这个时间了……」
				PRINTFORMW 「晚安,%K30_C_NAME(MASTER)%」
			ELSE
				PRINTFORML 「%K30_C_NAME(MASTER)%，那么晚安」
			ENDIF
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;眠そうにしている
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		SIF RAND:10 || !TALENT:恋慕
			RETURN 1
		PRINTDATAL
			DATAFORM 「呼啊…啊、啊呼~……」
			DATAFORM 「嗯～……呼啊、啊…」
			DATAFORM 「呼啊～～～…吶…姆……」
		ENDDATA
		PRINTFORMDL 映姬忘了用手捂嘴打了个大哈欠…
		PRINTDATAW
			DATAFORM 「刚、刚才的是…请忘记……」
			DATAFORM 「……对不起，让你看到了不得体的一面…」
			DATAFORM 「…对不起，我有点太松懈了…」
		ENDDATA
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;睡眠中（起きていないので会話というよりは寝言？）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;恶作剧中
	;記入チェック（=0, 非表示、1, 表示）
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 4
		;PRINTFORMW 
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;衰弱中（恋慕付き拠点内角色がMAIN_MAPで衰弱状態になった場合か、待客室で相手が衰弱した場合に発生
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5 
		IF CFLAG:诶嘿嘿 && TCVAR:30:374
			CALL HPH_PRINT, "「啊喺…HPH　喺HPH　……嗯啊~HPH」", "L"
			CALL HPH_PRINT, "「是、啊…HPH　动不，了………动不了、了…呢HPH」", "L"
			PRINTFORMDW 疯狂过后的映姬连一根手指头都动不了…
		ELSE
			PRINTFORML 「哈啊…哈啊……」
			PRINTFORML 「抱歉,%K30_C_NAME(MASTER)%…」
			PRINTFORMW 「我有些累了,感觉身体…撑不住了……」
		ENDIF
		SIF CFLAG:诶嘿嘿
			CALL K30_UFUFU_RECORD
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;MASTERがダウン（部屋まで運ばれる）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		SIF CFLAG:MASTER:初期位置 == CFLAG:30:初期位置
			CFLAG:1605 = 1
		;如果被媚药侵蚀了理智:
		IF GETBIT(TCVAR:30:367, 2) || GETBIT(TCVAR:30:367, 3)
			LOCAL = TALENT:尻穴狂 && RAND:2 
			LOCAL:1 = FLAG:画像表示 && FLAG:挿絵表示
			LOCAL:2 = CURRENTREDRAW()
			REDRAW 0
			PRINTFORMW 「啊,啊呀...?%K30_C_NAME(MASTER)%?」
			PRINTFORML 「...嗯...已经结束了吗?」 
			PRINTFORMW 「没办法呢......那就先换个地方吧...」
			PRINTFORMDL ............
			PRINTFORMDL ......
			PRINTFORMDW ...
			CALL K30_D_LINE
			CALL HPH_PRINT, "「哈HPH 哈HPH 哈HPH 啊噗......啊呜HPHHPH」", "L"
			CALL HPH_PRINT, "「...嗯嗯,要来了!又HPH 要去了HPHHPH」", "L"
			IF LOCAL
				CALL PRINT_IMAGE_ANIMATION_正常位("Ａ正常位_挿入")
			ELSE
				CALL PRINT_IMAGE_ANIMATION_正常位("正常位_挿入")
			ENDIF
			PRINTFORMDL ......%CALLNAME:MASTER%失神地躺在\@ ARG:1 ? 布団 # 自室 \@中仰面朝天
            PRINTFORMDL 映姫跨坐在他的身上,专心致志地进行着猛烈的抽插
            PRINTFORMDW 映姫的\@ LOCAL ? 尻 # 雌 \@穴紧紧地吸吮着阴茎,已经吞下了数次精液,白浊从缝隙中溢出...... 
            LOCAL:3= LINECOUNT
            IF LOCAL
                CALL PRINT_IMAGE_ANIMATION_正常位("Ａ正常位_射精")
            ELSE
                CALL PRINT_IMAGE_ANIMATION_正常位("正常位_射精")
            ENDIF
            SIF LOCAL:1
                TWAIT 400, 0
            CLEARLINE LINECOUNT - LOCAL:3
            IF LOCAL
                CALL PRINT_IMAGE_ANIMATION_射精後("Ａ正常位_中出し")
            ELSE
                CALL PRINT_IMAGE_ANIMATION_射精後("正常位_中出し")
            ENDIF
			CALL HPH_PRINT, @"「...啊啊HPH 感觉好棒...HPHHPH」", "L"
			CALL HPH_PRINT, @"「\@ LOCAL ? 小穴 # 肚子 \@,咕噜HPH 一下一下的顶...HPHHPH」", "L"
			PRINTFORMDW 感受着\@ LOCAL ? 肠道 # 阴道 \@被精液填满的快感,映姫浑身颤抖着达到了高潮
			PRINTFORML
			CALL HPH_PRINT, @"「......呼呼HPH 呼呼HPH %K30_C_NAME(MASTER)%...好孩子好孩子HPH」", "L"
			CALL HPH_PRINT, @"「按照我想要的方式,射给我......多可爱的孩子啊HPH」", "W"
			PRINTFORML 
			CALL HPH_PRINT, @"「%K30_C_NAME(MASTER)%,就这样...全部交给我HPH」", "L"
			CALL HPH_PRINT, @"「你和你的小兄弟...我会负责到最后,好好照顾的HPH」", "L"
			CALL HPH_PRINT, @"「更多,更多...再多一点HPH 咕嘟咕嘟,继续吧HPHHPH」", "W"
			PRINTFORML
			PRINTFORMDL 映姫一边享受着高潮的余韵,一边像逗弄似的跟还在意识模糊的%CALLNAME:MASTER%说着话
			PRINTFORMDL 同时,腰部仍旧缓慢而有节奏地摆动着,看样子并不打算停下来
			PRINTFORML 
			PRINTFORMDL 不久,%CALLNAME:MASTER%的阴茎重新硬起,映姫的动作也再次变成贪婪的抽插节奏...
			PRINTFORMDL …………
			PRINTFORMDL ……
			PRINTFORMDW …
			CALL K30_D_LINE
			PRINTFORMDW 最终,在变成淫魔的映姫一晚上的榨取下,%CALLNAME:MASTER%的意识一直没有恢复... 
			;到了这里,体力可能已经为0,还是加上处理
			IF LOCAL
			  CALL ADD_SAMEN_A(30, BASE:MASTER:精力)
			ELSE
			  CALL ADD_SAMEN_V(30, BASE:MASTER:精力, 0)
			ENDIF
			;和乳神一样的破坏力
			BASE:MASTER:体力 = -5000
			BASE:MASTER:気力 = 0
			CFLAG:积攒度 = 0
			REDRAW LOCAL:2
		;酔っぱらい
		ELSEIF K30_DRUNK() > 1
			PRINTFORMW 「啊哈哈哈哈!怎么倒在地上了?唔～」
			PRINTFORML 「……等等！？　真的！？」
			PRINTFORMW 「真是拿你没办法呐～真是的～」
		;思い切りぶん殴られたor中出し強要中
		ELSEIF TCVAR:30:371 > 1 || TCVAR:30:386
			PRINTFORMW 「啊~……」
			PRINTFORMW 「吃了点补药吗…？」
			PRINTFORML 「……………」
			PRINTFORMW 「话虽如此，也不能置之不理啊…」
		;诶嘿嘿中断。わりかしひどい
		ELSEIF CFLAG:诶嘿嘿
			PRINTFORML 「欸~！？　%K30_C_NAME(MASTER)%~！　%K30_C_NAME(MASTER)%！？」
			PRINTFORMW 「讨厌…因为我太激动了…？」
			IF (TEQUIP:50 == PLAYER || TEQUIP:51 == PLAYER) && !TCVAR:强行
				LOCAL = 2
				CALL HPH_PRINT, @"「…啊嗯HPH　不够，\@ TEQUIP:51 == PLAYER ?屁股的 # \@在里面，变大…HPHHPH」", "L"
				CALL HPH_PRINT, @"「…嗯~HPH　啊~嗯HPH　%K30_C_NAME(MASTER)%…就这样，对我…HPH」", "W"
			ELSEIF MASTER_POSE(4, 1) == 30 && !TCVAR:强行
				LOCAL = 2
				CALL HPH_PRINT, @"「啊~HPH　……欧金金，还精神着…HPH」", "W"
				CALL HPH_PRINT, @"「…呼呼、啾~HPH　……哼哼~、哔酷哔酷的…可爱呦…HPH」", "W"
			ENDIF
			PRINTFORMW 「………………」
			PRINTFORMW 「\@ LOCAL == 2 ? 继、继续做奇怪的事 # 现、现在在想奇怪的事情 \@，不快点\@ ARG:1 ? 休息的话# 回到房间 \@，必须要……」
		;通常
		ELSE
			PRINTFORML 「欸！？　 %K30_C_NAME(MASTER)%、大丈夫！？」
			SIF TCVAR:30:371 != 0
				PRINTFORML 「怎么办呢……是不是做得有点过头了…」
			PRINTFORMW 「总之…\@ ARG:1 ? 让睡眠吧 # 回到房间 \@如果不……」
		ENDIF
		;終了記録
		SIF CFLAG:诶嘿嘿
			CALL K30_UFUFU_RECORD
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGETが自室まで回来了
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		;-------------------------------------------------
		;そのまま着替えて寝た
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 0
			IF CFLAG:MASTER:初期位置 == CFLAG:30:初期位置
				;SHOPメニュー表示中
				IF CFLAG:MASTER:睡眠
					CFLAG:1605 = 1
					PRINTFORMD 望着沉浸在梦乡中%CALLNAME:MASTER%
					SELECTCASE RAND:3
						CASE 0
							PRINTFORMDL 轻吻他的脸颊，映姬很快睡着了
						CASE 1
							PRINTFORMDL 重新盖上被子，映姬很快睡着了
						CASE 2
							PRINTFORMDL 望着他的睡脸，映姬也睡着了
					ENDSELECT
					CALL K30_D_LINE
				;映姫様通常睡眠時刻
				ELSEIF  GROUPMATCH(TIME / 60, 0, 24)
					IF INRANGE(TIME:3 / 60, 4, 18)
						PRINTFORML 「晚安\@ TALENT:恋人 ? # 请好好休息 \@、%K30_C_NAME(MASTER)%」
						PRINTFORMW 「你也不要太勉强自己了哦」
					ELSE
						PRINTFORML 「我现在要睡觉了…」
						PRINTFORMW 「既然都住在一起了,要不要一起睡呢…？」
					ENDIF
				ELSE
					CFLAG:1605 = 1
					PRINTFORMD 「…我先回去睡了%CALLNAME:MASTER%」
					SELECTCASE RAND:3
						CASE 0
							PRINTFORMDL 轻吻他的脸颊，映姬很快睡着了
						CASE 1
							PRINTFORMDL 重新盖上被子，映姬很快睡着了
						CASE 2
							PRINTFORMDL 望着他的睡脸，映姬也睡着了
					ENDSELECT
					PRINTFORML 
					CALL K30_D_LINE
				ENDIF
			ELSE
				IF INRANGE(TIME:3 / 60, 4, 18)
					PRINTFORML 「晚安,%K30_C_NAME(MASTER)%」
					PRINTFORMW 「你也不要太勉强自己了哦」
				ELSE
					PRINTFORML 「都这么晚了还在这里干什么呢…？」
					PRINTFORML 「我先休息了」
					PRINTFORMW 「晚安,%K30_C_NAME(MASTER)%」
				ENDIF
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;部屋から追い出された
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			IF TALENT:恋慕
				PRINTFORMW 「对不起,可以请你先出去吗？」
			ELSE
				PRINTFORML 「为什么你会在这里……」
				PRINTFORMW 「请赶紧出去」
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;他角色とのＨを止めさせて寝た＠後出しの説教つけたい
		;記入チェック（=0, 非表示、1, 表示）
		;情事発覚通らないから把柄つかない？
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML 「……虽然现在就有很多话想对你说,但还是日后再好好跟你“聊一聊”」
			PRINTFORMW 「赶紧给我出去！」
			SETBIT CFLAG:1699, 3
			RETURN 1
		ENDIF
	ENDIF
	;-------------------------------------------------
	;非在住TARGETがMAIN_MAPで休憩
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		IF CFLAG:诶嘿嘿
			IF TCVAR:30:374
				CALL HPH_PRINT, "「喺~…HPH　啊喺！……HPH　……喺~~嗯HPH」", "L"
				CALL HPH_PRINT, "「不行…HPH　已经……不行了HPH」", "W"
			ELSE
				PRINTFORML 「对不起，请……已、无、理…」
				PRINTFORMW 「已经…没力…动了…」
			ENDIF
			CALL K30_UFUFU_RECORD
		ELSE
			PRINTFORML 「哈啊…哈啊……」
			PRINTFORMW 「抱歉…%K30_C_NAME(MASTER)%,稍微…休息…一下吧…」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;前のターンから一緒的房間にいる状態で相手が寝る（待客室、自室でヤリ過ぎてもここ）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		IF TCVAR:30:374
			CALL HPH_PRINT, "「喺~…HPH　啊喺！……HPH　……喺~~嗯HPH」", "L"
			CALL HPH_PRINT, "「不行…HPH　已经……不行了HPH」", "W"
		ELSEIF BASE:30:体力 < 500
			PRINTFORML 「哈…哈……已经到极限了…」
			PRINTFORMW 「%K30_C_NAME(MASTER)%、稍微…让我休息一下…」
		ELSE
			PRINTFORMW 「晚安,%K30_C_NAME(MASTER)%……」
		ENDIF
		SIF CFLAG:诶嘿嘿
			CALL K30_UFUFU_RECORD
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;拠点外で自宅前に居る角色が自室に帰って寝る（眠くなった～は自室に帰って行きました）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 10
		IF TALENT:恋慕
			PRINTFORML 「…已经这个时间了」
			PRINTFORML 「对不起，请让我先休息一下」
			PRINTFORMW 「晚安\@ TALENT:恋人 ? # 的说 \@、%K30_C_NAME(MASTER)%…」
		ELSE
			PRINTFORML 「不早点休息的话会影响到明天呢…」
			PRINTFORML 「你也不要这么晚到处闲逛了，回家休息吧」
			PRINTFORMW 「那么，晚安」
		ENDIF
		RETURN 1
	ENDIF
	;其他
ENDIF
RETURN 1

;==================================================
;移動時すれちがい
;==================================================
@M_KOJO_EVENT_K30_4(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL && SHIRAHU(30)
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;立ち止まった
	;この後遭遇口上に接続
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF TALENT:心情 < 0
		ELSEIF K30_CHECK_HEN_T()
			PRINTFORMDL 映姬还没有注意到%CALLNAME:MASTER%已经来到了附近…
		ELSEIF TALENT:恋人
			PRINTFORMDL 映姬注意到%CALLNAME:MASTER%，露出了像花一般绚丽的笑容
		ELSEIF TALENT:恋慕
			PRINTFORMDL 映姬好像在等着来自%CALLNAME:MASTER%的问候…
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;轻轻地会釈して街道過ぎた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF K30_CHECK_HEN_T()
			PRINTFORMDL 映姬一脸茫然
		ELSE
			PRINTFORMDL 映姫向%CALLNAME:MASTER%点了点头。
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;無視して街道過ぎた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		IF K30_CHECK_HEN_T()
			PRINTFORMDL 映姬一脸茫然
		ELSEIF TALENT:恋人
			PRINTFORMDL 被无视了的映姫似乎很遗憾的样子…
		ELSEIF TALENT:恋慕
			PRINTFORMDL 映姬的目光追随着%CALLNAME:MASTER%的方向。
		ELSE
			PRINTFORMDL 映姫用有所揣摩的眼神瞥了%CALLNAME:MASTER%一眼
		ENDIF
	ENDIF
	;其他
ENDIF
RETURN 1

;==================================================
;他者介入で情緒変化
;==================================================
@M_KOJO_EVENT_K30_5(ARG,ARG:1)
;口上主はTARGET
;ARGに入ってきた角色（人数が膨大なので、自己把握自己責任で
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;小町が入ってきた 
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 76 && CFLAG:诶嘿嘿 == 0
		IF YOUBI_MATCH(DAY, "月水金") && INRANGE(TIME / 60, 10, 15) && ((CFLAG:[[小町]]:現在位置 != 三途之川 && MAIN_MAP != 6) || (CFLAG:[[小町]]:現在位置 != 602 && MAIN_MAP == 6)) && !CFLAG:76:産休中
			PRINTFORMDL 注意到映姬在这里的小町非常慌乱的样子
			PRINTFORMDW 看了她之后的映姬的表情变得越来越严峻了
			PRINTFORMDW 看来她似乎有罪受了……
		ELSEIF !TALENT:恋慕
			PRINTFORMDL 映姬慌忙与%CALLNAME:MASTER%拉开距离
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;久侘歌が入ってきた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 129
		IF 仕事中チェック(129) && CFLAG:30:現在位置 == 640 && CFLAG:诶嘿嘿 == 0
			PRINTFORMDL 映姬向久侘歌打了招呼
			PRINTFORMW 「久侘歌小姐,工作辛苦了,要好好看守关口哦」
			PRINTFORMDW 「好的,四季大人,就放心交给我吧！」
		ELSEIF !TALENT:恋慕
			PRINTFORMDL 映姫和%CALLNAME:MASTER%急忙拉开了距离
		ENDIF
		RETURN 1
	ENDIF
	;其他（角色指定無
	SIF CFLAG:诶嘿嘿 == 0 && !TALENT:恋人
		PRINTFORMDL 映姫和%CALLNAME:MASTER%若无其事地保持了距离
ENDIF
RETURN 1

;==================================================
;情事を目撃した
;==================================================
@M_KOJO_EVENT_K30_6(ARG,ARG:1)
;口上主はTARGET
;ARGに情事相手
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;情事を目撃した（亲热度:低）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		;小町。映姫様と小町はどうせすぐ馴れ合ってちゅっちゅしだすから(※個人的な願望)、死に分岐みたいなもの
		;小町口上の分岐条件参考にしました
		IF ARG == 76
			PRINTFORML 「哦唷『谢天谢地』…小町」
			PRINTFORM 「“您老人家”
			IF YOUBI_MATCH(DAY, "月水金") && TIME:0 > 600 && TIME:0 < 960
				PRINTFORM 明明还有工作
			ELSEIF OUTROOF(CFLAG:現在位置)
				PRINTFORM 在这样的外面
			ENDIF
			SIF TALENT:恋人
				PRINTFORM 和我的%K30_C_NAME(MASTER)%
			PRINTFORMW 到底在干什么呢…？！」
			PRINTFORML 「！！」
			PRINTFORMW 「%K30_C_NAME(MASTER)%！　我可是很认真的问话!?你在做什么呢！！」
			PRINTFORMW 「总之，总之！　%TOKANJIS(GET_TARGETNUM())%人都是！　现在马上去别的房间！！」
		;ヘカ様
		ELSEIF ARG == 113
			PRINTFORML 「%K30_C_NAME(ARG)%到底在干什么…」
			PRINTFORMW 「我想大概是%K30_C_NAME(MASTER)%的原因，请稍微自重一点…」
		ELSE
			PRINTFORML 「%K30_C_NAME(ARG)%，到底在干什么！？」
			PRINTFORML 「%K30_C_NAME(MASTER)%，是他怂恿唆使的吧…」
			PRINTFORMW 「总之！不是在这样的地方做的！请把衣服整理好，换个房间吧！」
		ENDIF
		SETBIT CFLAG:1699, 2
		CFLAG:1698 += 10
	RETURN 1
	ENDIF
	;-------------------------------------------------
	;負けじと参加（亲热度:高）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		SIF !TALENT:ARG:恋人
		CALL K30_PRESET_UFUFU
		;恋人同士の诶嘿嘿には現状割り込みできない仕様。この部分は死に分岐だけど覚書で残しておく
		;→仕様変更、ポリアモリーなら割り込める。でも使わない
		IF TALENT:ARG:恋人
			[SKIPSTART]
			IF GROUPMATCH(ARG, 76, 129)
			ELSE
			PRINTFORML 「……真的很抱歉,%K30_C_NAME(ARG)%」
			PRINTFORMW 「…我抑制不住这个想法，身体也抑制不下去了……%K30_C_NAME(MASTER)%」
			PRINTFORMW 「拜托了,也请垂怜一下我吧…」
			IF CFLAG:1801
				TCVAR:30:387 = 1
				TCVAR:30:385 = 1
			ENDIF
			[SKIPEND]
		;入ってきた方が恋人なら、必ず割り込む
		ELSEIF TALENT:恋人
			PRINTFORML 「……果然只要把视线稍微移开一会，花心的%K30_C_NAME(MASTER)%就会变成这个样子啊」
			PRINTFORML 「原来如此啊。我也该反省了。」
			PRINTFORML 「有恋人也不能满足，是我的爱还不够…是这样吧?」
			PRINTFORMW 「那好吧。从现在就开始吧…我会给你榨个够的」
			PRINTFORML 
			IF ARG == GROUPMATCH(ARG, 76, 129)
				PRINTFORML 「%CALLNAME:ARG%，当然你也会帮我的……不，帮我吧」
			ELSE
				PRINTFORML 「%K30_C_NAME(ARG)%，你也来帮忙?」
			ENDIF
			PRINTFORML 「找%TOKANJIS(GET_TARGETNUM())%帮你这家伙把色欲榨出来…」
			PRINTFORML 「然而更重要的，谁是一番（正妻）可得黑白分明啊」
			PRINTFORMDW 映姬看似没有生气，但是字里行间已经是满满的压迫感了…
		ELSEIF TALENT:恋慕
			;関係把握の履歴で分岐
			IF GET_UWAKI_HISTORY(30, ARG) == 0
				PRINTFORML 「…你到底在让多少女性哭泣？」
				IF TALENT:MASTER:恋人
					PRINTFORML 「喜欢上这样的人，%K30_C_NAME(TALENT:MASTER:恋人)%看起来也真是很辛苦」
					PRINTFORMW 「真的我也在做什么呢…」
				ELSE
					PRINTFORMW 「真的，我怎么会喜欢上这样的人呢？我…」
				ENDIF
				PRINTFORML 
				PRINTFORML 「……啊，阎魔不能说这样的话」
				PRINTFORMW 「恋爱的弱点，是吧，我也和%K30_C_NAME(ARG)%一起享受」
			ELSE
				IF TALENT:MASTER:恋人 != ARG
					PRINTFORML 「%K30_C_NAME(ARG)%%K30_C_NAME(TALENT:MASTER:恋人)%、所谓吃着锅里…且连我也被放入碗中，你一定很得意吧」
					PRINTFORML 「…………………」
					PRINTFORMW 「我也已经，只想着坦率地享受……」
				ELSE
					PRINTFORML 「%K30_C_NAME(ARG)%和我、也许其他女孩也这么想」
					PRINTFORML 「差不多该让你分清黑白了。」
					PRINTFORMW 「……%K30_C_NAME(ARG)%、吾也要掺和一下。」
				ENDIF
			ENDIF
		ELSE
			PRINTFORML 「虽然身为审判人之责,却被低劣的色欲所驱使」
			PRINTFORML 「这样…作为阎魔已经失格了吧……」
			PRINTFORMDW 映姬自嘲地喃喃自语着向%CALLNAME:MASTER%的身体依偎而去
			TCVAR:30:385 = 1
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;気まずそうに立ち去る
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		IF TALENT:恋人
			PRINTFORML （对沉溺于淫欲的你）
		ELSE
			PRINTFORML （对沉溺于色欲的她们）
		ENDIF
		PRINTFORML （明明应该当场纠正的）
		PRINTFORML （为什么我会如此迷茫呢？）
		PRINTFORML （为什么……）
		PRINTFORMDW 映姬低着头逃也似地溜了
		RETURN 1
	ENDIF
	;其他
ENDIF
RETURN 1

;==================================================
;情事を見られた
;他角色との絡みっぽいのあったらえっちそう、ということで大幅拡張
;映姫様がぺらぺらと喋るだけと言えなくもない
;==================================================
@M_KOJO_EVENT_K30_7(ARG,ARG:1)
#DIM BUNKI
#DIM ANATA_BUI
#DIM EIKI_BUI
BUNKI = 0
;どの部位をつかって诶嘿嘿中かMASTERのTINKO起点で先に調べておく
EIKI_BUI = 0
FOR COUNT:0, 1, 9
	ANATA_BUI = COUNT:0
	FOR COUNT:1, 1, 9
		SIF MASTER_POSE(COUNT:1, COUNT:0) == 30
			EIKI_BUI = COUNT:1
	NEXT
	SIF EIKI_BUI
		BREAK
NEXT
;映姫様に触れてない時の処理
SIF EIKI_BUI == 0 
	ANATA_BUI = 0
;口上主はTARGET
;ARGに目撃者
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;情事を見られた（目撃者の亲热度:低）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORMW 「………！！」
		IF GROUPMATCH(ARG, 29, 76, 129)
			PRINTFORML （偏，偏偏，%K30_C_NAME(ARG)%被人看见了…）
		ELSE
			PRINTFORML （这样的地方%K30_C_NAME(ARG)%被人看见了…）
		ENDIF
		SIF ARG == 29
			PRINTFORML （这样的事…如果报纸刊登了，…）
		PRINTFORMDW 映姬脸色铁青
		TCVAR:30:385 = 1
		;終了記録
		CALL K30_UFUFU_RECORD
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;目撃者が負けじと参加（目撃者の亲热度:高）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		;目撃者が恋人
		IF TALENT:ARG:恋人
			;小町・久侘歌口上に便乗してます
			IF GROUPMATCH(ARG,76, 129)
				PRINTFORML 「！！」
				PRINTFORML 「%CALLNAME:ARG%…这是、因为…」
				PRINTFORML 「都是我，都是我不好…」
				PRINTFORMW 「知道你们的事的同时，\@ TFLAG:COMABLE管理 == 3 ? 行为却不检点 # 经不起诱惑 \@，我…」
				PRINTFORML 
				IF TALENT:76:恋慕 && TALENT:恋慕 && ARG == 76 
					PRINTFORML 「欸~…？　加入…？　……欸？」
					PRINTFORML 「不要逃跑，看着我…我能留在这里吗！？」
					PRINTFORMW 「如果你说这样就好的话，我还能说什么呢…」
				ELSEIF TALENT:129:恋慕 && ARG == 129 
					PRINTFORML 
					PRINTFORML 「欸~…？　姆啦姆啦憋得慌么…？　……欸？」
					PRINTFORMW 「我们所做的…%CALLNAME:ARG%不介意吗！？」
				ELSE
					PRINTFORML 「…尽管如此…这个\@ TALENT:恋慕 ? 思念 # 身体的疼痛 \@是无法阻止的」
					PRINTFORMW 「请，就这样…给我…」
				ENDIF
			;小町・久侘歌以外の恋人が同衾して鬱っぽく
			ELSE
				IF CFLAG:1801
					TCVAR:30:387 = 1
					TCVAR:30:385 = 1
				ENDIF
				PRINTFORML 「……全部都是无法抑制色欲的我不好」
				PRINTFORMW 「真的非常抱歉……%K30_C_NAME(ARG)%」
				PRINTFORMW 「……可以吗？还有，即使得到了这个人的怜悯……」
			ENDIF
		;映姫様が恋人＠ERB読んでも挙動掴めないので使わない
		ELSEIF TALENT:恋人
		;映姫様が恋慕、目撃者の陥落が恋慕以下
		ELSEIF TALENT:恋慕
			;部下が初参加
			IF GROUPMATCH(ARG, 76, 129) && GET_UWAKI_HISTORY(30, ARG) < 2
				PRINTFORML 「！！」
				PRINTFORMW 「突，突然跑来说什么呢、%CALLNAME:ARG%！？」
				PRINTFORML 「欸~…%K30_C_NAME(MASTER)%那么有干劲…」
				PRINTFORMW 「啊，已经…这样的话请随我来…」
			;其他未認識
			ELSEIF GET_UWAKI_HISTORY(30, ARG) == 0
				PRINTFORML 「%K30_C_NAME(MASTER)%、你到底在勾引多少女人！？」
				PRINTFORMW 「你有点节操……」
				PRINTFORMW 「…………………」
				PRINTFORML 「不,还是不说了吧…」
				IF TALENT:MASTER:恋人
					PRINTFORML 「…现在的我没有资格谈论贞节。」
				ELSE
					PRINTFORML 「…在快乐中堕落的我也一样呢」
				ENDIF
				PRINTFORMW 「继续吧，就这样…」
			;通常
			ELSEIF PALAM:欲情 < PALAMLV:7 || ABL:欲望 < 7 || GET_UWAKI_HISTORY(30, ARG) == 1 || GET_TARGETNUM() > 2 || ABL:露出癖 < 4
				PRINTFORML 「！！」
				IF GET_TARGETNUM() == 2
					PRINTFORML 「啊，已经…时间不早了」
					PRINTFORMW 「%K30_C_NAME(MASTER)%、只有现在…明明是我的东西…」
				ELSE
					PRINTFORMW 「什么啊，已经…这么多了就不会被放任不管了…」
				ENDIF
				PRINTFORML 
				PRINTFORML 「%K30_C_NAME(ARG)%没有停止的权利，但是…」
				PRINTFORML 「%TOKANJIS(GET_TARGETNUM())%两个人一起…怎么说呢」
				PRINTFORMW 「%K30_C_NAME(MASTER)%…请好好地爱大家，吶」
			;対抗心を出してやる気モード
			;映姫様はこんな角色じゃない気がするけど、思いついたからしょうがないよね
			;限定的な場面なのにアホみたいに処理が長い
			ELSE
				PRINTFORMDL 深陷情欲无法自拔的映姬很顺利地接受了%CALLNAME:ARG%的加入
				IF GROUPMATCH(ARG, 76, 129)
					PRINTFORMW 「呼呼、我也想和%K30_C_NAME(ARG)%一起快活……♥」
				ELSEIF ARG == 113
					PRINTFORMW 「%K30_C_NAME(ARG)%、请不要客气…这边请」
				ELSE
					PRINTFORMW 「呼呼呼♥　欢迎光临…%K30_C_NAME(ARG)%」
				ENDIF
				;恋人は死に分岐
				IF TALENT;恋人
					PRINTFORML 「但是，对于%K30_C_NAME(ARG)%，可能会让你有点失望…」
					PRINTFORML 「因为，%K30_C_NAME(MASTER)%呢…这么迷恋我♥」
				ELSEIF TALENT:MASTER:恋人 && !(TALENT:ARG:炮友 || TALENT:ARG:愛欲)
					PRINTFORML 「我们谁才是%K30_C_NAME(MASTER)%的一番…」
					PRINTDATAL
						DATAFORM 「真正喜欢的是谁…你不想知道吗♥」
						DATAFORM 「身体的相性…你不觉得又是另一回事吗♥」
					ENDDATA
				ELSE
					PRINTFORML 「……因为机会难得，让%K30_C_NAME(MASTER)%来决定吧」
					IF TALENT:ARG:炮友 || TALENT:ARG:愛欲 || TALENT:MASTER:恋人
						PRINTDATAL
							DATAFORM 「哪个更舒服更让人满意?…♥」
							DATALIST
								DATAFORM 「两个人在一起能做的只有一个人」
								DATAFORM 「那么，你会爱哪一个呢…♥」
							ENDLIST
						ENDDATA
					ELSE
						PRINTDATAL 
							DATAFORM 「哪一个才是%TEXTR("最爱的/真正的一番/本命/")%…能选吗?…♥」
							DATAFORM 「哪一个身体的配合更合得来…真正的正宫…来选吧…♥」
						ENDDATA
					ENDIF
				ENDIF
				PRINTFORMDW 映姬对%CALLNAME:ARG%说了挑衅的话之后，把视线转向%CALLNAME:MASTER%
				PRINTFORML 
				IF RAND:2 == 1
					PRINTFORML 「那么，怎么办？　%K30_C_NAME(MASTER)%…」
					PRINTFORMW 「当然……就这样继续下去吧♥」
					BUNKI = 1
				ELSE
					PRINTFORML 「我听说了？　%K30_C_NAME(MASTER)%」
					PRINTFORMW 「就这样…给你见识一下吧♥」
				ENDIF
				;女・扶她你で、そこらへん使ってたらここまで
				SIF GETBIT(TALENT:MASTER:性別, 0) && GROUPMATCH(ANATA_BUI, 2, 6)
					RETURN 1
				;[具現]持ちだけど、生えてるのは稍微…
				SIF GETBIT(TALENT:性別, 1) && EIKI_BUI == 1
					RETURN 1
				;部位一覧(1=阴茎 2=阴蒂 3=指 4=口 5=胸 6=膣 7=肛門 8=足)
				IF ANATA_BUI == 1
					SELECTCASE EIKI_BUI
						CASE 2
							PRINTFORML 「在这里被这样夹着…你，非常喜欢吧♥」
							PRINTFORMDW 兴致勃勃的映姬，湿濡湿濡的胯间在阴茎上磨蹭…
						CASE 3
							PRINTFORML 「这样一来，暴露出来的地方好好仔细看吧…」
							PRINTFORML 「…呼呼~♥　又硬起来了♥」
							PRINTFORMDW 映姬柔软的手指缠绕着%TINKO()%，慢慢地引出快感…
						CASE 4
							PRINTDATAW
								DATAFORM 「就这样抢先一步……哪里敏感哪里舒服、我都……知道♥」
								DATAFORM 「大口吃到里面的话……就会露出受不了的表情，忍耐不了吧♥」
								DATAFORM 「在这里的背面，用舌头慢慢地描的话……呸噜呸噜这样的、我明白♥」
							ENDDATA
							PRINTDATAL
								DATALIST
									DATAFORM 「对对，像这样温柔对待金玉……呼呼呼♥」
									DATAFORM 「%K30_C_NAME(MASTER)%，还有其他想让做的事情…吗♥」
								ENDLIST
								DATALIST
									DATAFORM 「还是……你喜欢别的做法？」
									DATAFORM 「大丈夫。我的话，不管多少…都想给你做……♥」
								ENDLIST
								DATALIST
									DATAFORM 「…………………」
									DATAFORM 「…果然，因为很难得，要和%K30_C_NAME(ARG)%一起舔吗？」
									DATAFORM 「从两侧一起…还是，玉袋和肉枪分开？　喜欢哪一种？…♥」
								ENDLIST
							ENDDATA
							PRINTFORMDW 无视%CALLNAME:ARG%的意志、映姬似乎忍不住想继续口淫…
						CASE 5
							PRINTDATAL
								DATAFORM 「被乳尖捅肉棒……很兴奋吧♥」
								DATAFORM 「擦在我胸前的时候，这里很烫…我知道♥」
							ENDDATA
							PRINTFORMDW 映姬全身心地投入，献身性地继续着用欧派侍奉着…
						CASE 6
							IF TALENT:子宮口性感 && RAND:3 == 1
								PRINTFORML 「这样……和我在最深处相爱，受不了……了呀♥」
								PRINTFORML 「呵呵~♥　%K30_C_NAME(ARG)%的眼前…我，就这样…♥」
								PRINTFORMDW 映姬主动推着腰，用开发完成的子宫口含着%TINKO()%…
							ELSEIF ABL:Ｖ感覚 > 9 && RAND:2 == 1
								PRINTFORML 「我最重要的地方……因为完全记住了你的攻势…」
								PRINTFORMW 「看……不管多少，我都会让你快乐的♥」
								PRINTFORML 「已经，到了其他女孩…不能满足的程度，对吧♥」
								PRINTFORMDW 映姫的%TEXTR("雌穴/肉壺/蜜壺/膣内/")%像什么生物一样蠢蠢欲动，欲吮尽%CALLNAME:MASTER%精气…
							ELSEIF ABL:Ｖ感覚 > 4 && RAND:2 == 1
								PRINTFORML 「我的这里，已经…属于你了。你可以随心所欲♥」
								PRINTFORML 「…不要放开我。把我，请就这样爱我…♥」
								PRINTFORMDW 和映姬的口吻一样，%TEXTR("雌穴/肉壺/蜜壺/膣内/")%对%CALLNAME:MASTER%缠着不放开…
							ELSE
								PRINTFORML 「在我里面，好厉害啊…肉棒又变大了，明白的明白的♥」
								PRINTFORML 「呼呼呼~♥　就这样继续下去，绝对会很舒服哦…♥」
								PRINTFORMDW 不想%CALLNAME:MASTER%被抢走的样子，映姫的%TEXTR("雌穴/肉壺/蜜壺/膣内/")%将%TINKO()%用力的收紧…
							ENDIF
						CASE 7
							PRINTFORMDL ……在%CALLNAME:ARG%的面前，针锋相对的映姬还想保持%TEXTR("从容的态度/阎魔的威严/")%
							PRINTFORMD 为了让%CALLNAME:ARG%也能看到映姬的真实面目，%CALLNAME:MASTER%对映姬
							PRINTDATADW
								DATAFORM 重新开始了对菊门激烈地活塞
								DATAFORM 要把另一个肉穴顶起来的气势插进菊门深处
								DATAFORM 毫不客气地蹂躏着尻穴
							ENDDATA
							CALL HPH_PRINT, @"「%TEXTR("恰啊嗯~/哇呜呜~/嗯嘿咔~/哇呼~")%HPHHPH　不行HPH　好哈羞HPH」", "L"
							CALL HPH_PRINT, @"「%K30_C_NAME(ARG)%、明明在看HPH　屁股、啾卟啾啵、被看见了HPHHPH」", "L"
							PRINTFORMDW 看着因肛交而疯狂的阎魔大人,%CALLNAME:ARG%\@ ABL:ARG:Ａ感覚 > 4 ? 也变成期待的目光 # 惊得目瞪口呆 \@…
						CASE 8
							PRINTFORMW 「这样……重要的地方，被用脚粗暴地对待…」
							PRINTFORMW 「……………………」
							PRINTDATAL 
								DATAFORM 「……？　真的，很舒服吗……？」
								DATAFORM 「……老实说…这个开心吗。舔足，你想要？…」
								DATAFORM 「……？　这个，有擅长或不擅长的吗……？」
							ENDDATA
							PRINTFORMDW 似乎很难向映姬传达足交的好处…
					ENDSELECT
				ELSEIF GROUPMATCH(ANATA_BUI, 3, 4) 
					SELECTCASE EIKI_BUI
						CASE 2, 6
							IF ANATA_BUI == 3
								PRINTFORML 「我%TEXTR("的…做好充分的准备、那个/这…为了不痛做准备/这、好好湿濡它/")%\@ BUNKI ? 最里面的 # 给我的地方 \@…♥」
								PRINTDATAL
									DATAFORM 「怎么样…？ 接下来，想插入吗…♥」
									DATAFORM 「当然，就这样…会继续下去吧…♥」
									DATALIST
										DATAFORM 「很在意%K30_C_NAME(ARG)%？」
										DATAFORM 「呼呼呼、不行♥　现在是我吧♥」
									ENDLIST
								ENDDATA
								PRINTFORMW 
							ELSE
								PRINTFORML 「哔戛哔戛的…看起来很好吃地舔得津津有味\@ BUNKI ? 在我里面 # 在我那里 \@…♥」
								PRINTFORMDW 映姫的%SLIT(30)%开始溢出更多%TEXTR("淫汁/蜜/爱液/")%…
							ENDIF
						CASE 4
							PRINTFORML 「吶，试着把舌头伸出来…对了，就这样…啊嗯♥」
							PRINTFORMDL 映姬锁住%CALLNAME:MASTER%的舌头、持续着浓厚令人发麻的接吻， 
							PRINTFORMW 「啾，啾噜♥　……嗯啾……啾~♥」
							PRINTDATAL
								DATAFORM 「呼呼♥　无论做多少次都不够…♥」
								DATAFORM 「…更多更多，继续吧♥」
								DATAFORM 「%K30_C_NAME(ARG)%、交替交替也可以…不要停止…♥」
							ENDDATA
							PRINTFORMDW 忘记了和%CALLNAME:ARG%的竞争，映姬完全沉迷于接吻…
						CASE 5
							IF ANATA_BUI == 3
								PRINTFORML 「嗯~♥　你的手，又大，又温暖……好舒服啊♥」
								PRINTFORML 「呼呼~、我的胸部…随你的便哦♥」
							ELSE
								PRINTFORML 「呼呼呼~♥　不管怎么说就在这里…撒娇也可以哦♥」
								PRINTFORML 「吓…讨厌♥　突然吸起来的话，会吓一跳的吧…♥」
							ENDIF
							PRINTFORMDW %CALLNAME:ARG%在\@ TALENT:ARG:胸圍 >= 1 ? 不知为何的夸耀着 # 结束 \@面对面的同时，映姬被玩弄着欧派…
						CASE 7
							PRINTFORMDL 不用%CALLNAME:MASTER%说，肛门的\@ ANATA_BUI == 3 ? 爱抚 # 奉仕 \@默默地继续
							IF RAND:2 == 1
								CALL HPH_PRINT, @"「啊嗯~HPH　等等，要是现在，被那样对待了…啊~HPH　啊啊~HPH　啊啊~嗯HPHHPH」", "L"
							ELSE
								CALL HPH_PRINT, @"「啊~…HPH　稍微等！？　那样的…张开……恰啊嗯HPHHPH」", "L"
							ENDIF
							CALL HPH_PRINT, @"「这个HPH　不行HPH　屁股，\@ ANATA_BUI == 3 ? 咕扭咕扭 # 扭溜扭溜 \@的，讨厌啊HPHHPH」", "W"
							PRINTFORMW 之前的从容不迫完全消失了，映姫的菊穴的快乐涌上来导致的阿黑颜暴露在%CALLNAME:ARG%面前…
					ENDSELECT
				ELSEIF ANATA_BUI == 5
					PRINTFORML 「明明是男人，乳头…却这么硬，很舒服吧…♥」
					PRINTFORML 「你的这里…像女孩子一样被温柔对待，就会高兴起来呢♥」
					PRINTFORMDW 让%CALLNAME:MASTER%表现出自己才是主导地位，映姬用质询的口吻对其侍奉…
				ENDIF
			ENDIF
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;目撃者が立ち去る
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		PRINTFORML 「……被看到了呢」
		PRINTFORMDL 映姬的脸色有些苍白。
	RETURN 1
	ENDIF
	;其他
ENDIF
RETURN 1

;==================================================
;目撃した情事を問い詰める（現在無し
;==================================================
@M_KOJO_EVENT_K30_8(ARG,ARG:1)
RETURN 1

;==================================================
;胖次没収された＠やり返す選択肢が欲しくなったので少し加筆
;==================================================
@M_KOJO_EVENT_K30_9(ARG,ARG:1)
#DIM 累計
#DIM 持主
#DIM 判定, 3
#DIM 一日一回
VARSET 判定
累計 = 0
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	;把柄にぎり関連フラグ
	SETBIT CFLAG:1699, 0
	SETBIT CFLAG:1699, 1
	CFLAG:1700 = CFLAG:掌握把柄
	;日記内容分岐のフラグ
	SIF DIARY:30:11 == 0
		SETBIT CFLAG:1910, 4
	IF LOCAL:1 && ARG:1 == 1
		;変Ｔで目が死んでいるときは取り上げるだけ
		IF K30_CHECK_HEN_T() && TALENT:心情 > -1
			PRINTFORML 「……你在想什么呢，总之这个没收了」
			PRINTFORML 「………………」
			PRINTFORMW 「可以。今天就请你走吧……」
			RETURN 1
		ENDIF
		VARSET LOCAL
		;胖次摘発ガバ判定＠口上内の茶番なので前日から持ち越しや睡衣ぱんつ、途中納品済みを考慮しない
		;角色全員分回す
		FOR COUNT, 1, CHARANUM
			;持ってない角色はスキップ
			SIF !SUMARRAY(PANTS_TEMP:COUNT:0, 0, MAXPANTS)
				CONTINUE
			LOCAL:累計 = COUNT
			累計 ++
			;手元にあるのが合意で貰った一種類のみなら白
			SIF CFLAG:COUNT:没穿内裤 == 2 && SUMARRAY(PANTS_TEMP:COUNT:0, 0, MAXPANTS) == 1
				CONTINUE
			;それ以外は黒
			判定:0 ++
		NEXT
		持主 = LOCAL:RAND(累計)
		;胖次の日
		IF FLAG:異常気象 == 7
			LOCAL = RAND(RANDOM_CHARANUM - 1) + 1
			PRINTFORML 「你以为能蒙蔽我的眼睛吗？」
			PRINTFORML 「这个我就没收了。」
			PRINTFORML 「那么，%K30_C_NAME(MASTER)%，如果有什么异议的话就姑且听吧…」
			PRINTFORMW 
			PRINTFORML 「原来如此……是风吹来的」
			PRINTFORML 「阁下是想将%\@ 持主 == 30 ? 我 # %K30_C_NAME(持主)% \@%的内衣捡起返还」
			PRINTFORMW 「你是碰巧遇上了吗」
			PRINTFORMDL 说到这里，映姬的视线突然游了过来
			PRINTFORMDW %CALLNAME:MASTER%仔细一看，乘风的%PANTSNAME(MAX(今天穿的内裤(LOCAL), 2), LOCAL)%正在空中飞舞…
			PRINTFORML 「……正所谓瓜田李下,这么藏起来的话当然会被怀疑的吧」
			PRINTFORMW 「果然还是把这个没收吧」
			IF CFLAG:掌握把柄 == 5
				CFLAG:掌握把柄 =0
				CFLAG:1700 = 0
			ENDIF
			CLEARBIT CFLAG:1699, 1
			RETURN 1
		ENDIF
		PRINTFORML 「如果你觉得情况很奇怪…」
		PRINTFORML 「带着这样的东西随身走路的话很奇怪，这是理所当然的！」
		PRINTFORMDW 映姫红着脸并把%\@ 持主 == 30 ? 自己 # %CALLNAME:持主% \@%の%PANTSNAME(FINDELEMENT(PANTS_TEMP:持主:0, 1, 0), 持主)%收起来了
		;判定黒or一日で二回目以上orもう貰ってるなら説教。ぱんつの枚数で説教延長
		IF 判定:0 || 一日一回 == DAY || STRCOUNT(CSTR:30:1, "ぱんつ預かり")
			CALL K30_LECTURE_CHECK(MIN(30 + (累計 * 3), 60), 0)
			RETURN 1
		ENDIF
		
		;謝罪と賠償を要求するターン
		CFLAG:掌握把柄 = 0
		CFLAG:1700 = 0
		CLEARBIT CFLAG:1699, 1
		一日一回 = DAY
		;物陰指令成否を算出
		;CALL COM_ABLE356
		;判定:1 = RESULT && (TALENT:恋慕 || TALENT:愛欲) && (ABL:露出癖 + TALENT:羞恥心 >= 3)
		;掀裙子反応と同じ基準で積極度を判断
		判定:2 = ABL:露出癖 - (K30_BE_SEEN() * 2)
		PRINTFORMW 「那么，你有什么辩解吗?？」
		PRINTFORMW 「………………………………」
		PRINTFORMW 「欸~、从%K30_C_NAME(LOCAL:RAND(累計))%…那里赠与的…？」
		PRINTFORML 「面对阎魔，拙劣的谎言是行不通的…不过……」
		PRINTFORML 「……以防万一，确认一下吧」
		PRINTFORMDW 映姬些许着急地拿出净琉璃之镜窥察着…
		CALL K30_D_LINE
		PRINTFORML 「\@ TALENT:恋慕 ? 对不起 # 真是非常抱歉 \@…%K30_C_NAME(MASTER)%正如他所说…」
		PRINTFORMW 「以为是奇怪的借口真的对不起……」
		PRINTFORMDL 看来镜子里的%CALLNAME:MASTER%是清白的
		IF TALENT:恋慕
			PRINTFORMDL 映姬似乎因为自己的审判错误而大受打击
		ELSE
			PRINTFORMDL 映姬似乎无法接受自己的判断有误
		ENDIF
		PRINTFORMDL …这里就算要求一个道歉也可能会通过
		RESETCOLOR
		CALL ASK_YN("不要道歉，要胖次","以宽广的胸怀原谅你")
		CALL M_KOJO_COLOR_K30
		SELECTCASE RESULT
			;ぱんつ渡す
			CASE 0
				PRINTFORMDL 代替%CALLNAME:MASTER%被拿走的内裤
				PRINTFORMDL 要求现在就把映姬穿的胖次让渡
				PRINTFORMW 
				IF !CFLAG:没穿内裤
					PRINTDATAL
						DATAFORM 「请稍等一下……是现在穿的吗…？」
						DATAFORM 「把穿的交给……是认真的吗？」
					ENDDATA
					PRINTDATAL
						DATAFORM 「我没有带替代穿的内衣…」
						DATAFORM 「那样的……如果把这个交给你的话，我……会变得没有内衣的…」
						DATAFORM 「在这种地方…就算你说我让脱衣服的，我也不会…」
					ENDDATA
					IF 判定:2 > 3 && CFLAG:好感度 > 5000
						WAIT
					ELSE
						PRINTFORMDW 正如预想的那样，映姬拒绝了，但也许是因为自己错了，所以抵抗心也很弱
					ENDIF
					PRINTFORML 「如果做不到的话……%K30_C_NAME(LOCAL:RAND(累計))%把内裤还给我…？」
					SIF 判定:2 <= 3 || CFLAG:好感度 <= 5000
						PRINTFORML 「………这样，如果你能原谅我的话」
					PRINTFORML 「明白了。现在……我要脱了…」
					IF 判定:2 > 3 && CFLAG:好感度 > 5000
						WAIT
						PRINTFORMDL 虽然嘴上是一口否决的，但是映姬的态度为什么看不出来厌恶呢
						PRINTFORMDL 岂止如此，在被%CALLNAME:MASTER%的催促之前，主动開始把手搭在内衣上…
					ELSE
						PRINTFORMDL 结果映姬妥协了，把内裤交给了%CALLNAME:MASTER%\@ 判定:2 <= 3 ? 不情愿地 # \@同意了
					ENDIF
					PRINTFORMW 
					IF 判定:2 <= 3
						PRINTFORML （好害羞好害羞好害羞…！）
						PRINTFORML （为什么…为什么会变成这样…）
					ELSEIF CFLAG:好感度 <= 5000
						PRINTFORML （%K30_C_NAME(MASTER)%…视奸的，也很厉害…）
						PRINTFORML （总觉得身体也…火辣辣的…）
					ELSE
						PRINTFORML （内衣，可能沾上污渍了…明明不可以兴奋的，但是一想到%CALLNAME:MASTER%会拿去做什么，就忍不住妄想……）
						PRINTFORML （把这个交给%K30_C_NAME(MASTER)%的话……会怎么做呢…♥）
					ENDIF
					PRINTFORMDL 阎魔大人被%CALLNAME:MASTER%反复舔舐的视线前脱下了裤衩…
					PRINTFORMW 
					PRINTFORMDL 映姬刚脱下的\@ PALAM:潤滑 > PALAMLV:4 ? 带着粘稠污渍的 # \@%PANTSNAME(EQUIP:30:下半身内衣２, 30)%入手了！
					PRINTFORMDW %CALLNAME:MASTER%把%PANTSNAME(EQUIP:30:下半身内衣２, 30)%谨慎的收好
					CALL K30_PANTS_GETTING
				;没穿内裤露出プレイ＠掀裙子反応と同じ条件分岐+高欲情
				ELSEIF CFLAG:好感度 > 5000 && 判定:2 > 3 && PALAM:欲情 >= PALAMLV:7
					PRINTFORMW 「………………」
					PRINTFORML 「对不起……那可不行」
					PRINTFORML 「因为我现在…没穿啊…」
					IF EQUIP:TARGET:裤子
						PRINTFORMDL 这样说的映姬自己把%SHOW_BOTTOM(30)%脱下，%UNDER_SKIRT_DESCRIPTION(30)%展示了出来
					ELSE
						PRINTFORMDL 说着这种话映姬自己%SHOW_BOTTOM(30,1)%往上撩，%UNDER_SKIRT_DESCRIPTION(30)%展示了出来
					ENDIF
					PRINTFORMW  爱蜜从暴露的%SLIT()%变成拉丝的液体滴下…
					PRINTFORML 「%K30_C_NAME(MASTER)%…喏，你看…♥」
					PRINTFORML 「怎么样…%TEXTR("明白吗？　没有的袖子不会甩/这样你能接受吗/这样的话就明白了吧")%♥」
					PRINTFORMDW 在%CALLNAME:MASTER%的坏影响下，就连顽古不化的阎魔也完全变成了因暴露而性奋的涩情身体
					PRINTFORML 「道歉的“内衣”现在就交给你…」
					PRINTFORMW 「现在只看这里…能原谅不要脸的映姬吗♥对不起，阎魔殿下已经变成一个喜欢不穿内裤的无耻女人了」
					TCVAR:30:377 = -1
				;没穿内裤羞恥PLAY
				ELSE
					PRINTFORMW 「………………」
					PRINTFORML 「对不起……我不能做那个…」
					PRINTFORMW 「即使被问到为什么……嗯，现在……没有…」
					PRINTFORMDL %CALLNAME:MASTER%故意装作不懂，问了问没有什么
					PRINTFORML 「那个，平时……平时没有这样的事…」
					PRINTFORML 「今天早上，明明应该是穿的……现在，内衣……没穿…」
					PRINTFORMDW 在刁难的诱导下，映姬甚至被迫发表了没穿内裤的宣言，连耳朵都红了
					PRINTFORML 「道歉会在今天之内交给你…」
					PRINTFORMW 「现在请…请饶了映姬吧…」
					TCVAR:30:377 = -1
				ENDIF
;			;物陰プレイはやたらバグ多いから塞ぐ
;			CASE 1
;				PRINTFORMDL %CALLNAME:MASTER%拉着映姬的手，把她带到暗处
;				PRINTFORMW 
;				PRINTFORML 「%K30_C_NAME(MASTER)%！？　到底在做什么…」
;				PRINTFORML 「欸！ ？ 居然想在这里野合…那样的…」
;				PRINTFORML 「如果是你的话…虽然不讨厌，但是就算这样…」
;				PRINTFORMDL 不出所料，映姬的抵抗没有像平时那样坚决
;				PRINTFORMW 
;				PRINTFORML 「………………」
;				PRINTFORMW 「…无论如何都要做，是吗？」
;				PRINTFORML 「……是啊。确实，我犯了一个错误」
;				PRINTFORML 「即使是阎魔，犯罪也要受到惩罚」
;				PRINTFORMW 「用你的手…惩罚映姬的身体…」
;				PRINTFORMDL 看来映姬想出了欺骗自己的权宜之计
;				PRINTFORMDW 为了达到行为%CALLNAME:MASTER%让映姬的衣服敞开了…
;				;物陰指令と同じ処理を行う
;				CALL 潜伏場所決定処理
;				CFLAG:MASTER:诶嘿嘿 = 1
;				CFLAG:TARGET:诶嘿嘿 = 1
;				SETBIT CFLAG:TARGET:潜伏状態,0
;				SETBIT FLAG:潜伏,0
;				BASE:MASTER:潜伏率 = 100
;				IF !UFUFU_START_TIME
;					UFUFU_START_TIME = TIME
;					UFUFU_START_DAY = DAY
;				ENDIF
;				TFLAG:COMABLE管理 = 2
;				CALL K30_PRESET_UFUFU
			CASE 1
				IF TALENT:恋慕
					PRINTFORML 「能原谅我吗…感激不尽」
					PRINTFORMW 「竟然会犯这样的错误，我也还不成熟呢」
				ELSEIF TALENT:思慕
					PRINTFORML 「谁都有错误……但我，不是被允许的立场，对吧？」
					PRINTFORMW 「今后会注意的」
				ELSE
					PRINTFORML 「是啊，宽容的心是非常重要的」
					PRINTFORML 「你也应该尽量避免让人产生奇怪的怀疑吧」
					PRINTFORMDW …为什么这么居高临下。%CALLNAME:MASTER%稍微有点烦躁
				ENDIF
				PRINTFORML 
				PRINTFORMDL 绅士的举止使映姬的信赖度有所提高
				CALL CHANGE_CFLAG(4, TARGET, 5)
		ENDSELECT
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;遠距離移動中に胖次を回収された
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2 
		;変Ｔで目が死んでいるときは取り上げるだけ
		IF K30_CHECK_HEN_T() && TALENT:心情 > -1
			PRINTFORML 「……你在想什么呢?那个我没收了」
			PRINTFORML 「………………」
			PRINTFORML 「很好。 你今天可以走了……」
		ELSE
			PRINTFORML 「你以为可以瞒过我的眼睛吗？」
			PRINTFORML 「这个我就没收了。」
				;胖次の日
			IF FLAG:異常気象 == 7
				PRINTFORML 「即便在这种奇怪的天气里，如果藏着东西也会惹怀疑的」
				PRINTFORML 「找借口什么是不行的」
				CFLAG:掌握把柄 -= 5
				CFLAG:1700 -= 5
			ELSE
				PRINTFORML 「而且是个好机会。说起来你……喂!等等!」
				PRINTFORMDL %CALLNAME:MASTER%从映姬的说教中逃了出来！
			ENDIF
		ENDIF
	ENDIF
	PRINTFORML 
ENDIF
RETURN 1

;==================================================
;推倒た
;==================================================
@M_KOJO_EVENT_K30_10(ARG,ARG:1)
#DIM YAJYU
#DIM KONOMI
#DIM DABURI
#DIM NIGASANAI
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;诶嘿嘿==2（開始時）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		;诶嘿嘿時に立つフラグ
		VARSET TCVAR:30:0, 0, 383, 388
		TCVAR:30:376 = 2
		CALL K30_PRESET_UFUFU
		;-------------------------------------------------
		;MASTERを推倒た（開始時）
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			;雑に口交・Ｖ・Ａのどれが好きか決めておく
			KONOMI = 51
			SIF ((EXP:Ｖ性交経験 > 0 && EXP:Ｖ絶頂経験 > EXP:口淫経験) || TALENT:子宮口性感) && !RAND:3
				KONOMI = 85
			SIF ((EXP:Ａ性交経験 > 0 && EXP:Ａ絶頂経験 > EXP:Ｖ絶頂経験) || TALENT:尻穴狂) && !RAND:3
				KONOMI = 87
			SIF TALENT:妊娠願望 || GETBIT(CFLAG:1502, 4)
				KONOMI = 85
			;被逆推フラグ立ちっぱで、把柄減ってたら制裁で中断入った…ことにしておく
			IF TCVAR:30:376 && (TCVAR:30:381 != CFLAG:掌握把柄)
				PRINTFORML 「果然还是沉不住气啊」
				PRINTFORML 「如果不再欺负你一点的话…总觉得很无聊」
				PRINTFORMW 「%K30_C_NAME(MASTER)%，就这样安静下来吧…♥」
				CALL K30_PRESET_UFUFU
				RETURN 1
			ELSEIF TALENT:恋慕
				IF FIRSTTIME("推倒") && CFLAG:30:1801 == 1
					CALL K30_WRITE_DIARY(31)
					PRINTFORMDL %CALLNAME:MASTER%不知道发生了什么
					PRINTFORMDW 等回过神来，已经被满脸通红的映姬抱住了
					PRINTFORML 「咕，映姬我…多么…多么下流的事啊…」
					PRINTFORML 「但是，再也不能…忍耐了…注意到的时候，身体已经自己做主求欢…」
					PRINTFORMDW 不知道为什么，逆推的映姬比%CALLNAME:MASTER%更混乱…
					PRINTFORMW 「………………」
					PRINTFORML 「…也许，很久以前……就想这么做了」
					PRINTFORMW 「如果是你的话…无论多么害羞的事情…H…也想让你看看这样的身体…好爱你！」
					PRINTFORMW 「%K30_C_NAME(MASTER)%，映姬好爱你啊，即使是这样的我……可以吗？」
				;媚薬漬けで満足してない
				ELSEIF GETBIT(TCVAR:30:367, 3)
					TCVAR:30:随便 = 1
					BASE:MASTER:勃起 = MAX(BASE:MASTER:勃起, 1001)
					PALAM:潤滑 = MAX(PALAM:潤滑, PALAMLV:3)
					TCVAR:30:次回Counter = KONOMI
					CALL CTRL_CLOTHES_SET(30, "現在衣装の変更_全裸")
					CALL CTRL_CLOTHES_SET(MASTER, "現在衣装の変更_全裸")
					CALL CLOTHES_SETTING_TRAIN(30)
					CALL CLOTHES_SETTING_TRAIN(MASTER)
					IF NIGASANAI != DAY
					    PRINTFORMDL 尽管压制的力道不大,但不知为何%CALLNAME:MASTER%的身体却动弹不得
					    PRINTFORMDL 映姬咯咯笑着一件件剥去%CALLNAME:MASTER%的内裤
					    PRINTFORMDW ...看样子已经惊醒了某个了不得的大家伙
					    PRINTFORML
					    PRINTFORML 「...明明先用药物撩拨我,自己爽了就想走人...太自私了吧」
					    PRINTFORML 「如果你一直强加这种任性的欲望给我的话」
					    PRINTFORMW 「无论我接下来对你做什么...你都会原谅我的,对吧♥」
					    PRINTFORML 「...不过,我也不需要你的允许就是了」
					    PRINTFORML 「现在我想要的,只有%K30_C_NAME(MASTER)%的...这里♥」
					    PRINTFORMDL 映姬面带淫靡的笑容,用力抚弄起%CALLNAME:MASTER%的阴茎
					    PRINTFORMDW 在比平时更有进攻性的手淫下,%CALLNAME:MASTER%很快就准备就绪了
					    PRINTFORML 
					    PRINTFORML 「呵呵呵...这次可逃不掉了...♥」
					    PRINTFORMDW 映姬脱得一干二净,逼近了%CALLNAME:MASTER%...
					ELSE
					    PRINTFORML 「好了,辛苦您了...♥」
					    PRINTFORML 「如果您还有那么充沛的精力,不如再对我用力些...我不介意的♥」
					    PRINTFORML 「那我们继续吧♥」
					    PRINTFORMDW ...看样子逃不掉了
					ENDIF 
					NIGASANAI = DAY
				;仕事出勤前(07:00～)
				ELSEIF !CHARA_HOLIDAY(30) && TIME >= 420
					;仕事前に抑えられなくなって、なりふり構わずいきなり本番…というイメージ。そのためにちょっと下駄を履かせる
					IF KONOMI > 70
						BASE:MASTER:勃起 = MAX(BASE:MASTER:勃起, 1001)
						PALAM:潤滑 = MAX(PALAM:潤滑, PALAMLV:3)
					ENDIF
					TCVAR:30:次回Counter = KONOMI
					PRINTFORML 「这样……已经没有时间的时候，我…！」
					PRINTFORML 「但是……怎么也抑制不住……这样的话，审判什么的……无论如何也…」
					PRINTFORMDW 焦急和欲望下，映姬一手颤抖着，一手用力搭在%CALLNAME:MASTER%的衣服上…
					PRINTFORMW 「快点…快点！ 给我……！」
				;薬キメックス
				ELSEIF INRANGE(TCVAR:30:379, 1, 5)
					SELECTCASE TCVAR:30:379 
						CASE 1
							PRINTFORML 「哼哼~♥　你的欧金金，好厉害啊……」
							PRINTFORMDW 看到%CALLNAME:MASTER%从翻開的内裤中迫不及待跳出的%TINKO()%，映姬的眼中浮现出喜悦的颜色
						CASE 2
							PRINTFORML 「呼呼呼~♥　%K30_C_NAME(MASTER)%也准备好了呢…和我一起」
							PRINTFORMDW %CALLNAME:MASTER%的紧绷欲出的胯间，映姬陶醉地抚摸着
						CASE 3
							PRINTFORML 「诶嘿嘿♥　非常的，精神呀…♥　那么，我给你放在哪里的嘴里呢…」
							PRINTFORMDW 不是对%CALLNAME:MASTER%，而是映姬对着咯吱咯吱的阴茎说话
						CASE 4
							PRINTFORML 「子宫好痛，受不了……这样的，不能忍耐…」
							PRINTFORML 「准备好了，映姬一定会让你快活的。拜托，请把你的种子统统倒进小映姬下流的花房里吧♥」
							PRINTFORMDW 映姬『只想怀孕』的欲望，把所有的思考都被涂掉了…
						CASE 5
							PRINTFORML 「啊啊啊♥　好厉害，身体……好热，受不了…♥」
							PRINTFORML 「已经…啊那里\@ KONOMI == 87 ? 还有、屁股 #  \@…好难过…快点，快点…」
							PRINTFORMDW 映姬想要用因欲情而颤抖的手把%CALLNAME:MASTER%的衣服剥掉
					ENDSELECT
					TCVAR:30:次回Counter = KONOMI
					TCVAR:30:379 += 10
				;１日２回推倒てくる激しい映姫様
				ELSEIF YAJYU == DAY
					IF ABL:欲望 > 9 && PALAM:欲情 >= PALAMLV:9 && K30_PUSH_DOWN() > 450
						;推倒てすぐ咥え込む…という流れにしたいので、TINKOに木屐を履かせる
						SIF KONOMI > 70
							BASE:MASTER:勃起 = MAX(BASE:MASTER:勃起, 1001)
						TCVAR:30:次回Counter = KONOMI
						PRINTFORML 「对不起…完全，不满足…只有那几个还不够」
						PRINTFORMW 「……来自我的，下流请求……可以听我说吗？」
						SELECTCASE KONOMI
							CASE 51
								PRINTFORMW 「给我，欧金金…让我舔一下，这个，用下流的嘴…请用一下…」
							CASE 85
								IF K30_CREAMPIE()
									PRINTFORMW 「我的，舒服的，地方…馒，小妹妹…戳一下，安慰一下，请…」
								ELSEIF (TALENT:妊娠願望 || GETBIT(CFLAG:1502, 4)) && 充填率(30, 4) < 21
									PRINTFORMW 「更加，怀孕的那样，满足…小妹妹，馒头的…里面，子宫里…溢出来…」
								ELSE
									PRINTFORMW 「你的精液，我的…小妹妹，馒头，请给我，更多，直到溢出来为止…」
								ENDIF
							CASE 87
								PRINTFORMW 「在屁穴上，欧金金…想要。已经变成不挿入进去就不行…」
						ENDSELECT
					ELSE
						PRINTFORML 「%K30_C_NAME(MASTER)%…我也是，『女人』」
						PRINTFORMW 「也不是圣人君子，这样半途而废，无法忍受…」
						PRINTFORMW 「好好地…请安慰我到最后…」
					ENDIF
				;変Ｔ
				ELSEIF K30_CHECK_HEN_T()
					PRINTFORML 「……请老实点」
					PRINTFORMW 「现在我想做。我想做了……」
					PRINTFORMDW ……积压了许多的东西好像爆发了
					PRINTFORMW 「陪我到我心满意足为止…%K30_C_NAME(MASTER)%」
				;妊活日
				ELSEIF (TALENT:妊娠願望 || GETBIT(CFLAG:1502, 4)) && ESTRUS_CYCLE(30) >= 100
					PRINTFORML 「呼呼呼…现在開始做的是正确的男女生活」
					PRINTFORMW 「我会把那个好好地告诉光想着色情事的你」
					PRINTFORMW 「……………」
					PRINTFORML 「…也不讨厌舒服，但是，今天…」
					PRINTFORMW 「给我…注入，让我造…和你的宝宝」
				;我慢してきました
				ELSEIF CFLAG:1603 > 2
					PRINTFORML 「%K30_C_NAME(MASTER)%、你能…夸夸我吗？」
					PRINTFORMW 「我，一直是忍耐着来的……一个人自我安慰的」
					PRINTFORML 「非常难过…但是，想和你…做…」
					PRINTFORMW 「好好地忍耐了…所以，请给我奖励…请」
					PRINTFORMW 「我\@ CFLAG:1603 == 4 ? 的…屁股 # \@那，满足…能好好疼爱映姬吗♥」
			;[一線超えない]かつ[恋慕]持ちは被逆推確率2.4倍なので口上多め
				ELSEIF CFLAG:积攒度 >= 500
					SELECTCASE RAND:3
						CASE 0
							PRINTFORML 「你这么挑逗阎魔大人是怎么想的？」
							PRINTFORMW 「呼呼呼……你希望这样吗♥」
						CASE 1
							PRINTFORML 「和你相遇之后我也变得相当坦率了」
							PRINTFORML 「我也意识到了没有必要这样忍耐」
							PRINTFORMW 「呼呼、请做好觉悟…♥」
						CASE 2
							PRINTFORML 「这疼痛已经无法止住了」
							PRINTFORML 「你能明白吗？　%K30_C_NAME(MASTER)%的原因，所以」
							PRINTFORMW 「这就是惩罚。就像我想干的那样…让映姬我来做吧♥」
					ENDSELECT
				ELSEIF CFLAG:积攒度 >= 300
					SELECTCASE RAND:3
						CASE 0
							PRINTFORML 「顽固的阎魔大人也完全染上%K30_C_NAME(MASTER)%的颜色」
							PRINTFORMW 「你一定要好好负责……♥」
						CASE 1
							PRINTFORML 「请不要说什么『不知羞耻』之类的话了……」
							PRINTFORMW 「而且，%K30_C_NAME(MASTER)%也想这样做吧……♥」
						CASE 2
							PRINTFORML 「只是让我稍微着急，已经受不了了…」
							PRINTFORML 「所以映姬决定就这样马上享受」
							PRINTFORML 「是你的错，还是…托你的福？ ……你觉得是哪个♥」
					ENDSELECT
				ELSE
					SELECTCASE RAND:3
						CASE 0
							PRINTFORML 「呼呼呼~…把我堕落到这种地步的%K30_C_NAME(MASTER)%真是罪孽深重的人…」
							PRINTFORML 「必须要好好地给他裁决呢」
							PRINTFORMW 「好色的阎魔大人会把你的色欲…给榨干哟♥」
						CASE 1
							PRINTFORML 「真的是我……和以前不同了」
							PRINTFORML 「只是和%K30_C_NAME(MASTER)%说话看动作……已经抑制不住了」
							PRINTFORML 「并不讨厌哦？」
							PRINTFORMW 「只是…你要为改变我的行为…负责♥」
						CASE 2
							PRINTFORML 「…每个人都有欲望。阎魔也一样啊」
							PRINTFORML 「所以呢……现在才注意到，映姬的欲望…」
							PRINTFORML 「一直以来压抑的部分……也许比谁都强烈」
							PRINTFORMW 「……做好觉悟了吗，%K30_C_NAME(MASTER)%♥」
					ENDSELECT
				ENDIF
			ELSE
				PRINTFORMDL 而且根本没有可以反抗余地,映姫也似乎还游刃有余的样子…
				PRINTFORMW 「是你,都是你不好。一定都是你做了什么的关系！」
				PRINTFORMW 「才让我变得这么奇怪。请好好负起责任！」
				PRINTFORMDW 确实\@ MARK:30:時姦刻印 > 0 ? 在时停时 # 用了药 \@做了很多很多各种各样的事,所以很乐意负起这份责任…
			ENDIF
			CALL K30_PRESET_UFUFU
			YAJYU = DAY
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;MASTERに抱きついた（開始時）＠抱きつきは女同士限定なので適当
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			IF TALENT:恋慕 && K30_CHECK_HEN_T()
				PRINTFORML 「……请老实点」
				PRINTFORMW 「现在我想做。我想做了……」
				PRINTFORMDW ……积压了许多的东西好像爆发了
				PRINTFORMW 「直到我满意为止，让你陪着我吧…%K30_C_NAME(MASTER)%」
			ELSEIF TALENT:恋人
				SELECTCASE RAND:3
					CASE 0
						PRINTFORML 「顽固的阎魔大人也完全染上%K30_C_NAME(MASTER)%的颜色」
						PRINTFORMW 「你一定要好好负责……♥」
					CASE 1
						PRINTFORML 「请不要说什么『不知羞耻』之类的话了……」
						PRINTFORMW 「而且，%K30_C_NAME(MASTER)%也想这样做吧……♥」
					CASE 2
						PRINTFORML 「光是焦急等着,马上就又难受了起来」
						PRINTFORMW 「这都是%K30_C_NAME(MASTER)%的错……♥」
				ENDSELECT
				PRINTFORMDW 映姬一边这样说着一边向%CALLNAME:MASTER%进攻了…
			ELSEIF TALENT:恋慕
				PRINTFORML 「吶%K30_C_NAME(MASTER)%，你知道你在做什么吗？」
				PRINTFORMW 「\@ TALENT:MASTER:恋人 ? 明明心里已经有心上人了,却还 # 什么都不考虑,随意地 \@对各式各样的女性出手…」
				PRINTFORMW 「结果连阎魔都发情了，多么过分的人啊……♥」
				PRINTFORMDW 映姫按住了%CALLNAME:MASTER%的身体,在耳边喃喃地低语让耳朵有些痒痒的
				PRINTFORML 「现在開始就由我来制裁沉溺于淫欲罪孽深重的你吧。只是嘴上说说已经没法让你明白了……」
				PRINTFORMW 「充分榨取的话，至少可以抑制色欲吧，%K30_C_NAME(MASTER)%……♥」
			ELSE
				PRINTFORMDL 而且根本没有可以反抗余地,映姫也似乎还游刃有余的样子…
				PRINTFORMW 「是你,都是你不好。一定都是你做了什么的关系！」
				PRINTFORMW 「才让我变得这么奇怪。请好好负起责任！」
				PRINTFORMDW 确实\@ MARK:30:時姦刻印 > 0 ? 在时停时 # 用了药 \@做了很多很多各种各样的事,所以很乐意负起这份责任…
			ENDIF
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;なだめられた（終了時）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		;-------------------------------------------------
		;抜け出した
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			;[淫乱]付与中に次ターンで確定押し倒され=満足させてない
			IF GETBIT(TCVAR:30:367, 2) && K30_PUSH_DOWN() > 600
				;拠点内なら次ターンに持ち越し
			IF !CHK_DATENOW(CFLAG:TARGET:约会中)
			    CALL K30_UFUFU_RECORD(1)
			    SETBIT TCVAR:30:367, 3
			    CFLAG:30:延迟 = 0
			    PRINTFORML 「...欸,这种半途而废的...结束掉!?」
			    PRINTFORML 「把我...弄成这样,然后就...」
			    PRINTFORML 「..................」
			    PRINTFORMDW 映姬脸上开朗的笑容瞬间消失了...
			ELSE
			    PRINTFORMDW ...不过映姬却并没有就此放过
			    PRINTFORML 
			    PRINTFORML 「刚才的药,看来还在发挥着效果...♥」
			    PRINTFORML 「这样的话...停下来,是不可能的哦♥」
			    PRINTFORML 「放心吧,等我满足了...自然会放开你的♥」
			    PRINTFORMDW 看来只能继续了...
					COM_STR = K30_搾り取りモード
				ENDIF
			ELSE
				CALL K30_UFUFU_RECORD
			PRINTFORML 「诶，嗯，是的呢。 到此为止吧…」
			PRINTFORMDW 想起自己有些失态的样子,映姬的脸变红了……
			ENDIF
			RETURN 1
		ENDIF
		;終了記録
		CALL K30_UFUFU_RECORD
		;-------------------------------------------------
		;抱き着きモード満足終了
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			IF TALENT:恋慕
				PRINTFORML 「这种做法有时也不错……%K30_C_NAME(MASTER)%」
				PRINTFORMDW 好像要醒过来的样子，映姬满足地从%CALLNAME:MASTER%上分開了
			ELSE
				PRINTFORMW 「诶？也,也是呢。这次就到此为止吧」
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;抱き着きモード強制終了
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML 「为什么要在这种时候半途而废……」
			PRINTFORMDW 映姬不情愿地从%CALLNAME:MASTER%上分開了
			RETURN 1
		ENDIF
	ENDIF
	;-------------------------------------------------
	;摆脱失敗
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		;-------------------------------------------------
		;随便状態から抜け出せなかった
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			IF GETBIT(TCVAR:30:367, 3)
				PRINTFORML 「现在是阎魔的审判时刻...从上至下,单方面的,呐...♥」
				PRINTFORMW 「用人的身份去违抗...是不被允许的哦♥」
			ELSE
				PRINTFORML 「你,刚才也说了『随你的便』吧」
				PRINTFORMW 「你打算对阎魔大人撒谎吗？不会让你这么做的」
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;欲求不満が高くて抜け出せなかった
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			IF TCVAR:30:363 == -2
				PRINTFORMDL 想推開骑在身上的映姬，却完全没有了行动的力量…
			ELSEIF TALENT:恋慕
				PRINTFORMDL %CALLNAME:MASTER%手忙脚乱地扭动着身体，但映姬却不介意
			ENDIF
			IF TALENT:恋慕
				PRINTDATAL
					DATAFORM 「不・行・哟，因为你已经没有退路了…♥」
					DATAFORM 「不会放过你的」\n「所以老实点安静些好吗…♥」
					DATAFORM 「已经想放弃了吗？」\n「但是，对不起……我完全不准备放过你…♥」」
				ENDDATA
			ELSE
				PRINTFORML 「我,我还完全没有满足呢！」
			ENDIF
			IF !TALENT:恋慕
				PRINTFORMDW 想拔出来却被紧紧抱住了……
			ELSE
				WAIT
			ENDIF
			RETURN 1
		ENDIF
	ENDIF
	;-------------------------------------------------
	;誘ってきた（人目につかない場所に行きたがるやつ）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		;重複防止
		SIF DABURI == TIME || CFLAG:30:同行
			RETURN 1
		DABURI = TIME
		LOCALS =%K30_C_NAME(K30_FIND_AROUND(),2)%
		CALL M_KOJO_COLOR_K30
		;被逆推未経験
		IF CFLAG:1801 && !STRCOUNT(CSTR:30:0, "推倒")
			PRINTFORML 「%TEXTR(@"啊，那个/%K30_C_NAME(MASTER)%/欸…欸多")%………」
			PRINTFORML 「%TEXTR(@"不，没什么/对不起，请不要介意")%…」
			IF ARG:1 < 800 
				PRINTFORMDL 映姬看起来像是在拼命压抑着什么…
			ELSE
				PRINTFORMDL 说到这里，映姬还想掩饰…
			ENDIF
		;兒童がいるでしょ
		ELSEIF TFLAG:描写中の兒童 == 30 && GET_TARGETNUM() == 1 && INROOM(CFLAG:MASTER:現在位置)
			IF ONCE("兒童の前")
				PRINTDATAL
					DATAFORM （啊啊…我在%SHOW_CHILDNAME(30)%面前真是太差劲了…）
					DATAFORM （我，明明是妈妈…%SHOW_CHILDNAME(30)%，对不起啊…）
					DATAFORM （%SHOW_CHILDNAME(30)%也在看，却无法忍耐…我…）
				ENDDATA
			ENDIF
			RESETCOLOR
			RETURN
		;欲求不満度=地の文で分岐
		ELSE
			SELECTCASE ARG:1
				CASE 1000
					PRINTDATAL
						DATAFORM 「吶……你明白吧♥ 还是必须直接亲口说……才行？」
						DATAFORM 「拜托了，真的拜托了…已经很难受了…♥」
						DATAFORM 「好害羞，非常不好意思……已经无法抑制了…♥」
						DATAFORM 「快点，快点…带我去%LOCALS%看不到的地方…♥」
					ENDDATA
				CASE 800 TO 999
					PRINTDATAL
						DATAFORM 「…你要是被%LOCALS%看到了也会坐立不安吧？」
						DATAFORM 「吶……互相忍耐是不好的…」
						DATAFORM 「去%LOCALS%没看到的地方…快点去吧…」
					ENDDATA
				CASEELSE
					PRINTFORML 「……%TEXTR(@"場所、要不要换一下/没有什么安定的地方吗/不想稍微休息一下吗？")%」
			ENDSELECT
		ENDIF
		RESETCOLOR
		RETURN 1
	ENDIF
	;其他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;浴場で遭遇
;==================================================
@M_KOJO_EVENT_K30_11(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;追い出された
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF TALENT:恋人
			PRINTFORML 「对不起，今天想一个人进去」
			PRINTFORMW 「想泡澡的话请过会再来吧…」
		ELSEIF TALENT:恋慕
			PRINTFORML 「那个,想要一起泡澡？」
			PRINTFORMDW 映姬犹豫了很久，最终还是被拒绝了。
			PRINTFORML 「对不起。我还是想一个人进去…」
		ELSE
			SIF DIARY:30:19 == 0
				CALL K30_WRITE_DIARY(19)
			PRINTFORMW 「～～～～～～！！」
			PRINTFORMDW 映姬发出无声的惨叫展開了弹幕！
			PRINTFORMDW %CALLNAME:MASTER%慌慌张张地从浴场逃了出来…
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;目が合った（追い出されない）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF TALENT:恋人 || CFLAG:MASTER:初期位置 == CFLAG:30:初期位置
			PRINTFORMW 「%K30_C_NAME(MASTER)%…请，这边有空」
			PRINTFORMW 「一会儿给你搓背吧」
			PRINTFORMDW 脱下制服的映姬非常献身
		ELSEIF TALENT:恋慕
			PRINTFORMW 「这样啊,现在想泡澡么」
			PRINTFORMW 「好吧,到这里来吧」
			PRINTFORMDW 映姬的脸红红的，可能是洗澡时上火了吧
		ELSEIF TALENT:思慕
			PRINTFORMW 「确实这边的浴场是混浴呢」
			PRINTFORMW 「没办法。那我就去那边的地方吧」
		ELSE
			PRINTFORMDW 映姬差点叫出声来，但想起现在是混浴。
			PRINTFORMDW 映姬露出警戒心，转移到浴池的角落
		ENDIF
	RETURN 1
	ENDIF
	;其他
ENDIF
RETURN 1

;==================================================
;寝床に忍び込み＠MAP実装時に備えて
;==================================================
@M_KOJO_EVENT_K30_12(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;追い出される（憤怒）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF TALENT:恋人
			PRINTFORMW 「……现在不想呆在一起」
		ELSEIF TALENT:恋慕
			PRINTFORMW 「……不要管我」
		ELSE
			PRINTFORMW 「别開玩笑了。赶紧出去！」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;寝床に侵入
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML 「zzz…」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;寝床に侵入（相手が恋慕）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		IF TALENT:恋人
			PRINTFORMW 「啊、%K30_C_NAME(MASTER)%か…别吓我……」
		ELSE
			PRINTFORMW 「欸、%K30_C_NAME(MASTER)%？　为什么在这里？」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;寝床に侵入（相手が恋慕・衰弱）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		IF TALENT:恋人
			PRINTFORMW 「嗯ー……%K30_C_NAME(MASTER)%……现在…不行……」
		ELSE
			PRINTFORMW 「%K30_C_NAME(MASTER)%………现在……让我睡觉吧……」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;追い出される
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 4
		IF TALENT:恋人
			PRINTFORMW 「不管你怎么说……还是有些为难啊」
		ELSEIF TALENT:恋慕
			PRINTFORMW 「潜进来什么的可是不行的哦」
		ELSE
			PRINTFORMW 「你想干什么？请赶紧出去！」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;追い出される（衰弱）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 5
		IF TALENT:恋人
			PRINTFORMW 「对不起……现在想休息会」
		ELSEIF TALENT:恋慕
			PRINTFORMW 「我有些累了。可以请你出去吗？」
		ELSE
			PRINTFORML 「明明都已经很累了……」
			PRINTFORMW 「现在刚好休息一会。赶紧出去吧！」
		ENDIF
		RETURN 1
	ENDIF
	;其他
ENDIF
RETURN 1

;==================================================
;お仕事中＠小鈴口上構文参考にしました
;==================================================
@M_KOJO_EVENT_K30_13(ARG,ARG:1)
#DIM 連打防止
;口上主はTARGET
;ARG:1に残っている工作量
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL && 連打防止 != TIME && CFLAG:30:職種 == 43
	連打防止 = TIME
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;工作開始（職場へ移動する）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		;诶嘿嘿中断
		IF TFLAG:COMABLE管理 > 1
			;終了記録
			CALL K30_UFUFU_RECORD
			SIF MAXARRAY(TCVAR:30:0, 385, 388)
				RETURN 1
			IF TALENT:恋慕
				;被逆推確率で随意満足かどうか判断
				LOCAL = (K30_PUSH_DOWN() > 100)
				PRINTFORM 「%TEXTR("讨厌/骗人/")%！　
				PRINTDATAL
					DATAFORM 不抓紧就来不及了！」
					DATAFORM 已经是这个时间了！」
					DATAFORM 不快点就要迟到了！」
				ENDDATA
				;お腹にたっぷり
				IF 充填率(30, 1) > 10
					PRINTFORMDL 在匆忙打扮的途中，映姬突然倒吸一口气，按住了胯下大腿间…
					PRINTFORMW （唔…♥　刚才的那个，又垂下来了…）
					SIF 充填率(30, 2) > 10
						CALL HPH_PRINT, @"（呼啊…HPH　屁股，又…有感觉了……HPH）", "W"
				;お尻にたっぷり
				ELSEIF 充填率(30, 2) > 10
					PRINTFORMDL 映姬在匆忙打扮的途中，突然按住玉臀不自然地停下脚步…
					CALL HPH_PRINT, @"（啊呼…HPH　现在，从屁股里又開始…HPH）", "W"
				;まだ不満
				ELSEIF LOCAL
					IF TCVAR:30:376 == 1
						PRINTDATAL
							DATAFORM 「所以我说了要你等…」
							DATAFORM 「工作前撩起火干嘛…」
							DATAFORM 「被这样半途而废，我也很难受…」
						ENDDATA
					ELSE
						PRINTDATAL
							DATAFORM 「现在忍耐一下…不快点的话…」
							DATAFORM 「不好好切换的话…」
							DATAFORM 「虽然还很难过，但是时间…」
						ENDDATA
					ENDIF
				ELSE
					PRINTDATAL
						DATAFORM 「想办法掩饰一下…啊！讨厌，跳到这样的地方…」
						DATAFORM 「欸多，发型，服装，还有随身物品……啊，必须快点…」
						DATAFORM 「再稍微注意一下仪容…啊，但是时间不多了…」
					ENDDATA
				ENDIF
				IF LOCAL
					PRINTDATADW
						DATAFORM 映姬抑制着情欲去工作了
						DATAFORM 身体的燥热几乎没退，映姬就去工作了
						DATAFORM 映姬子宫发痛的身体强忍着去工作了
					ENDDATA
				ELSE
					PRINTDATADW
						DATAFORM 身体里还残留着情事的余香，映姬去工作了
						DATAFORM 汗水汽与毛发黏贴一起，映姬去工作了
						DATAFORM 映姬草草地擦了擦溅出的体液，就去工作了
					ENDDATA
				ENDIF
				PRINTFORML 
				PRINTDATAW
					DATAFORM 「这张脸…会不会被发现我做了什么?…」
					DATAFORM 「我，有没有闻到味道…」
					DATAFORM 「讨厌…衣服上到处都是污渍…」
				ENDDATA
			ENDIF
		;お風呂
		ELSEIF BATHROOM(CFLAG:現在位置)
			PRINTFORMW 「身体也洗干净了，差不多该去工作了吧」
		;変Ｔ
		ELSEIF K30_CHECK_HEN_T()
			PRINTFORML 「……………%TEXTR("……/想休息一下/啊啊…/")%」
			PRINTFORMDW 映姬走向工作的脚步似乎很沉重…
		;通常
		ELSE
			PRINTDATAW
				DATAFORM 「那么，是完成我的任务的时间了吧」
				DATAFORM 「来吧，今天一天也加油吧」
				DATAFORM 「那么，差不多该去工作了吗」
			ENDDATA
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;業務中
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML 
		SELECTCASE TIME
			;裁判中
			CASE 540 TO 719
				IF RAND:5
					PRINTDATAL
						DATAFORM 「…狡言饰非。妄图蒙骗阎魔的法眼？　……」
						DATAFORM 「…嗯，是的。尔生前如此恶行……」
						DATAFORM 「…事到如今再后悔已然为时已晚。甚为可惜，汝……」
						DATAFORM 「…隐藏也没用。汝之行径都在这面镜子里……」
						DATAFORM 「…很遗憾，这不能说是善行。倒不如说……」
						DATAFORM 「…吓得说不出话来。事到如今还不醒悟吗……」
						DATAFORM 「…其他人也做过吗？即使如此，这一恶行的责任全在于汝……」
					ENDDATA
					PRINTDATADL
						DATAFORM 映姬一边说教一边进行审判
						DATAFORM 映姬严厉地斥责着死者
					ENDDATA
				ELSE
					PRINTDATAL
						DATAFORM 「…即使周围的人不看好，这些优秀的行为也不是白费。……」
						DATAFORM 「…出色的不是裁决的我，而是被裁决的你……」
						DATAFORM 「…哎，在这种情况下做到了这一点。可以说是善行……」
						DATAFORM 「…能审判你，倒不如说我很荣幸……」
					ENDDATA
					PRINTFORMDL 映姬对死者说着祝福的话
				ENDIF
				IF K30_CHECK_HEN_T()
					PRINTFORML 
					PRINTDATADL
						DATAFORM 即便如此，庄重的发言和服装也完全不搭…
						DATAFORM 死者的灵魂看到阎魔的样子，不知如何反应…
						DATAFORM 审判的判官和接待的秘书都很为难…
						DATALIST
							DATAFORM 『绝对不能笑的最终审判24小时』
							DATAFORM 突然脑海里闪过这样的短语…
						ENDLIST
					ENDDATA
				ENDIF
				PRINTFORMW
			;事務処理
			CASE 780 TO 1019
				PRINTDATAL LOCAL
					DATAFORM 「『東方花映塚、steam发售中！！』…」\n「……？？」\n「是什么呢…这？」
					DATAFORM 「『四季大人，恭喜获得人气投票2023第25名！！』…」\n「……？？」\n「…投票？　順位？？　这是怎么回事…？」
					DATAFORM 「『有钱能使鬼推磨！？怀疑阎魔大人有守财奴嫌疑！！』……」\n「什…！？　多么可笑！！」
					DATAFORM 「『是非曲直庁的平和日常？　贪睡的死神大公開！』……」\n「…………」\n「…小～野～冢～小～町～～！！」
					DATAFORM 「『把生命和金钱放在天平上衡量！？』…」\n「『没错，幻想乡最腐败的就是阎魔他们！』…」\n「…………！！」
					DATAFORM 「好，这边结束了，下一个…」
					DATAFORM 「这个数目…有点不对劲呢…」
					DATAFORM 「嗯？　好像之前也有类似的报告…」
					DATAFORM 「那么，接下来是…」
					DATAFORM 「今天之内必须做到这里…」
					DATAFORM 「地底的怨灵没问题、と…」
					DATAFORM 「旧都方面没问题、と…」
					DATAFORM 「地狱的妖精在那之后就没有问题了、と…」
					DATAFORM 「外面世界的影响…？ 这个……稍微有点变化…」
					DATAFORM 「御阿礼之子…发生这种事…」\n「也该考虑一下接待准备了…」
					DATAFORM 「中有之道…等等这个销售额不好啊…」\n「真的需要扶持吗…」
					DATAFORM 「冥界的幽灵们也不见了…」\n「交给她的话，应该没问题吧」
					DATAFORM 「畜生界的变动、ね…」\n「想尽量避免干涉畜生界…」
					DATAFORM 「哇…什么啊…这份敷衍了事的报告…」\n「……谁写的，一目了然啊」
					DATAFORM 「嗯……这样的话最重要的内容…」\n「那孩子只要不健忘，就得一百满分…」
					DATAFORM 「怀有强烈怨恨的怨灵进入了冥界…」\n「…再交给她们一段时间吧」
					DATAFORM 「旧地狱也有黑水吗…」\n「需要稍微调查一下吗…」
					DATAFORM 「茨华仙的事也已经了结…」\n「还有小町的报告书…没问题吧…」
					DATAFORM 「额…申请书，还有几份呢，这个…」\n「死神的帮助别人…善后工作也很麻烦…」
					DATAFORM 「从鲸吞亭平安带回了那个亡灵，と…」\n「结果不是因为小町的偷懒…」
					DATAFORM 「修缮费…要花这么多啊…」\n「这个建筑物，想改修一下……这样的话不行吗…」
					DATAFORM 「在三途之川底打洞，太荒谬了…」\n「得让久侘歌好好调查一下…」
					DATAFORM 「堆石比赛…」\n「水鬼们不要费力气堆石就好了」\n「会一直停留在三途之川…」
					DATAFORM 「移动信用卡的新市场…」\n「哈啊…市场的活跃化是欢迎的」\n「和中有之道…好像没有关系呢…」
					DATAFORM 「最终黑水落入秘神和饕餮的手中…」\n「难道就没有更稳妥的办法吗…？」
					DATAFORM 「反獄王…」\n「如果我出马的话马上就可以了结了」\n「…能再多信任你一点吗」
				ENDDATA
				SELECTCASE LOCAL
					CASE 0, 1
						PRINTFORMDL 文件里好像混了什么
						PRINTFORMDL 映姬歪着头看着不太明白的语句…
					CASE 2, 3
						PRINTFORMDL 好像看到了夹在文件里的可疑报纸
						PRINTFORMDL 报道的内容是%TEXTR("愤怒/焦躁/愤怒")%的映姫…
					CASE 4
						PRINTFORMDL 映姬气得拿着文件的手都在颤抖
						PRINTFORMDL 好像看到了山童们的煽风点火的字句…
					CASEELSE
						PRINTFORMDL 映姫正\@ K30_CHECK_HEN_T() ? 心无杂念地 # \@处理着大量的事务工作
				ENDSELECT
				PRINTFORMW
			;書類整理
			CASE 1020 TO 1139
				PRINTDATAL
					DATAFORM 「好……这里结束了，呼…」
					DATAFORM 「这样做的话，确认起来会很轻松吧…」
					DATAFORM 「啊，这里得好好收拾一下…」
				ENDDATA
				PRINTFORMDL 映姫正\@ K30_CHECK_HEN_T() ? 心无杂念地 # \@在进行工作的交接
				PRINTFORMW
		ENDSELECT
		CALLF ONCE("お仕事拝見")
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;工作結束
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTDATAL
			DATAFORM 「呼…交接业务也结束了」
			DATAFORM 「好……做到这里就没问题了吧」
			DATAFORM 「…最终确认好了。轮班工作，结束了…」
		ENDDATA
		IF TCVAR:30:帮忙工作量
			IF TIME < 1140
				PRINTFORML 「谢谢你的帮助。托您的福，早早就结束了」
			ELSE
				PRINTFORML 「谢谢您的帮助，得救了。」
			ENDIF
		ENDIF
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;吃飯系
;==================================================
@M_KOJO_EVENT_K30_14(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;持っていた食物を食べられる
	;TCVAR:盗み食い抑制で持っていた食物を食われるのを回避できる
	;盗み食いする閻魔様なんていなかった。イベント抑制できるの本当にありがたいです
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	CALL M_KOJO_COLOR_K30
	IF LOCAL:1 && ARG == -1
		TCVAR:盗み食い抑制 = 1
		PRINTFORML 「…你在警戒什么呢」
		PRINTFORML 「我不会随便吃别人的东西」
		IF K30_CHECK_HEN_T()
		ELSEIF STRCOUNT(DISH_TASTE, "劣化/")
			PRINTFORMDW 被映姬盯上了…
			PRINTFORML 「比起这个，我更在意好不容易做的菜一直放在这里」
			PRINTFORMW 「只做不吃，难道不觉得对不起食材和为你做的人吗?？」
			IF DISH_ASSI
				PRINTFORML 「啊…！？这是和%K30_C_NAME(DISH_ASSI)%一起做的东西…」
				PRINTFORMW 「更不行了！　你要自觉这对%K30_C_NAME(DISH_ASSI)%也是不礼貌的！」
			ENDIF
			PRINTFORMW 「说起来，你平时就……」
			PRINTFORMW 「……………？　…………！」
			PRINTFORMW 「…………！！　……！」
			PRINTFORMDW 被映姬说教了…
		ELSEIF STRCOUNT(DISH_TASTE, "辣/") > 1
			WAIT
			PRINTFORML 「光是…看起来就非常美味了」
			PRINTFORMW 「阁下享用的时候，我也一起吃好吗…？」
		ENDIF
		RESETCOLOR
		RETURN 1
	ENDIF
	;其他
ENDIF
RETURN 1

;==================================================
;MASTERが推倒た
;==================================================
@M_KOJO_EVENT_K30_15(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;各部位のうち最大の絶頂回数を入れる
	LOCAL = MAXARRAY(TCVAR, 390, 395)
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;未実装（推倒指令に統合？
	;MASTERが推倒た（ウフフ開始時）
	;記入チェック（=0, 非表示、1, 表示）
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 1
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;逢瀬終了（ウフフ終了時）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		;終了記録
		IF FLAG:時間停止
			PRINTFORMDL 在冻结的时光里侵犯完了映姬
			PRINTFORMDW 想感谢自己连阎魔殿下都能为所欲为的能力。
			PRINTFORMW 整理衣服放開了映姬。净琉璃之镜却捕捉到了%CALLNAME:MASTER%的身姿……
			CALL K30_UFUFU_RECORD
			RETURN 1
		;强行
		ELSEIF TCVAR:30:386 == 1
			PRINTFORMW 「……明明这么相信你」
			PRINTFORMW 「……背叛了阎魔殿下……」
			CALL K30_UFUFU_RECORD
			RETURN 1
		;烂酔奸終了
		ELSEIF TCVAR:30:烂醉 == 1
			PRINTFORMW 「唔～……唔呼呼呼♪」
			PRINTFORMDW 在映姬的酒醒之前结束了事情…
			CALL K30_UFUFU_RECORD
			RETURN 1
		;まぐろ判定有効時
		ELSEIF TCVAR:30:385
			;恋人が同衾＠映姫様は気に病みそう
			IF TCVAR:30:387 == 1
				PRINTFORML 「………………」
				PRINTFORMDW 虽然委身于一时的快乐，但映姬的心也乱成一团。
				PRINTFORML （……我所想的是能成为你的……但你心里却已经有%K30_C_NAME(TALENT:MASTER:恋人)%了……）
				PRINTFORMW （竟然被这样低劣的想法所囚禁,我到底……）
			;炮友
			ELSEIF TALENT:愛欲 || TALENT:炮友 || TALENT:風騷
				PRINTFORML 「………………」
				PRINTFORMDW 正打扮的映姬的脸看起来很阴沉……
				PRINTFORML （一边向人说教,一边却自己沉溺于色欲中……）
				PRINTFORMW （太不像话了……自己真是多么像话啊……）
				PRINTFORML （一边这样想着,一边还要去追求那个人……我为什么会这样……）
			;思慕以下での行為は乗り気でない
			ELSEIF !TALENT:恋慕
				IF TALENT:思慕
					PRINTFORML 「…………………」
					PRINTFORMDW 即便是寄托了感情，对%CALLNAME:MASTER%以身相许，映姬感到踌躇着
					PRINTFORMDW 映姬一边抑制着烦躁的心情，一边整理了衣服
				ELSE
					PRINTFORML 「…………………」
					PRINTFORMDW 对于轻易地委身于人，映姬陷入了混乱和后悔的念头中。
					PRINTFORMDW 映姬带着忧郁的心情整理衣服。
				ENDIF
			ENDIF
			CALL K30_UFUFU_RECORD
			RETURN 1
		ENDIF
		;絶頂満足度判定（ナズ口上参考しました）
		;[淫乱]付与中に次ターンで確定押し倒され=満足させてない
		IF GETBIT(TCVAR:30:367, 2) && K30_PUSH_DOWN() > 600
			SETBIT TCVAR:30:367, 3
			;拠点内なら次ターンに持ち越し
			IF !CHK_DATENOW(CFLAG:TARGET:约会中)
			    CALL K30_UFUFU_RECORD(1)
			    CFLAG:30:延迟 = 0
			    PRINTFORML 「欸...已经,停下来了吗...!?」
			    PRINTFORML 「明明我,还没......」
			    PRINTFORMDW 怀着火热的身体,映姬明显看起来很不满
			    PRINTFORML 「这样的话...太过分了吧」
			    PRINTFORMDW ......映姬眼底隐约透着阴郁的光芒
			ELSE
			    PRINTFORML 「...............」
			    PRINTFORML 「......对呀,您已经满足了」
			    PRINTFORMW 「这很好啊......但是」
			    PRINTFORMDL 下一刻,%CALLNAME:MASTER%就被映姬压倒在地!
			    PRINTFORMDW 在阎魔大人散发的淫气影响下,%CALLNAME:MASTER%根本无法反抗...
			    PRINTFORML 
			    PRINTFORML 「我这边,还远远没满足呢♥」
			    PRINTFORML 「所以%K30_C_NAME(MASTER)%...我们继续吧♥」
			    PRINTFORMW 「在我满足之前...是不会放开你的♥♥」
			    COM_STR = K30_搾り取りモード
			ENDIF
			RETURN 1
		ENDIF
		;媚薬モード解除で終了記録
		CALL K30_UFUFU_RECORD
		;絶頂満足度判定（ナズ口上参考しました）
		;五重絶頂3回OR2回で2分の１でヤ松鼠ギ判定
		IF TCVAR:30:397 > 2 || (TCVAR:30:397 == 2 && RAND:2 == 1) && CFLAG:妊娠自覚状態 == 0
			CALL HPH_PRINT("「呜啊…HPH　啊啊……――唔、啊～～……HPHHPH――HPH」", "L")
			PRINTFORMDW 浮现出恍惚的表情，目光呆滞空虚，映姬身体不停地颤抖着
			PRINTFORMDL 眼泪和口涎……爱液和肠液中混杂着汗水和精液，整张脸，不，包括身体都被粘稠光泽的体液浸裹
			PRINTFORMDW 沉溺于可怕的快感乐园的阎魔也好像也堕落成为了一只因肉欲而呻吟的雌性……
			CALL HPH_PRINT("「――――啊啊HPHHPH……――哈咿HPH」", "L")
			PRINTFORMDW 担心地%CALLNAME:MASTER%碰了碰映姬的身体，映姬就这么趴在地上颤抖着喘息…
		;攻守交代後即終了
		ELSEIF TCVAR:30:362
			TCVAR:30:362 = 0
			CALL KIGEN_CHANGE(30, 100, -1)
			PRINTFORMW 「……你真坏」
		;今回絶頂無し＠射精回数で変化
		ELSEIF !SUMARRAY(TCVAR:30:0, 390, 395)
			IF TCVAR:30:396 == 0
				PRINTFORML 「…%K30_C_NAME(MASTER)%,难道身体不舒服吗？」
				PRINTFORMW 「那个,因为完全没有射出来的」
				PRINTFORMW 「不舒服吗？映姬侍奉的完全不舒服吗…」
			ELSEIF TCVAR:30:396 < 3
				PRINTFORML 「已经满足了吗？不用忍耐哦？」
				PRINTFORMW 「更多的…用映姬的下流身体舒服起来也可以的哦？」
			ELSEIF TCVAR:30:396 > 5 && TCVAR:30:395 > 0 && ABL:30:精液中毒 > 4 && RAND:2 == 1
				PRINTFORML 「呼呼、奉仕出很多呢♥」
				PRINTFORMW 「%K30_C_NAME(MASTER)%如果是这样的话，无论多少都会喝…♥」
				PRINTFORMDL 满脸笑容说着话的映姬嘴角也还粘着%CALLNAME:MASTER%的%SAMEN_DESCRIPTION(PLAYER)%…
				PRINTFORMW 「啊哈,还有残存的呢」
				PRINTFORMDW 映姫用手刮着把%SAMEN_DESCRIPTION(PLAYER)%放进嘴里，用力的嘬吸着舔干净了
				;こんな事言わせておいてすぐ被逆推ても那个なので…
				CFLAG:延迟 += 30
			ELSE
				PRINTFORML 「唔呼呼,辛苦了。满足了么？」
				PRINTFORML 「映姬我？当然了，我也很满足」
				PRINTFORMW 「我能感觉到你也很快乐的样子。这样我也十分高兴。」
				CFLAG:延迟 += 30
			ENDIF
		;せっかく開発したならなんかフレーバー欲しいよね判定＠死に分岐だけど書いて満足したのでヨシ
		ELSEIF TALENT:尻穴狂 && TCVAR:30:393 == 0 && (TCVAR:30:390 + TCVAR:30:391 + TCVAR:30:392 ) >= 10
			PRINTFORMW 「你…是明明知道,还故意这样的吧……？」
			PRINTFORMDW %CALLNAME:MASTER%故意装模作样地问一下是什么事
			PRINTFORMW 「………………屁…股……上…屁股上的…屁股上的小穴………里面很难受」
			PRINTFORMW 「你的手指，用你的欧金金，把这个下流的洞镇住♥……求求你了，狠狠操死映姬啊♥」
			PRINTFORMDW 看到阎魔大人摆弄自己雪臀的屁眼和恳求的呜咽声，%CALLNAME:MASTER%得到了嗜虐的满足感
		ELSEIF TALENT:淫壺 && TCVAR:30:391 >= 10 && 充填率(30, 1) >= 40 && CFLAG:妊娠自覚状態 == 0 && RAND:4 == 1
			PRINTFORMDW 即使已经高潮已经注入了那么多的%SAMEN_DESCRIPTION(PLAYER)%,映姬还是无法满足的样子…
			PRINTFORMW 「%K30_C_NAME(MASTER)%…拜托了，对我更加…更多的注入吧…」
			PRINTFORMW 「疼得没办法了,请将沉溺于色欲之罪的我,变得更加堕落吧……」
			PRINTFORMDW 虽然不停地玩弄着%SLIT(TARGET)%，但是没能到达阴道深处而烦恼着
			PRINTFORMDW 看见映姬忍不住握住了神圣的悔悟棒往雪丘伸去,%CALLNAME:MASTER%吃惊的立马惊愕地让她放手“自慰棒”
		;子作りに励んだ
		;=口服避孕薬無し、妊娠願望持ちでMASTER濃厚精液、排卵誘発剤or危険日周辺で『%CALLNAME:MASTER%の精で満たされている…』の条件をクリア
		ELSEIF 充填率(30, 4) > 20 && TALENT:MASTER:濃厚精液 && (TALENT:妊娠願望 || GETBIT(CFLAG:1502, 4)) && (ESTRUS_CYCLE(30) >= 70 || TCVAR:強制排卵) && !TCVAR:口服避孕薬
			PRINTFORML 「%K30_C_NAME(MASTER)%也为了我忍耐了很久呢…」
			PRINTFORML 「给我统统灌满…可以期待吗♥」
			IF RAND:2 == 1
				SELECTCASE 充填率(30, 3)
					CASE IS < 50
						PRINTFORMDW 映姬小心翼翼地抚摸着已经配种的下腹
						PRINTFORMW 「小宝宝…要是能成功就好了…」
					CASE 50 TO 99
						PRINTFORMDW 映姬满意地抚摸着有点胀的肚子
						PRINTFORMW 「灌注了这么多…一定能做到吧…」
					CASEELSE
						WAIT
						PRINTFORML 「……话说回来，这个量就像開玩笑一样吧」
						PRINTFORMW 「不管怎么说也出得太多了吧…」
						PRINTFORML 「……………………」
						PRINTFORML 「嘛，但是…」 
						PRINTFORMDL 映姬一边困惑一边珍惜地抱着膨胀的肚子
						PRINTFORMW 「这样的话我们也一定能做到。种族的差异也能跨越吧…」
				ENDSELECT
			;開発進むと死に分岐になるので
			ELSE
				PRINTFORMDL 映姫被切实的灌入了种子\@ 充填率(30, 3) > 49 ? 鼓鼓的肚子 # 下腹部 \@珍惜地抚摸着
				PRINTFORMW 「小宝宝…能做到就好了呢」
			ENDIF
		;各部位絶頂数で10以上がある
		ELSEIF LOCAL >= 10 
			FOR COUNT,390, 395
				SIF LOCAL == TCVAR:30:COUNT
					LOCAL:1 = COUNT
			NEXT
			;同率一位ならお尻が優先
			SIF TCVAR:30:392 == LOCAL
				LOCAL:1 = 392
			PRINTFORMDW 结束了与\@ TALENT:恋人 ? 所爱的 # 恋慕不已的 \@%CALLNAME:MASTER%的交欢，映姬沉浸在余韵中
			SELECTCASE LOCAL:1
				;Ｃ絶頂ばかりさせた
				CASE 390
					PRINTFORML 「那个，太过玩弄的话…好像会变肿的样子…」
					PRINTFORML 「虽然很舒服继续下去也没关系,但真的没问题么…」
					PRINTFORMDW 把映姫的阴蒂豆豆从包皮上剥出来，一直膨胀着…
				;Ｖ絶頂ばかりさせた
				CASE 391
					PRINTFORMW 「啊，啊……被爱了很多啊……♥」
					;妊娠願望+膣内精液で分岐
					IF 充填率(30, 1) && (TALENT:妊娠願望 || GETBIT(CFLAG:1502, 4)) && !TCVAR:口服避孕薬
						PRINTFORML 「…呼呼呼♥　%K30_C_NAME(MASTER)%知道这样一个故事吗？」
						PRINTFORML 「怀孕的时候如果女方很舒服的话…好像会生男孩子」
						PRINTFORML 「如果今天能命中的话……这个孩子绝对是男孩啊♥」
						PRINTFORMDW 映姬陶醉在绝顶的幸福感和对怀孕的期待中…
					ELSE
						PRINTFORMDL 映姬幸福地微笑着
						PRINTFORMDW 阴道口突然张開，爱液\@ 充填率(30, 1) ? 与精液混合 # \@好像溢出来了…
					ENDIF
				;Ａ絶頂ばかりさせた
				CASE 392
					PRINTFORML 「我自己也觉得自己很不像话…是这么想的…」
					PRINTFORML 「但是,映姬屁股上的小穴…太舒服了……」
					PRINTFORML 「现在也…还…想被疼爱呢…♥」
					PRINTFORMDW %CALLNAME:MASTER%開发的映姬好像完全习惯了肛穴之乐…
				;Ｂ絶頂ばかりさせた
				CASE 393
					PRINTFORML 「乳头还在酥酥发麻的感觉……%K30_C_NAME(MASTER)%是那个…」
					PRINTFORML 「喜欢小一点的吗？」
					PRINTFORML 「男人的话，果然还是大的比较……恰呀♥」
					PRINTFORMDW 因为是映姬的胸部所以才喜欢，%CALLNAME:MASTER%轻轻地弹了一下一直勃起的乳头
				;Ｍ絶頂ばかりさせた
				CASE 394
					PRINTFORML 「呼呼~♥　阎魔殿下的香舌和小嘴…您享受到了吗♥」
					PRINTFORML 「哎哎、我也很满足」
					PRINTFORML 「近距离感受%K30_C_NAME(MASTER)%…一起心情变好的那种感觉…」
					PRINTFORMW 「已经，上瘾了呢…♥」
			ENDSELECT
		;五ヶ所の合計で25回以上絶頂させた
		ELSEIF MATCH(TCVAR:30:0, 390, 394) >= 25
			PRINTFORML 「哈啊…哈啊…已经回不来了……赛高…♥」
			PRINTFORMW 「阎魔因为过愉悦而登上极乐…呼呼,听起来很奇怪呢…」
		;4回以上出して半分は口に射精した
		ELSEIF TCVAR:30:396 < (TCVAR:30:395 * 2) && TCVAR:30:396 > 3
			PRINTFORML 「呼呼，%K30_C_NAME(MASTER)%的味道和气味全都记住了♥」
			PRINTFORMW 「我能感觉到你也很快乐的样子。这样我也十分高兴。」
			PRINTFORML 「但是喉咙和下巴有点痛。可能以后一段时间再说什么长篇大论会很困难吧………！？」
			PRINTFORML 「欸…不会吧，%K30_C_NAME(MASTER)%…这就是你的目的？」
			PRINTFORMDW 假装不知道在说什么的%CALLNAME:MASTER%身体被映姬用眼睛盯着…
		;あとはそこそこ満足ということで汎用的
		ELSE
			PRINTFORMDW 结束了与\@ TALENT:恋人 ? 所爱的 # 恋慕不已的 \@%CALLNAME:MASTER%的交欢，映姬沉浸在余韵中
			SELECTCASE RAND:3
				CASE 0
					PRINTFORML 「唔呼呼…真是,太棒了」
					PRINTFORMW 「下次也请多多爱我哦」
				CASE 1
					PRINTFORML 「感受着你的感觉,染上你的色彩」
					PRINTFORML 「是非常棒的事情呢」
					PRINTFORMW 「再这样做一会吧…」
				CASE 2
					PRINTFORML 「%K30_C_NAME(MASTER)%想变得舒服起来就寻求我」
					PRINTFORMW 「只要这样映姬我也会变得幸福…」
			ENDSELECT
		ENDIF
		;朝诶嘿嘿フラグ処理
		SIF INRANGE(TCVAR:30:363, -4, -2)
			TCVAR:30:363 = -5
		IF K30_CHECK_HEN_T()
			PRINTL
			PRINTFORMDL ……情事余韵一落，映姬又想起了现在的情况
		ENDIF
	ENDIF
 	;其他
	;-------------------------------------------------
	;事後描写
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		;-------------------------------------------------
		;精液が垂れてきた
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;愛液が垂れてきた
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;事後の情緒
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 3
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;服を着る
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 4
			PRINTFORML 「时间确认」
			PRINTFORML 
			RETURN 1
		ENDIF
	ENDIF
ENDIF
RETURN 1

;==================================================
;陪睡
;==================================================
@M_KOJO_EVENT_K30_16(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;添い寝を始めた（開始時）(存在せず
	;記入チェック
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 1
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;添い寝を終了した（終了時）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;其他
ENDIF
RETURN 1
;==================================================
;時止め終了時＠美鈴口上参考にしました
;==================================================
@M_KOJO_EVENT_K30_17(ARG,ARG:1)
#DIM BEST
;口上主はTARGET
;排他と明記されていないモノは状況によっては連続で表示されるので注意
;ARGに射精状況
;ARG:1に射精状態
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;推倒フラグ解除
	TCVAR:30:376 = 0
	;どの部位が一番絶頂多いか調べておく
	BEST = 50
	FOR COUNT, 51, 55
		SIF EX:COUNT > EX:BEST
			BEST = COUNT
	NEXT
	;もちろんお尻が優先
	SIF EX:無自覚Ａ絶頂 == EX:BEST
		BEST = 52
	SELECTCASE BEST
		CASE 50
			LOCALS = おまめ
		CASE 51
			LOCALS = なか
		CASE 52
			LOCALS = おしり
		CASE 53
			LOCALS = 胸部
		CASE 54
			LOCALS = おくち
	ENDSELECT
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;ARG=1～3は排他
	;謎の快感
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF BEST == 52 && ABL:30:Ａ感覚 > 5 && ABL:30:露出癖 > 4
			CALL HPH_PRINT, @"「%TEXTR("啊嗯/啊呼/呀嗯/")%……HPH」", "L"
			LOCAL = 0
		ELSE
			PRINTFORML 「%TEXTR("洽/洽嗯/呀/")%……！？」
		ENDIF
		IF 仕事中チェック(30) && BETWEENTIME(540, 719) && CFLAG:MASTER:現在位置 == CFLAG:30:職場 && CFLAG:30:職種 == 43
			PRINTFORMDL 就在说教的途中，映姬发出了不合时宜的声音…
			PRINTFORMW 「………！！」
			SELECTCASE RAND:3
				CASE 0
					PRINTFORML 「咳哈！　咳嗯咳嗯…」
					PRINTFORML 「…咳。对不起……我继续」
					PRINTFORMDL 企图用强行咳嗽来来敷衍过去
					PRINTFORMDL 这是一种一边了解情况一边看着就会笑的景象
				CASE 1
					PRINTFORML 「………」
					PRINTFORML 「…活着就是一种罪过。尽，管如，此，你还是……」
					PRINTFORMDL …就这样继续说教，好像就当什么也没发生过
					PRINTFORMDL 但是羞耻和快乐把脸染成了红色，声音也颤抖到无法掩饰的程度
				CASE 2
					PRINTFORML 「………………………」
					PRINTFORML 「对不起。继续，继续…」
					PRINTFORMDL 长时间沉默之后，非常尴尬地重新開始说教
					PRINTFORMDL 望着映姬为难的样子，%CALLNAME:MASTER%坏心眼地呵呵笑了…
			ENDSELECT
			PRINTFORMW 
			LOCAL = 1
		ELSE
			IF LOCAL
				PRINTFORMD 映姬发出可爱的尖叫
				PRINTDATADL
					DATAFORM 然后心神不宁地游移着视线
					DATAFORM 无法理解自那以后发生了什么，很困惑
					DATAFORM 眼看着脸涨的通红了
				ENDDATA
				PRINTDATAL
					DATAFORM 「什，什么都没有。不要在意…」
					DATAFORM 「对，对不起。感觉有点奇怪…」
				ENDDATA
				PRINTFORMW 
			ELSEIF TCVAR:30:364
				PRINTFORMDL 映姬突然感受到的快感让她发出可爱的惊叫声
				IF TCVAR:30:365 < 2
					PRINTFORMW （诶…为、为什么呀！？）
					PRINTFORML （刚才，突然间…感觉变得舒服了…？）
					PRINTFORMDW 缓慢持续着的快感突然变强，映姬很困惑…
				ELSE
					CALL HPH_PRINT, @"（声音，出来了…HPH）", "W"
					PRINTFORML （但是，刚才那个…为什么，突然…？）
					PRINTFORMDW 袭击而来的快感让映姬感到困惑...
				ENDIF
				RETURN 1
			ELSE
				PRINTFORMDL 比别人更敏感一倍的肛门被玩弄，映姬发出了无法忍受的甜声
				PRINTFORML 「………………」
				PRINTFORMDW 但是，不知为什么映姬连掩饰都做不到…
				CALL HPH_PRINT, @"「…………%TEXTR("啊哈~/来了/")%HPH」", "L"
			ENDIF
		ENDIF
		IF LOCAL
			PRINTDATAL 
				DATAFORM （什么！？发生了什么事…？）
				DATAFORM （欸…？　诶诶！？　到底是什么…？）
				DATAFORM （稍等一下…这是什么！？什么啊！？）
			ENDDATA
		ENDIF
		SELECTCASE BEST
			CASE 50
				PRINTFORMW （明明摸都没摸，可是豆子…很痛…）
			CASE 51
				PRINTFORMW （什么……什么，在我的……里面…？）
			CASE 52
				IF LOCAL
					PRINTFORMW （屁股…什么的，绝对…不能说…！）
				ELSE
					PRINTDATA
						DATAFORM （好快乐好舒服好舒服呀~——~…
						DATAFORM （这个…喜欢，屁股…好舒服，最喜欢了…
						DATAFORM （%K30_C_NAME(K30_FIND_AROUND(), 2)%也没有被发现…那样的话，就这样…
					ENDDATA
					CALL HPH_PRINT, @"HPH）", "W"
					PRINTFORMDW ……好像还沉浸在肛门绝顶的余韵里
				ENDIF
			CASE 53
				PRINTFORMW （为什么…！？乳头，如此这样…）
			CASE 54
				PRINTFORMW （我，什么时候…张着嘴在流着口水都不知道…？）
		ENDSELECT
		LOCAL:99 = 0
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;絶頂＠時止め中の絶頂30以上が条件
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		CALL HPH_PRINT, @"「%TEXTR("咿呀/呼/啊哈ー/")%HPH　%TEXTR("不行/一库/咿呜/")%HPH」", "L"
		IF BEST == 52 && ABL:30:Ａ感覚 > 5 && ABL:30:露出癖 > 4
			CALL HPH_PRINT, @"「屁股HPH　屁股的穴啊HPH　要去了咿咿咿HPHHPH」", "L"
			LOCAL = 0
		ELSE
			PRINTFORMDW 无法忍受突然袭来的强烈快乐，映姬发出了不该有的声音
		ENDIF
		IF 仕事中チェック(30) && CFLAG:MASTER:現在位置 == CFLAG:30:職場 && CFLAG:30:職種 == 43
			IF LOCAL
				PRINTFORML 「！！　…啊♥　……啊♥　啊，的…」
				IF TIME < 720
					PRINTFORML 「暂暂时、休廷…这样……就就这样…给！等我，等一下…」
				ELSEIF TIME >= 780
					PRINTFORML 「有点……累了……稍微，休！息，一下！…」
				ELSE
					PRINTFORML 「对！不，起……稍微……一个人，休息……」
				ENDIF
				PRINTFORMDL 用混乱的头脑想办法挤出借口，就这样趴在桌子上了
				PRINTFORMDL 俯下脸，身体微微地颤抖着，咬紧牙关等待着绝顶的波浪退去
			ELSE
				PRINTFORMDW 雪臀的感觉令寂静的法庭上响彻起了映姬停不下来的娇声…
				CALL HPH_PRINT, @"「啊HPH　……呜啊HPH　………啊呵HPHHPH」", "L"
				CALL HPH_PRINT, @"「哦呵、唔咿…HPH　哦呵哩哪HPH　啊HPH　啊啊啊HPH」", "L"
				PRINTFORMDW 被玩弄完全開发出来的菊穴，让映姬始终无法从绝顶下来
				PRINTFORML 
				PRINTFORMDL …过了好一会儿才恢复意识的映姬喃喃自语着什么
				CALL HPH_PRINT, @"「…我、我是、阎、魔………我，我的工作……义务……啊啊啊HPH」", "L"
				PRINTFORMD 映姬身体倒在椅子上，眼神空洞
				IF TIME < 720
					PRINTFORMDL 继续进行审判…
				ELSEIF TIME >= 780
					PRINTFORMDL 打算回去工作…
				ELSE
					PRINTFORMDL 准备继续工作…
				ENDIF
				PRINTFORMDW 阎魔殿下的工作热情让%CALLNAME:MASTER%佩服
				RETURN 1
			ENDIF
			SELECTCASE BEST
				CASE 50
					PRINTFORMDW 但是一直被反复玩弄，映姫の阴核豆豆突然胀起来，好像收不住…
				CASE 51
					PRINTFORMDW 但是蜜穴美肉的快乐没有丝毫消退的气息，映姬的淫汁让椅子和地板都湿透了…
				CASE 52
					PRINTFORMDW 但是被调教的肛门连坐着的刺激都转换成快乐，让映姬苦闷…
				CASE 53
					PRINTFORMDW 但是挺尖得发痛的乳头不断地给映姬带来与内衣摩擦的甜丝丝快乐…
				CASE 54
					PRINTFORMDW 但是映姬的嘴完全变成了性感带，呼吸间也带着甜甜的麻痹…
			ENDSELECT
			PRINTFORML （啊啊啊！　羞死了羞死了羞死了……）
			IF BEST == 52
				PRINTFORML （…好害羞，不过）
				CALL HPH_PRINT, @"（屁股……好舒服HPH　这样子……我什么，做不了了…HPH）", "W"
			ELSE
				PRINTFORML （尽管如此，为什么…）
				PRINTFORMW （为什么，这么…%LOCALS%、舒服哟…♥）
			ENDIF
		ELSE
			IF LOCAL
				PRINTFORML 「啊♥　欸…！？　纳尼，嘠…？　……欸？」
				PRINTFORMDW 在无法理解情况的情况下，映姬软软地坐在了那里
				PRINTFORML 「啊…♥　啊啊♥　%LOCALS%…♥　%LOCALS%♥」
				PRINTFORML 「………%LOCALS%、好啊…%LOCALS%、非常的…舒服、好啊…♥」
				PRINTFORMDW 映姬混乱的思考和被開发的雌肉，似乎正在接受这种不可能的快乐…
				PRINTFORML 
				SELECTCASE BEST
					CASE 50
						IF CFLAG:没穿内裤
							PRINTFORML （不用看，也知道…小妹妹、露出来了…♥）
						ELSE
							PRINTFORML （啊哈♥　与衣服大幅度摩擦，好舒服哟…继续着…）
						ENDIF
							PRINTFORMDW 为了不再刺激敏感的突起，映姬一动不动地坐着
					CASE 51
						PRINTFORML （啊啊♥　到刚才为止，在我里面…有什么，明明插入了…）
						PRINTFORMDW 在留有插入触感的膣穴肉中，映姬感受快乐和丧失感
					CASE 52
						CALL HPH_PRINT, @"（屁股上的洞，跃跃欲试HPH　有什么…被做了吧HPH）", "L"
						CALL HPH_PRINT, @"（……更多、如果能再做一点的话…就好了HPH）", "L"
						PRINTFORMDW 尽管情况如此异常，明明不知情的情况下被强奸了屁股，映姬却只想着菊穴的快乐
					CASE 53
						PRINTFORML （乳頭、这么…起勃…擦着、唔…♥）
						PRINTFORMDW 为了确认从衣服上也能看到的突起，映姬把手放在胸前
					CASE 54
						PRINTFORML （嘴……好寂寞呀……想要什么……给我…♥）
						PRINTFORMDW 映姬的嘴巴半開，任凭口涎直流，也没有擦拭。
				ENDSELECT
			ELSE
				PRINTFORMDW 面对头脑一片空白的强烈快感，映姬发出近乎悲鸣的娇声…
				CALL HPH_PRINT, @"「屁股…屁股啊HPH」", "L"
				PRINTFORMDL 由于快感，身体大大后仰了，一下子就屁股着地
				CALL HPH_PRINT, @"「哦吼…！　啊啊HPH　哈啊啊HPHHPH」\n「咿、停下来HPH　好舒服，噫…已经，咿呀HPH」", "L"
				IF TCVAR:30:364
					PRINTFORMDL 由于屁股着地肛用振动棒被打得更深，使映姬进入无止境的快乐地狱…
				ELSE
					PRINTFORMDL 即使是坐下时的轻微冲击，敏感的尻穴也会转换成快乐，再次邀请映姬登上绝顶…
				ENDIF
				PRINTFORMW 
				PRINTFORMDL ……好不容易平息了高潮的映姬，眼泪和口水乱流的出神状态
				IF TCVAR:30:364
					PRINTFORMDL 对于吞到极限的肛用振动棒的刺激，只能偶尔让身体做出反应
				ELSEIF CFLAG:没穿内裤
					PRINTFORMDL M字扒開的美腿到%SLIT(30,1)%都一览无余，却没有丝毫要收敛的意思
				ELSE
					PRINTFORMDL 裙子翻了起来，%PANTS_DESCRIPTION(EQUIP:TARGET:下半身内衣２, TARGET)%%SHOW_BOTTOM(TARGET)%全都看见了，一览无余
				ENDIF
				CALL HPH_PRINT, @"「不行，不行啊……HPH　这样的，这样的…不行…HPH」", "W"
			ENDIF
		ENDIF
		LOCAL:99 = 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;胖次紛失
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		IF ONCE("ぱんつ無")
			PRINTFORML 「！？　………欸！　…什么？　……什么啊…这是……」
			PRINTFORMDW ……心绪不宁，可以明显看出映姬表情不自然
			PRINTFORML （讨厌……如果被%K30_C_NAME(K30_FIND_AROUND(), 2)%知道这样的话…）
			PRINTFORMDW 对于一本正经的映姬来说，似乎无法忍受没穿内裤的開放感…
		ELSE
			PRINTFORMDW 为了防止万一掀起来，把\@ K30_CHECK_HEN_T() ? 比平时短的 # \@裙子下摆扣得紧紧的…
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【無自覚口内射精】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		;精液中毒低精飲
		IF ARG:1 == 1
			PRINTFORML 「…？　……唔嗯！？」
			PRINTFORMW 「嗯~、嗯呃…………嗯~、呃~」
			PRINTFORMDL %CALLNAME:(K30_FIND_AROUND())%不想被别人知道
			PRINTFORMDW 映姬勉强维持着表情咽下了精液
			PRINTFORMW 「唔嗯,呸……到底是什么……」
		;精液中毒低吐き出し
		ELSEIF ARG:1 == 2
			PRINTFORML 「――唔！？」
			PRINTFORMW 「呸,咳呵,咳,呸……」
			PRINTFORMDL 被喉咙里的违和感和腥臭的气味折磨得映姬直咳嗽
			PRINTFORMDL 映姬总是从说教的嘴里流着口水和精液
			PRINTFORMDW 让%CALLNAME:MASTER%产生了嗜虐的喜悦感
		;精液中毒低手で覆う
		ELSEIF ARG:1 == 3
			PRINTFORML 「――唔唔！？」
			PRINTFORMDL 为了不让别人知道发生了什么事,马上用手捂住了嘴。
			PRINTFORML 「呕诶、嗝呕、呃~、呕……」
			PRINTFORMDL 映姬一边流泪一边想吐出粘糊糊的精液
			PRINTFORMW 「咳咳,咳咳…呸…到底从哪来的…」
		;精液中毒高精飲
		ELSEIF ARG:1 == 4
			PRINTFORML 「！！　……んッ」
			PRINTFORMDW 突然出现的口内异物一瞬间吓了一跳，但马上保持平静
			PRINTFORMDL 在舌头上打滚，和唾液混在一起一口气咽了下去
			PRINTFORMW 「……佳肴さまです♥」
		;濃厚精液＆精液中毒低吐き出し
		ELSEIF ARG:1 == 5
			PRINTFORML 「――唔！？」
			PRINTFORMW 「呸,咳咳,咳咳…呕咳咳…」
			PRINTFORMDL %CALLNAME:MASTER%倾注的浓厚精液
			PRINTFORMDW 映姬想要吐出来却粘在喉咙里折磨着
		;濃厚精液＆精液中毒高精飲
		ELSEIF ARG:1 == 6
			PRINTFORML 「！！　……咕♥」
			PRINTFORMDW 映姬似乎被精液的气味动摇了理性，丝毫没有惊讶的样子
			PRINTFORMDL 就像在品尝特别浓郁的味道一样，舌头不停地转动。
			PRINTFORMDW 和唾液混在一起，喉咙像享受一样慢慢地咽了下去
			PRINTFORMW 「……真美味」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【無自覚顔面射精】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		;無知持ち＆精液経験100未満
		IF ARG:1 == 1
		;通常ぬぐい取り
		ELSEIF ARG:1 == 2
			PRINTFORMW 「唔……这顾味道是……」
		;顔射精液舐めとり
		ELSEIF ARG:1 == 3
			PRINTFORML 「……！？」
			PRINTFORMDW 通过气味知道脸上沾了什么东西，打開了映姬的開关
			PRINTFORMDL 边用袖子遮住嘴角，一边用手指刮着精液開始吮吸
			PRINTFORMDL 那副完全没有阎魔威严的样子
			PRINTFORMDW %CALLNAME:MASTER%为了不被发现，忍住了笑声
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【無自覚手淫射精】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		;ぬぐい取り
		IF ARG:1 == 1
			PRINTFORML 「……这个、精液…？　…」
			PRINTFORMDW 边混乱一边从怀里拿出手巾擦去了精液
		;舐めとり
		ELSEIF ARG:1 == 2
			PRINTFORML 「……这是,精液……」
			PRINTFORMDW 映姬凝视着双手,突然将手指放到嘴里……
			PRINTFORMDW ……想从怀里掏出手巾的时候，精液不知不觉已经被舔干净了。
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【無自覚肛門射精】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		;振動棒约会中
		IF TCVAR:30:364
			IF LOCAL:99
				CALL HPH_PRINT, "（屁股，好热…HPH　好像要融化了似的，热…一…HPH）", "L"
			ELSE
				CALL HPH_PRINT, "（屁股上，积着…让人心情愉悦的本源，很多…HPH）", "L"
			ENDIF
			PRINTFORMDL \@ 充填率(30, 2) >= 20 ? 大量的 # \@%SAMEN_DESCRIPTION(PLAYER)%在映姬无意识中注入，并用振动棒塞住的的异常事态，不知为何映姬轻易接受了
			PRINTFORMDW ……思绪似乎也被反复的快乐和高潮吞没了
		;Ａ感覚2以下
		ELSEIF ARG:1 == 1
			PRINTFORML 「――唔！？」
			PRINTFORMW 「什,什么,这是怎么回事……唔…」
			PRINTFORMDL 映姬被屁股孔的奇怪疼痛和肠内残留的神秘的热度弄得混乱不堪
			PRINTFORMW 「这是腹内的感觉？……好恶心……」
		;Ａ感覚3～5＠絶頂分岐
		ELSEIF ARG:1 == 2
			SELECTCASE ABL:30:Ａ感覚
				CASE 3 TO 5
					IF TCVAR:30:393 > 0 
						PRINTFORMW 「…欸……什么……！？」
						PRINTFORMDL 被開发了屁股洞，知道了快乐的身体和理性互相竞争
						PRINTFORMW （開关……%K30_C_NAME(K30_FIND_AROUND(),1)%に……如果被发现的话……）
					ELSE
						PRINTFORML 「唉――――！？　……什么！？」
						PRINTFORMW 「………到底…怎么回事…」
						PRINTFORMDL 违和感和快乐混杂在屁眼里袭击，映姬动摇了
						PRINTFORMW （这种感觉是……但是…到底是怎么做到的……）
					ENDIF
		;Ａ感覚6以上＠Ａ絶頂・射精量分岐
		;感度も10超えがあるわけだし、ロック外してもらうのは有りです
				CASE IS >= 6
					IF TCVAR:30:393 > 2
						CALL HPH_PRINT, @"「――咿咿咿HPHHPH――啊――HPH……！！」", "L"
						IF 充填率(30, 2) >= 30
							PRINTFORMDW 虽然想设法掩饰，但反复达到高潮的身体使不上劲
							PRINTFORMDW 映姬发出了下流的声音,%SAMEN_DESCRIPTION(MASTER, 1)%也垂流了下来……
							PRINTFORML 「噫！」
							PRINTFORMW （啊啊啊！　这样的…%K30_C_NAME(K30_FIND_AROUND(),1)%被注意到的话…）
							PRINTFORMW （呜呜……不要…这种事情,不要啊……）
						ELSE
							PRINTFORMW （不要…要漏出来了,不要……）
							PRINTFORMDW 为了不让肛内的异物流出来，一副快要哭出来的样子，扭动着身体
							PRINTFORMDW 拼死忍耐都憋到脸红的阎魔様，%CALLNAME:MASTER%非常享受的看着
						ENDIF
					ELSE
						PRINTFORMDW 被開发的屁股孔和直肠没有抵抗地迎入了%CALLNAME:MASTER%的%SAMEN_DESCRIPTION(MASTER, 1)%
						CALL HPH_PRINT, @"（屁股……好热……好舒服……HPH）", "L"
						PRINTFORMDW 映姬为了不让快乐从松弛的菊穴中漏掉，比平时更端正了姿势，身体更加用力夹紧…
					ENDIF
			ENDSELECT
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【無自覚処女喪失】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORML 「！！　――痛―好痛…什么，啊…！？」
		PRINTFORMDW 比起疼痛，从秘部滴落的黏液更让人恶心，映姬吓得浑身僵硬了
		PRINTFORML （骗人的吧………这是…但是……不不不，不行，为什么我第一次，明明想给最爱的人的，明明……）
		PRINTFORMDW 被无法形容的丧失感袭击的映姬不由得流下了眼泪…
		;鬼畜な人にはフラグを立てておこう
		SETBIT CFLAG:1800, 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【無自覚膣内射精】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		PRINTFORML 「嗯……！？　……！？」
		PRINTFORMDW 从秘部滴下来的粘液让映姫的身体感觉十分难受
		;非処女膣内射精口服避孕薬無
		IF ARG:1 == 1
			PRINTFORMW 「骗人的吧…这个…难道是……生小宝宝的……？」
		;非処女膣内射精口服避孕薬あり
		ELSEIF ARG:1 == 2
			PRINTFORMW （虽然避孕药很有效，咕，但如果一直被不自知地淫辱下去的话……）
		;処女膣内射精
		ELSEIF ARG:1 == 3
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;時間停止解除共通
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;ナマでやらせろ時
;==================================================
@M_KOJO_EVENT_K30_18(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;避妊要求台詞
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF TALENT:恋人
			PRINTFORMW 「那可不行…会有小宝宝的」
			PRINTFORMW 「小宝宝应该在相爱的夫妻面前诞生」
			PRINTFORMW 「我们还…。」
		ELSEIF TALENT:恋慕
			SELECTCASE K30_FIND_LOVER()
				CASE 0
					PRINTFORML 「欸……？那是……！」
					PRINTFORMW 「对我们来说还太早了。我觉得太早了…」
				CASE 1
					PRINTFORML 「给我…不要再踏入这以上的事了…」
					PRINTFORMW 「那样……。不行。绝对不行……」
				CASE 2
					PRINTFORMDL 映姬惊讶地看了看%CALLNAME:MASTER%和%CALLNAME:(TALENT:MASTER:恋人)%的脸
					PRINTFORMW 「根本理解…不了…你们真的那样可以吗？」
					PRINTFORMW 「%K30_C_NAME(TALENT:MASTER:恋人)%真的可以么……」
			ENDSELECT
		ELSE
			PRINTFORMW 「…………」
			PRINTFORMW 「………」
			PRINTFORMDL 映姬讶异地望着这边
			PRINTFORMDW 真的不知道在说什么的样子
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;断った
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF TALENT:恋慕
			PRINTFORML 「我很为难的…再重新考虑一下好吗？」
			PRINTFORMDW 虽然语气柔和，但拒绝的意思很明确
		ELSE
			PRINTFORMW 「…………………」
			PRINTFORMDW 映姬无言，却比用语言表达更容易理解决绝…
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;断ったのに粘られて切れた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML 「你真的考虑过生育孩子的责任吗！？」
		PRINTFORMW 「你太缺乏责任感了！！」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;危険日以外許可
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		IF TALENT:恋慕
			PRINTFORML 「……这是即使有了小宝宝也会负起责任。」
			PRINTFORML 「是这个意思吧？」
			PRINTFORML 「如果对阎魔撒谎的话会怎么样呢…」
			PRINTFORMW 「你应该知道的吧？」
		ELSE
			PRINTFORMDL 映姬和被抱的时候一样被%CALLNAME:MASTER%压倒了
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;危険日許可
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORML 「我和你的小宝宝…」
		PRINTFORML 「你真的……这么期望生一个么？」
		PRINTFORMW 「……可以相信你吗？」
		SETBIT CFLAG:1502, 0
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;神社暮らしを承認して貰う
;==================================================
@M_KOJO_EVENT_K30_19(ARG,ARG:1)
#DIM 一日一回
;口上主はARG
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
IF LOCAL
	LOCALS = %CSTR:30:80%
	SIF LOCALS == ""
		LOCALS = %\@ TALENT:恋人 ? %MASTERNAME:30% # %MASTERNAME:30%さん \@%
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;認められる
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF TALENT:恋人
			PRINTFORML 「%CALLNAME:拠点_家主%都很懂事,真是帮了大忙了」
			PRINTFORMW 「以我们的关系，在一起生活是没有问题」
			PRINTFORML 「但把你迎入彼岸的话实在还是不太好……」
			PRINTFORMW 「能搬到这里真是太好了」
			PRINTFORMW 「……然后呢,就让我再说一遍吧」
			PRINTFORMDW 映姬转过身来，笔直地凝视着我
			PRINTFORMW 「最喜欢你了、%LOCALS%。今后也请多多关照」
		;他に恋人いる相手の所引っ越してくるってなんか可怕的
		ELSEIF TALENT:MASTER:恋人
			PRINTFORML 「……没想到得到了%CALLNAME:拠点_家主%的允许」
			PRINTFORMW 「但在你心中已经有心有所属的另一个人了吧…」
			PRINTFORML 「%LOCALS%」
			PRINTFORMW 「虽然不能成为你的第一位,但我还是无论如何都想在你身旁」
			PRINTFORML 「这是我的任性，所以你一直都和其他人交往就行了」
			PRINTFORMW 「……今后也请多关照呢」
		;まず無いと思うが一応
		ELSE
			PRINTFORMW 「呼呼,既然你也认同了呢……那映姬我也可以稍稍怀有一些期待么？」
			SIF STRCOUNT(CSTR:30:0, "初告白")
				PRINTFORMW 「我也还没有放弃呢……」
			PRINTFORMW 「%LOCALS%。等着你哦」
			PRINTFORMW 「今后也请多关照呢」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;認められない
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF TALENT:恋人
			PRINTFORMDW %CALLNAME:MASTER%和映姬商量不要让曲直厅空荡闲置
			PRINTFORML 「唔嗯,既然你也这么说的话……果然是这么回事吧……」
			PRINTFORMW 「实际上周围也有很多人反对『如果阎魔大人不在的话就麻烦了』」
			PRINTFORML 「…而且仔细想想…如果我不在，绝对无法想象小町那孩子会怎么野呢……」
			PRINTFORMW 「……没办法吗。放弃搬家」
			RETURN 1
		;残当
		ELSEIF TALENT:MASTER:恋人
			PRINTFORML 「……也是呢,这也是当然的吧……」
			PRINTFORML 「说了奇怪的话，对不起……」
		ELSE
			PRINTFORML 「不行……是么。你心中已经有合适的人选了么？」
			PRINTFORMW 「………………」
			PRINTFORML 「……是人心嘛。有些事情是无法确定的。」
			SIF STRCOUNT(CSTR:30:0, "初告白")
				PRINTFORML （没错,但我也不能放弃……）
			PRINTFORML 「对不起、%LOCALS%。今天就回去……」
		ENDIF
		PRINTFORMDW 映姬慢慢地回去了
	ENDIF
	;-------------------------------------------------
	;你の私室変更により同居
	;せっかくなので顔絵付き
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		SIF 一日一回 == DAY
			RETURN 1
		一日一回 = DAY
		;朝あいさつのフラグ
		CALLF ONCE("同居")
		CFLAG:1605 = 10
		IF K30_FIND_LOVER() > 0
			{
			LOCALS:1 = 「%K30_C_NAME(TALENT:MASTER:恋人)%现在真的%TEXTR("真的对不起/很抱歉")%我知道……」/
						「但是…尽管如此……」/
						「尽管如此，能和你%TEXTR("在一起/一起生活")%实在无比高兴啊…」
			}
			TFLAG:192 = 99
		ELSEIF FIRSTTIME("同居")
			IF TALENT:恋人
				LOCALS:1 = 「我一直在等你这么说」/「毕竟是恋人，我觉得一起生活更自然」/
			ELSE
				LOCALS:1 = 「如果是相爱的关系的话，一起生活也不奇怪」/「而且，如果你只看着我，没有比这更高兴的了」/
			ENDIF
			LOCALS:1 += @"「%LOCALS%、今后请多多关照」"
			LOCALS:2 = /「还有…这个\@ MAIN_MAP == 2 ? 長屋 # 建筑 \@因为墙壁有点单薄…」/「这一点要互相注意哦…♥」
		ELSE
			{
			LOCALS:1 = 「%TEXTR(@"%LOCALS%、欢迎回来/%LOCALS%、能再和我一起生活一次吗？/太好了…我等着你呢/")%」/
						「%TEXTR(@"你的地方已经空好了/下次如果不一直在一起的话我会讨厌的/呼呼呼、明天開始会变得非常開心，好期待/")%」/
						「还请多多指教」
			}
			LOCALS:2 = /「那个…%K30_C_NAME(MASTER)%」/「%TEXTR(@"请再多爱我吧/早上怎样叫醒比较好?/这次的休息日，期待着哦/")%…♥」
		ENDIF
		;一時的に拡張顔絵に変更
		LOCAL = FLAG:立絵種類
		FLAG:立絵種類 = 1
		LOCAL:1 = CFLAG:30:差し替え適用
		CFLAG:30:差し替え適用 = 1
		CALL K30_SPTALK, @"%\@ K30_FIND_LOVER() > 0 ? 睡眠 # 笑顔 \@%", LOCALS:1
		WAIT
		IF TFLAG:192 != 99
			PRINTFORML 
			TFLAG:192 = -7
			CALL K30_SPTALK, "LOVE", LOCALS:2
		ENDIF
		FLAG:立絵種類 = LOCAL
		CFLAG:30:差し替え適用 = LOCAL:1
	ENDIF
ENDIF
RETURN 1
;==================================================
;帰宅時
;==================================================
@M_KOJO_EVENT_K30_20(ARG,ARG:1)
#DIM YANUSHI
;口上主はLOCALS or RESULT
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;通常帰宅
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF CFLAG:诶嘿嘿
			;終了記録
			CALL K30_UFUFU_RECORD
			SIF !TALENT:恋慕
				RETURN 1
			IF CFLAG:衰弱
				PRINTFORML 「对不、起……已经、不、行了…」
				PRINTFORMW 「再继续…下去，不行…的」
			ELSE
				PRINTFORML 「…这样半途而废真的很抱歉」
				PRINTFORMW 「不过，再这样下去就影响明天了…」
			ENDIF
		ELSEIF TALENT:恋人
			PRINTFORML 「虽然分開时会很寂寞,但是不得不忍耐…」
			PRINTFORMW 「……再见。明天见。」
		ELSEIF K30_CHECK_HEN_T()
			PRINTFORML 「再见。辛苦了…」
			PRINTFORMDW 映姬身形隐去，很快就回家了
		ELSEIF TALENT:恋慕
			PRINTFORML 「虽然我有很多话想对你说。」
			PRINTFORMW 「我会好好抽空再来的」
			PRINTFORML 「今天就到此为止了」
			PRINTFORMW 「……再见」
		ELSE
			PRINTFORML 「不好。已经到这个时间了吗？」
			PRINTFORMW 「虽然还有很多话想对你说……」
			SELECTCASE RAND:3
				CASE 0
					PRINTFORML 「……嗯,我想起来了。前几天也说过……」
					PRINTFORMW 「没错,你也有缺乏道德心的地方……」
				CASE 1
					PRINTFORML 「现在開始也来不及说了。请先好好体会今天所说的事情吧。」
					PRINTFORML 「然后从明天開始珍惜每一天,积德行善」
					PRINTFORMW 「首先为了保持纯洁美丽的心灵……」
				CASE 2
					PRINTFORML 
					PRINTFORML 「…………？　你，有好好听别人说话吗？」
					PRINTFORMW 「轻视阎魔，这到底是什么意思呢」
					PRINTFORMW 「是不是过于相信自己的力量而逐渐变得自负起来了呢？」
					PRINTFORML 「没错,你有点太傲慢了！」
					PRINTFORMW 「给我听好了…………」
			ENDSELECT
			PRINTFORMW 「……………………………………………」
			PRINTFORMW 「……………………………………」
			PRINTFORMDW 因为时间可能会很长，所以又向映姬报了一次时间
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;约会中帰宅＠クラピ構文参考にしました
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF CFLAG:現在位置 == OMANEKIBEYA()
			IF CFLAG:诶嘿嘿
				PRINTFORML 「对不、起……已经、不、行了…」
				PRINTFORMDW \@ CFLAG:衰弱 ? 消耗殆尽 # 困意已经达到极限 \@，映姫几乎直接倒下睡着
				;終了記録
				CALL K30_UFUFU_RECORD
				;邪魔にならないよう表示しない
				RETURN 1
			ELSE
				PRINTFORML 「抱歉。有点困了,差不多该回去睡觉了…」
				PRINTFORMW 「今天就这么道别吧,%K30_C_NAME(MASTER)%」
				;泊まれる
				SIF !TCVAR:(CFLAG:MASTER:招待):连住禁止 && NEMUKE() < 720
					PRINTFORMW 「……但是,其实真的…不想和你分開的……」
			ENDIF
		ELSEIF CFLAG:诶嘿嘿
			SIF !TALENT:恋慕
				RETURN 1
			IF CFLAG:衰弱
				PRINTFORML 「对不、起……已经、不、行了…」
				PRINTFORMW 「再继续…下去，不行…的」
			ELSE
				PRINTFORML 「…这样半途而废真的很抱歉」
				PRINTFORMW 「不过，再这样下去就影响明天了…」
			ENDIF
			;終了記録
			CALL K30_UFUFU_RECORD
		ELSEIF K30_CHECK_HEN_T()
			PRINTFORML 「到了这个时间，可以了吗…」
			PRINTFORMW 「再见」
			PRINTFORMDW 映姬很在意别人的目光，很快就回去了
		ELSE
			PRINTFORML 「不可以。已经这个时间了」
			IF TALENT:恋人
				PRINTFORMW 「虽然还在途中,但很抱歉」
				PRINTFORMW 「…虽然难分难舍但是没办法」
			ELSEIF TALENT:恋慕
				PRINTFORMW 「……今天十分感谢你。我很開心哦」
				PRINTFORMW 「真的…很開心。有机会的话,下次请务必\@ TCVAR:30:358 ? 再陪陪我吧 # 再邀请我吧 \@」
			ELSE
				PRINTFORMW 「感谢你今天的\@ TCVAR:30:358 ? 陪同 # 邀约 \@」
				PRINTFORMW 「今天已经到时间了,抱歉」
			ENDIF
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;玄関先でお見送り
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		IF TALENT:恋人
			PRINTFORMW 「送到这里就行了,谢谢」
			PRINTFORMW 「…虽然难分难舍但是没办法」
			PRINTFORMDW 映姬回头看了好几次才回去了
		ELSEIF TALENT:恋慕
			PRINTFORMW 「……今天十分感谢你。我很開心哦」
			PRINTFORMW  %CALLNAME:MASTER%和映姬分手了
			PRINTFORMW 「…真的…很開心…」
		ELSE
			PRINTFORMW 「感谢你的送别」
			PRINTFORMW 「今天就此告辞了。」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;约会終了時に部屋に来ないかと誘う（～から部屋に来ないかと誘われた）
	;（来訪角色のみ,自宅が無い角色でも発生します）
	;発生条件：恋慕or愛人、积攒度が55～85％以上(素質：羞恥心で変化)
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML 「%K30_C_NAME(MASTER)%、今天还有…时间吗…？」
		PRINTFORMW 「我…这之后的预定，有空哦…♥」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;部屋に来ないか→「行く」を選択（～に誘われるまま、【MASTER】は【TARGET】的房間へと向かった……）
	;（これが発生すると十中八九被逆推ます）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORMW 「那么，我们走吧…♥」 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;部屋に来ないか→「やめとく」を選択（～は心無か寂しそうだ……）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		SELECTCASE K30_FIND_LOVER()
			CASE -1
				PRINTFORML 「…有什么安排吗？」
				PRINTFORMW 「比约会的恋人优先…怎么回事啊，真是的……」
			CASE 0
				PRINTFORML 「…是这様吗」
				PRINTFORMW 「对不起，我无理取闹了…」
			CASEELSE
				PRINTFORML 「……果然，是这样的吧」
				PRINTFORML 「对%K30_C_NAME(TALENT:MASTER:恋人)%也说了不好的话」
				PRINTFORMW 「真的很抱歉…」
		ENDSELECT
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;今夜は帰りたくないと言い出す（～は今夜は帰りたくないと言い出した…）
	;（来訪角色の帰宅時に欲求不満と欲望が高いと発生）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTFORML 「%K30_C_NAME(MASTER)%…」
		PRINTFORMW 「今晚，就这样…可以打搅您吗？」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;今夜は帰りたくない→「泊める」を選択（～は【MASTERの自室】に泊まっていくこと成为了）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORMW 「太好了…谢谢♥」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;今夜は帰りたくない→「泊めない」を選択、または家主が居る（【MASTER】は丁重に断った）
	;（家主が居る＝MASTERの私室に他の角色の私室を設定している）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		YANUSHI = PRIVATEROOM:(CFLAG:MASTER:初期位置 % 100)
		SELECTCASE K30_FIND_LOVER()
			CASE -1
				PRINTFORML 「…有比恋人\@ YANUSHI ? 更优先的%K30_C_NAME(YANUSHI)% # 请求更优先的事 \@？」
				PRINTFORMW 「我明白了，但是……果然你是个很过分的人啊…」
			CASE 0
				PRINTFORML 「…是啊」
				PRINTFORMW 「突然被推到一边也很为难吧…」
			CASEELSE
				IF TALENT:YANUSHI:恋人
					PRINTFORML 「…不，我才是对不起」
					PRINTFORML 「%K30_C_NAME(YANUSHI)%\@ GROUPMATCH(YANUSHI, 76, 129) ? 这种事 # 光临 \@，可是我呢…」
					PRINTFORMW 「真的很抱歉…」
				ELSE
					PRINTFORML 「…不，是我对不起」
					PRINTFORML 「说了这样的话，对%K30_C_NAME(TALENT:MASTER:恋人)%也不好吧」
					PRINTFORMW 「请忘记现在的事。…」
				ENDIF
		ENDSELECT
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;疲れて帰宅（疲れきった～は帰って行きました）
	;（～は疲れ切っている→（入り口）まで送るよ でも発生）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 10
		IF CFLAG:诶嘿嘿
			PRINTFORML 「对不、起……已经、不、行了…」
			;終了記録
			CALL K30_UFUFU_RECORD
		ELSE
			PRINTFORML 「不行、啊…今天，身体…撑不下去。…」
			PRINTFORML 「在这里、分别…吧…」
		ENDIF
		PRINTFORMDW 消耗殆尽的映姬迈着歪歪斜斜的脚步回去了…
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;陥落素質取得時
;==================================================
@M_KOJO_EVENT_K30_21(ARG,ARG:1)
;口上主はARG
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;恋慕取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORMDL 最近工作不上心
		PRINTFORMDW 想想也是理所当然的
		PRINTFORML 明明被什么迷惑着
		PRINTFORMDL 不可能马上做出正当的判决
		PRINTFORMDW 审判无论如何都要花时间
		PRINTFORMW
		PRINTFORMDL 到处说教的次数也减少了
		PRINTFORML ……虽然关于这件事,不管是人类还是妖怪都很高兴的样子。
		PRINTFORMDW 本来就没有人喜欢接受阎魔的说教
		PRINTFORMDW ……………有一个人
		PRINTFORMW 「%K30_C_NAME(MASTER)%………」
		PRINTFORMDL 说起来心里很难受
		PRINTFORMW 黑白分明就是这么可怕的事情
		PRINTFORMW 「…………………」
		PRINTFORMW 「是不是该把这种想法一直留在心里呢……」
		PRINTFORMW 「……………………」
		PRINTFORMW 「……看来不行呐。那么,干脆……」
		PRINTFORMW 
		PRINTFORMDW 映姫失去了[冷漠]
		PRINTFORMDW 映姫获得了[坦率]
		PRINTFORMW 
		TALENT:30:態度 = -1
		TALENT:30:冷漠 = 0
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;思慕取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORMDW 映姬停下手中的文件工作，突然開始思考
		PRINTFORMDW %MASTERNAME:30%
		PRINTFORMDL 最近幻想乡来了那个人有什么连阎魔都能欺骗的东西
		PRINTFORMDW 既然镜子照不到，只能直接看
		PRINTFORMDL 必须好好监视并说教
		PRINTFORMDW 然后他给吾倒茶，，慢慢地放松………
		PRINTFORMW 「………………………………」
		PRINTFORMDL 不可能被他人所感染的自己到底在想什么呢？
		PRINTFORMW 「…………………」
		PRINTFORMDW 叹了口气映姬重新開始工作
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;愛欲取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;愛人取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;炮友取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;調教終了時に自慰
;==================================================
@M_KOJO_EVENT_K30_22(ARG,ARG:1)
;口上主はARG
;ARG:0に自慰状況
;ARG:1に自慰種類
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;通常自慰
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF TALENT:恋慕
			SELECTCASE RAND:3
				CASE 0
					PRINTFORML 「啊、不…、不行……不行的啊…%K30_C_NAME(MASTER)%……啊~啊♥」
					PRINTFORMDW 映姬想象自己和%CALLNAME:MASTER%像野兽一样交媾，激烈地玩弄雪丘…
				CASE 1
					PRINTFORML 「对，%K30_C_NAME(MASTER)%………那里…慢慢地……温柔地……嗯！嗯♥」
					PRINTFORMDW 映姬想起了被%CALLNAME:MASTER%爱抚的事情，揉着玉蛤蜜口…
				CASE 2
					PRINTFORML 「不行…%K30_C_NAME(MASTER)%………在这种地方……哈哼♥　…嗯咕！　……吶，饶了我……♥」
					PRINTFORMDW 映姬一边妄想着自己被%CALLNAME:MASTER%在野外调教一边埋头自慰…
			ENDSELECT
		ELSEIF TALENT:思慕
			IF FIRSTTIME("ONANISM")
				PRINTFORMDL 和往常一样的性欲处理中，映姬突然思念起了%CALLNAME:MASTER%的事情……
				PRINTFORML 「欸!……什么…这个……噫…啊啊啊♥」
				PRINTFORMDW 映姬对瞬间溢出的蜜液和突然变得敏感起来而感到困惑……
				CALL K30_WRITE_DIARY(23)
			ELSE
				SELECTCASE RAND:2
					CASE 0
						PRINTFORML 「呼ー♥　呼ー♥　……嗯啊啊，不行…%K30_C_NAME(MASTER)%、不可以…♥」
						PRINTFORML 「不行…♥　因为这样的事，变快乐…啊、啊啊啊！　一库♥」
						PRINTFORMDW 想到%CALLNAME:MASTER%而自慰的快乐，映姫想反抗都做不到，只能沉溺于快感…
					CASE 1
						PRINTFORML 「哈啊……哈啊…%K30_C_NAME(MASTER)%………啊啊啊♥」
						PRINTFORML 「………不行……这样的……明明不行……呀啊啊啊♥」
						PRINTFORMDW 想起%CALLNAME:MASTER%的自慰，映姬感到罪恶感和强烈的快乐……
				ENDSELECT
			ENDIF
		ELSE
			PRINTFORML 「哈啊……真的是毫无意义的事情……」
			PRINTFORMDW 厌恶地处理完性欲后，映姬无感慨地清洁横陈的玉体
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;同室時自慰
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML 「%K30_C_NAME(MASTER)%♥　是的，那里………嗯啊呼…、呼啊啊♥」
		PRINTFORMW 「哇啊、哈啊啊♥ 　哈啊啊啊♥♥」
		PRINTFORMDL 不知什么时候就将%CALLNAME:MASTER%的手引向了自己的秘处并摩弄着阴蒂……
		IF !CFLAG:30:掌握把柄 && ABL:30:精液中毒 > 4
			CFLAG:1603 = 3
			PRINTFORMDL 也许是我的错觉，映姬似乎不时地往这边看
		ENDIF
		PRINTFORMDW 如果知道暴露了的话会肯定很尴尬的,%CALLNAME:MASTER%决定继续装睡着……
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;中だし精液自慰
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;無知持ち（自慰経験(調教自慰経験は差し引き)による分岐あり
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		LOCAL:2 = EXP:自慰経験 - EXP:調教自慰経験
		;無知消去イベントあり（表示は一度だけ
		IF LOCAL:1 >= 25
		;地の文分岐。書きたい場合は[SKIPSTART][SKIPEND]を削除してください
		[SKIPSTART]
		ELSEIF LOCAL:1 >= 20
		ELSEIF LOCAL:1 >= 15
		ELSEIF LOCAL:1 >= 10
		ELSEIF LOCAL:1 >= 5
		[SKIPEND]
		ELSE
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;陥落素質あり自慰中毒高め
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		;-------------------------------------------------
		;Ｃ敏感orＣ感覚10以上
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Ｖ敏感orＶ感覚10以上
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Ａ敏感orＡ感覚10以上
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 3
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Ｂ敏感orＢ感覚10以上
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 4
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;部位指定無し
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 5
			RETURN 1
		ENDIF
		;其他
		;上の分岐を一切書かずに、ここに書くことで陥落素質あり自慰中毒高め自慰の共通口上を表示することが出来ます
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;自慰中毒高め
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		;-------------------------------------------------
		;尻穴膣腔同時
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;膣腔のみ
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			RETURN 1
		ENDIF
		;其他
		;上の分岐を一切書かずに、ここに書くことで自慰中毒高め自慰の共通口上を表示することが出来ます
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;我慢
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		IF TALENT:恋慕
			CFLAG:1603 = 3
			PRINTFORML 「…嗯、今天得忍耐一下…」
			PRINTFORML 「…是的……只要忍过今天…」
			PRINTFORM （明日…从%K30_C_NAME(MASTER)%
			SELECTCASE CFLAG:30:喜欢的体位
				CASE 0
					PRINT 那…得到安慰…）
				CASE 1
					PRINT 那…被抱…满满的…♥）
				CASE 2 
					PRINT 那…从后面将…像动物一样…被注满…♥）
				CASE 3 
					PRINT 的身上…尽情地…♥）
				CASE 4 
					PRINT 那…被紧紧地抱住…更加的…♥）
				CASE 5 
					PRINT 那…被揉得乱七八糟…更多…♥）
				CASE 6
					PRINT 那…屁股、被疼爱…
				CASE 7 
					PRINT 那、屁股…从后面将、充满…
				CASE 8 
					PRINT 的身上、在屁股里…尽情地…
				CASE 9 
					PRINT 那、被紧紧抱住的同时、用屁股…
				CASE 10 
					PRINT 那、请抱我…在屁股上…
			ENDSELECT
			IF CFLAG:30:喜欢的体位 > 5
				CALL HPH_PRINT("HPH）", "L")
				CFLAG:1603 ++
			ELSE
				PRINTFORML 
			ENDIF
		ELSE
			PRINTFORML （自己居然……会做这么低劣的事情……）
			PRINTFORML （尽管如此…身体还是对那个人…如此地渴求…）
		ENDIF
		RETURN 1
	ENDIF
	;其他
	;上の分岐を一切書かずに、ここに書くことで自慰の共通口上を表示することが出来ます
	RETURN 1
ENDIF
RETURN 1
;==================================================
;浴場連れだし
;==================================================
@M_KOJO_EVENT_K30_23(ARG,ARG:1)
;口上主はLOCAL
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;断られた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF TALENT:恋慕
			PRINTFORMW 「对不起。现在无论如何都想一个人进去哦……」
		ELSEIF TALENT:思慕
			PRINTFORML 「……很明显地看出了你的邪恶想法哦？」
			PRINTFORMW 「想泡澡的话就请一个人去吧」
		ELSE
			PRINTFORMW 「………………………」
			PRINTFORMDW 映姬一直沉默着,但却清楚地表现出了拒绝的意思
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;一緒に入ってくれた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF TALENT:恋慕
			IF TIME:1 - CFLAG:1504 < 30 && ONCE("一緒にお風呂")
				PRINTFORML 「欸欸、是啊…一起进去吧」
				PRINTFORMW 「…弄得很脏了，得好好洗一洗…」
			ELSEIF DAY:2 == 2
				PRINTFORML 「嗨、是这样啊」
				PRINTFORMW 「快点让汗流出来吧」
			ELSE
				PRINTFORML 「欸欸、可以啊」
				PRINTFORMW 「让我们一起温暖吧」
			ENDIF
		ELSEIF TALENT:思慕
			PRINTFORML 「……也是呢,本来就是混浴温泉」
			PRINTFORMW 「一起进去也不奇怪呢……」
		ELSE
			PRINTFORML 「毕竟是混浴温泉所以也没什么办法……」
			PRINTFORMW 「但你要是做什么奇怪事的话……知道后果吧？」
		ENDIF
		RETURN 1
	ENDIF
	;其他
ENDIF
RETURN 1
;==================================================
;懐妊
;==================================================
@M_KOJO_EVENT_K30_24(ARG,ARG:1)
;口上主はLOCAL
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;恋慕
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1 && !GETBIT(CFLAG:1800, 3)
		LOCALS = %CSTR:30:80%
		IF LOCALS == ""
			LOCALS = %MASTERNAME:30%
			SIF !TALENT:恋人
				LOCALS += "さん"
		ENDIF
		;子宝祈願何回もやってる想定。映姫様に一発スナイプとか無いよね
		IF !EXP:出産経験
			;日記フラグ
			SETBIT CFLAG:1910, 5
			PRINTFORML 「%LOCALS%，我有件事想汇报…」
			;願望持ちなら、安心して説教
			IF GETBIT(CFLAG:1502, 3)
				PRINTFORMW 
				PRINTFORML 「两个人去参拜，一直祈愿……终于实现了」
				PRINTFORMW 「%LOCALS%我的，宝宝……终于被赐予了」
				PRINTFORML 「拼命地祈祷……花了很多时间，终于……成功了……非常高兴、高兴…」
				PRINTFORMDW 映姬感动得泪流满面……
				PRINTFORMDL %CALLNAME:MASTER%抱住了映姬直到她冷静下来
				PRINTFORMDW ………………
				PRINTFORML 「…谢谢」
				PRINTFORMDL 说了声谢，擦了擦眼泪，似乎又恢复了往日的坚强。
				PRINTFORML 「什么都还没做，现在不是哭的时候」
				PRINTFORMW 「为了能笑着迎接这个孩子，从现在就開始准备……」
				PRINTFORML 
				PRINTFORML 「……是啊，%LOCALS%，今后你也要成为『父亲』哦？」
				PRINTFORML 「不能再像以前那样到处晃荡了」
				PRINTFORML 「首先应该在身边从生活习惯上重新审视」
				PRINTFORMW 「本来嘛……」
				PRINTFORMDL …报喜的场合不知不觉变成了说教的时间
				PRINTFORMDW 我想，如果映姬能保持自然状态就可以了，%CALLNAME:MASTER%无言地接受了说教…
			;無いと不安な感じだけど、別に分岐は無い
			ELSE
				PRINTFORMW 
				PRINTFORMW 「%LOCALS%和我的、婴儿…好像是被赐予了」
				PRINTFORMW 「…………」
				PRINTFORML 「当然高兴。虽然很高兴…但我很不安」
				PRINTFORMW 「我能当好母亲吗…」
			ENDIF
		ELSEIF !GETBIT(CFLAG:1800, 3)
			PRINTFORML 「%LOCALS%，不要惊讶，听我说…」
			PRINTFORMW 「好像又怀上了。%LOCALS%和我的宝宝…又被赐予了」
			IF GETBIT(CFLAG:1502, 4)
				PRINTFORML 「两个人好好地参拜是值得的……我很高兴」
				PRINTFORML 「弟弟，还是…妹妹?是哪边呢…那孩子也会高兴的」
				PRINTFORMDW 映姬小心翼翼地抚摸着重新孕育新生命的下腹
			ELSE
				PRINTFORML 「没想到我会成为%TOKANJIT(EXP:出産経験 + 1)%个人的母亲…」
				PRINTFORML 「阎魔也看不透的事情，多得是啊…」
				PRINTFORMDW 映姬和生了孩子的喜悦一样，一样的惊讶困惑
			ENDIF
		ENDIF
		;疑似妊娠願望フラグ消去
		CLEARBIT CFLAG:1502, 4
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;思慕
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;陥落素質無し
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;無自覚
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML 「这么说来…大姨妈最近好像没来过…？」
		PRINTFORML 「…不，不会吧…那样…」
		PRINTFORMW 「只是碰巧，迟到了而已…肯定是这样的…」
		CFLAG:1805 = 1
		RETURN 1
	ENDIF
	;其他
ENDIF
RETURN 1
;==================================================
;出産
;==================================================
@M_KOJO_EVENT_K30_25(ARG,ARG:1)
#DIM C_NUM
;口上主はLOCAL
;ARG:1	何人目の兒童か
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
CLEARBIT CFLAG:1804, ARG:1
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;恋慕
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1 && CFLAG:身に覚え_母 == 1
		LOCALS = %CSTR:30:80%
		IF LOCALS == ""
			LOCALS = %MASTERNAME:30%
			SIF !TALENT:恋人
				LOCALS += "さん"
		ENDIF
		PRINTFORMW 「哈啊…哈啊…哈……」
		PRINTFORMW 「啊~…充满活力，的哭声……」
		PRINTFORMW 「我的，宝宝……我和、%LOCALS%的、可爱的宝宝…」
		PRINTFORMW 「出生了，谢谢…」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;思慕
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		;育児口上抑制フラグ
		SETBIT CFLAG:1804, ARG:1
		RETURN 1
	ENDIF
	
	;-------------------------------------------------
	;陥落素質無し
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		;育児口上抑制フラグ
		SETBIT CFLAG:1804, ARG:1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;無自覚
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORMW 「哈啊…哈啊…哈……」
		PRINTFORML 「我的…小宝宝…没有父亲的孩子，为什么上天要如此惩罚映姬呢」
		PRINTFORMW 「好想把你溺死，但是你什么都，什么都…没错…」
		PRINTFORML 「所有的罪孽咎…都由我一人…背负…」
		PRINTFORML 「呜…呜……为什么会变成这样…」
		PRINTFORMDW 映姬拥抱自己的孩子静静地流着眼泪，滴在宝宝脸上，宝宝舔到苦涩的泪水，哭的更厉害了…
		CFLAG:1805 ++
		SETBIT CFLAG:1804, ARG:1
	ENDIF
	;其他
ENDIF
RETURN 1
;==================================================
;オナバレ
;==================================================
@M_KOJO_EVENT_K30_26(ARG,ARG:1)
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;見られた瞬間
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
		PRINTFORMW 「呀啊ーー！！」
		PRINTFORMDW 映姬发出好像从咒缚中解脱出来一般的尖锐悲鸣。这是平时绝对听不到的声音…
		PRINTFORMDW 映姬一边用外套拼命地遮住下半身一边追问
			IF TALENT:恋慕
				PRINTFORML 「什,什么时候…为什么会在这里……」
				PRINTFORMW 「看、看、看到了吗…不，不是的!不是的，这是…」
			ELSE
				PRINTFORML 「为,为什么你会在这里！」
				PRINTFORMW 「在女性的房间，擅自进入什么的……」
			ENDIF
			PRINTFORMDW 映姬面红耳赤地指手画脚了起来,但是之前完全暴露出来的玉贝嫩穴,已经完全映入眼帘，完全没有任何威严可言……
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 1
		;什麼也不做
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			PRINTFORMW 「欸………？好……………」
			PRINTFORMDW 回答得像个傻瓜一样之后，映姬也愣了一会儿…
			PRINTFORMW 「到底……搞什么啊……」
			PRINTFORMW 「这……该怎么办才好呢……」
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 2
		;そのまま続行
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			PRINTFORMDW 对于平时连提都不敢提的玩笑提议,混乱的映姬居然作出了回应。
			IF TALENT:恋慕
				PRINTFORML 「是,也是啊…如果这样彼此都能满意的话……也不错呢」
				PRINTFORMW 「男女之间的和睦相处,也有不同的形式。就像这样……」
			ELSE
				PRINTFORML 「是、是啊，如果我继续这样下去，你就是偷窥的大罪人……」
				PRINTFORMW 「我就能把握你的软肋,没错,只要我继续下去的话……」
			ENDIF
			PRINTFORMDW 映姬嘟哝着即使听了也不太明白的借口……
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 3
		;逐出
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			PRINTFORMW 「那、那、那样的事我做不到！」
			IF TALENT:恋人
				PRINTFORML 「对，对，这是秘密的练习！下次见面的时候！为了让你吃惊！」
				PRINTFORMW 「这不是坏事！因为是秘密！即使是恋人也不能看！」
			ELSEIF TALENT:恋慕
				PRINTFORML 「比，比起那个，是你！在这里很奇怪！！」
				PRINTFORMW 「是因为听到被喊到名字才来的吗？」
				PRINTFORMW 「……讨厌,我…的声音…有那么大么？」
			ELSE
				PRINTFORML 「是,是啊,现在就,把,把你堕入地狱就没有任何问题了！」
				PRINTFORMDW 从公明正大的阎魔大人口中说出了不得了的话……
				PRINTFORMW 「啊啦，但是，这个人好像马上就会回来……」
			ENDIF
			PRINTFORMW 「……总,总之,赶紧给我出去——！！」
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 4
		;やっちゃう
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			PRINTFORMW 「欸，什么事…？那个……动作是…？啊，不，稍等一下…」
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 5
		;事後
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			IF TALENT:恋慕 && CFLAG:MASTER:约会中 != MAIN_MAP
				PRINTFORML 「………不行,这样下去会上瘾的……」
				PRINTFORMW 「……………好激…好激烈♥」
			ELSEIF !TALENT:恋慕
				PRINTFORML 「……唔…为什么…我会…哈啊……」
				PRINTFORMW 「这样的…做了这样的事……」
			ELSE
				PRINTFORMW 「今天………你…强来什么的………太过分了……」
			ENDIF
			CFLAG:1504 = TIME:2
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 6
		;事後お泊り
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		PRINTFORMW 「也是呢,就这样回去就太可惜了」
		SIF K30_FIND_LOVER() == 1
			PRINTFORMW 「……今天一天就让我们将彼此当做恋人不也很好么……」
		PRINTFORMW 「稍微休息一下,有件事想请你帮忙」
		PRINTFORMW 「那么，到了晚上……继续吧♥」
		RETURN 1
	ENDSELECT
ENDIF
RETURN 1
;オナバレックス判定用関数
;ガチガチにガード固めすぎてもつまんないけど陥落無しならさすがに弾く
;RETURN -1で強制失敗、RETURN 1で強制成功
@M_KOJO_EVENT_K30_26_1(ARGS)
#DIM 補正値
SIF !(TALENT:思慕 || TALENT:恋慕 || TALENT:炮友 || TALENT:愛欲)
	RETURN -1
RETURN 0
;==================================================
;相手から约会のお誘い
;约会に誘われるのは恋慕から、相手に宴会参加予定那个ば思慕以上で宴会に同行
;==================================================
@M_KOJO_EVENT_K30_27(ARG,ARG:1)
;口上主はLOCAL
;ARG:1は目的地
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	CALL K30_DENY_POLYAMORY(1)
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;誘い文句
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			IF K30_CHECK_HEN_T()
				IF TALENT:恋人
					PRINTFORMW 「%K30_C_NAME(MASTER)%、不显眼的地方…去哪里吧…」
				ELSEIF TALENT:恋慕
					PRINTFORMW 「%K30_C_NAME(MASTER)%、你知道人少的地方吗…」
				ELSE
					PRINTFORMW 「拜托了。请跟我来…」
				ENDIF
			ELSE
				IF TALENT:恋人
					PRINTFORMW 「一起去玩吗，%K30_C_NAME(MASTER)%？」
				ELSEIF TALENT:恋慕
					PRINTFORMW 「%K30_C_NAME(MASTER)%、要不要一起出去？」
				ELSE
					PRINTFORMW 「机会难得，一起去参加宴会吧？」
				ENDIF
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 1
		;受けた
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			TCVAR:30:358 = 1
			IF K30_CHECK_HEN_T()
				PRINTFORMW 「谢谢您…」
			ELSEIF TALENT:恋慕
				RESULT = 0
				SIF !GETBIT(CFLAG:1609, 2)
					CALL K30_INSERT_VIBE_DATE
				SIF RESULT
					RETURN 1
				PRINTFORMW 「呼呼,那么我们走吧」
			ELSE
				PRINTFORMW 「谢谢」
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 2
		;断った
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			IF K30_CHECK_HEN_T()
				PRINTFORMW 「是吗…」
			ELSEIF TALENT:恋慕
				PRINTFORML 「哈啊,这样的话时间就又空出来了…」
				PRINTFORMW 「真没办法啊,就趁这段空闲时间,去对谁说教吧…」
			ELSE
				PRINTFORMW 「...是这样吗」
				PRINTFORML 「...您说的对,被任意摆布也很困扰吧」
				PRINTFORMW 「我失礼了」
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 3
		;部屋に誘われた
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			IF K30_CHECK_HEN_T()
				PRINTFORMW 「那个……%K30_C_NAME(MASTER)%、要不要在我的房间谈？」
			ELSE
				IF TALENT:恋人
					PRINTFORMW 「%K30_C_NAME(MASTER)%、在我的房间里好好休息吧？」
				ELSEIF TALENT:恋慕
					PRINTFORMW 「那个……%K30_C_NAME(MASTER)%、要不要在我的房间谈？」
				ELSE
					PRINTFORMW 「我有些话想在我的房间里对你说」
				ENDIF
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 4
		;部屋に誘われたのを受けた
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			IF K30_CHECK_HEN_T()
				PRINTFORMW 「非常感谢……」
			ELSE
				IF TALENT:恋人
					PRINTFORMW 「嗯,那么,我们走吧♪」
				ELSEIF TALENT:恋慕
					PRINTFORMW 「非常感谢。那么请到这边来吧。」
				ELSE
					PRINTFORMW 「非常感谢。那么请跟我来。」
				ENDIF
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 5
		;部屋に誘われたのを断った
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			IF TALENT:恋人
				PRINTFORML 「啊啦,居然连恋人的请求都放置不管」
				PRINTFORMW 「是还有什么要紧的事么？」
			ELSEIF TALENT:恋慕
				PRINTFORMW 「真遗憾呐……」
			ELSEIF TALENT:思慕
				PRINTFORMW 「这样啊。真没办法呢……」
			ENDIF
				PRINTFORMW 「那么下次有机会的话……」
			RETURN 1
		ENDIF
	ENDSELECT
ENDIF
RETURN 1

;==================================================
;脱衣口上
;==================================================
@M_KOJO_EVENT_K30_28(ARG,ARG:1)
;口上主はTARGET
;ARGに脱がし方選択
;ARG:1（ARG=3の場合のみあり）地の文の反応
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;全裸にする
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			;時間停止時
			IF FLAG:70
			;通常
			ELSEIF TALENT:恋慕
				IF RAND:2 == 0
					PRINTFORMW 「………好的」
				ELSE
					PRINTFORMW 「不……不要一直目不转睛盯着这里呀……」
				ENDIF
			ELSE
				PRINTFORMW 「……………………」
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 1
		;变成只穿内衣的样子
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			;時間停止時
			IF FLAG:70
			;通常
			ELSEIF TALENT:恋慕
				IF RAND:2 == 0
					PRINTFORMW 「……好害羞……」
				ELSE
					PRINTFORMW 「这样…就行了吧」
				ENDIF
			ELSE
				PRINTFORMW 「……………………」
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 2
		;半脱
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			;時間停止時
			IF FLAG:70
			;通常
			ELSEIF TALENT:恋慕
				IF RAND:2 == 0
					PRINTFORMW 「……这件衣服也要全部脱掉吗？」
				ELSE
					PRINTFORMW 「衣服…就这样穿着吗……？」
				ENDIF
			ELSE
				PRINTFORMW 「……………………」
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 3
		;胖次ちょうだい
		;記入チェック（=0, 非表示、1, 表示）
		;CFLAG:1910 Bit =4 内裤走私者検挙履歴
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			SELECTCASE ARG:1
				;-------------------------------------------------
				CASE 0
				;交換です
				;記入チェック（=0, 非表示、1, 表示）
				LOCAL:1 = 1
				;-------------------------------------------------
				IF LOCAL:1
					PRINTFORMW 「呵呵，作为交换，我要你的…」
					RETURN 1
				ENDIF
				;-------------------------------------------------
				CASE 1
				;OK（嬉々
				;記入チェック（=0, 非表示、1, 表示）
				LOCAL:1 = 1
				;-------------------------------------------------
				IF LOCAL:1
					PRINTFORMW 「可以哦,%K30_C_NAME(MASTER)%。好了,给你吧」
					SIF GETBIT(CFLAG:1699, 0)
						PRINTFORMW 「所以……请只靠我的……来忍耐吧」
					RETURN 1
				ENDIF
				;-------------------------------------------------
				CASE 2
				;OK（渋々
				;記入チェック（=0, 非表示、1, 表示）
				LOCAL:1 = 1
				;-------------------------------------------------
				IF LOCAL:1
					PRINTFORMW 「……请不要用在奇怪的事情上哦……」
					SIF GETBIT(CFLAG:1699, 0)
						PRINTFORMW 「把这种东西收集起来到底打算怎么做呢？真是的」
					RETURN 1
				ENDIF
				;-------------------------------------------------
				CASE 3
				;嫌です
				;記入チェック（=0, 非表示、1, 表示）
				LOCAL:1 = 1
				;-------------------------------------------------
				IF LOCAL:1
					PRINTFORMW 「……你觉得我会允许这种事吗？」
					SIF GETBIT(CFLAG:1699, 0)
						PRINTFORMW 「之前也提醒过了，还在做胖次收集什么的吗？」
				ENDIF
				RETURN 1
			ENDSELECT
		ENDIF
	ENDSELECT
ENDIF
RETURN 1

;==================================================
;憤怒口上
;==================================================
@M_KOJO_EVENT_K30_29(ARG,ARG:1)
;口上主はTARGET
;ARGはTARGETの胆量で分岐
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;怒らせてしまった
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		;MASTERが怒らせたフラグ
		TCVAR:30:372 = 0
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;泣かせてしまった　[膽怯]持ち
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;相手が推倒を解除
;==================================================
@M_KOJO_EVENT_K30_30(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	TCVAR:30:376 = 0
	;-------------------------------------------------
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
	;疲惫
		PRINTFORML 「哈啊,哈啊……我,已经到极限了…」
		PRINTFORMW 「谢谢,陪我到最后呢……」
		;終了記録
		CALL K30_UFUFU_RECORD
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		;満足して解放
		IF (TALENT:妊娠願望 || GETBIT(CFLAG:1502, 4)) && 充填率(30, 4) > 20 && !TCVAR:口服避孕薬
			PRINTFORML 「哈啊，哈………谢谢。好厉害…太好了」
			PRINTFORML 「这里，也如此满足…非常幸福…♥」
			PRINTFORMDW 映姬小心翼翼地抚摸着她被播种的下腹
			PRINTFORMW 「好好地，能做到的话…就好了呢」
		ELSEIF INRANGE(TCVAR:30:363, -4, -2)
			PRINTFORML 「哈啊，哈啊……好厉害…太好了♥从早上開始…辛苦了♥」
			PRINTFORML 「啊啊、但是…你和我都…粘糊糊的…」
			PRINTFORMW 「要不要风吕好好休息一下？」
			TCVAR:30:363 = -100
		ELSEIF TALENT:恋慕
			PRINTFORML 「哈啊,哈啊………呼呼,谢谢,让我满足了♪」
			PRINTFORMW 「%K30_C_NAME(MASTER)%也不讨厌这样的东西吧」
		ELSE
			PRINTFORML 「哈啊,哈啊……今天就到此为止吧」
			PRINTFORMW 「……对不起，让你陪我。谢谢……」
		ENDIF
		;終了記録
		CALL K30_UFUFU_RECORD
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
	TCVAR:30:376 = 1
	;満足したところを推倒た
		IF TALENT:恋慕
			SELECTCASE RAND:3
				CASE 0
					PRINTFORML 「……%K30_C_NAME(MASTER)%是特别的？别人是怎样的呢……」
					PRINTFORMDW 看着还干劲十足的%CALLNAME:MASTER%,映姫似乎有些退缩
				CASE 1
					PRINTFORML 「……看来玩火过头了呢」
					PRINTFORMW 「但是是啊…这样的话我也要负责任啊」
				CASE 2
					PRINTFORML 「也是呢,平时的你也不会就这样满足吧……」
					PRINTFORMW 「那么，这次轮到我…满足了……」
			ENDSELECT
		ELSE
			PRINTFORML 「欸、欸欸？　还没有…不做不行吗……？」
			PRINTFORML 「我都已经这样了………呀啊！？」
			PRINTFORMDW 和刚才相反，%CALLNAME:MASTER%强行推倒了映姬……
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
	;被逆推フラグ再点灯
	TCVAR:30:376 = 2
	;壊れるまでしてあげる
		PRINTFORML 「……既然都这么说了。那就试试看吧」
		PRINTFORMW 「地狱的阎魔大人会认真地攻击你的………能坚持到什么时候呢♥」
		RETURN 1
	ENDIF
ENDIF
RETURN 1


;==================================================
;一日の終了時(AFTERTRAニーの前)、面識がなければ呼び出されない
;==================================================
@M_KOJO_EVENT_K30_31(ARG,ARG:1)
;口上主はTARGET
;ARGは会ってない日数
;何日以上会ってなかったら愚痴を言うとかできます
;CFLAG:オナバレで分岐入れてもよさそう
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
VARSET LOCALS
IF LOCAL
	SIF GETBIT(CFLAG:30:1500, 2)
		SETANIMETIMER 50
	;日記フラグ：ぱんつの日、恋慕取得、妊娠願望取得、小町と同時、尻穴狂、炮友、スイッチ準備
	SIF DIARY:30:11 == 0 && FLAG:異常気象 == 7
		CALL K30_WRITE_DIARY(11)
	SIF DIARY:30:30 == 0 && TALENT:30:恋慕
		CALL K30_WRITE_DIARY(30)
	SIF DIARY:30:32 == 0 && GETBIT(CFLAG:1502, 3)
		CALL K30_WRITE_DIARY(32)
	IF DIARY:30:36 == 0 && GETBIT(CFLAG:1910, 8) == 0
		IF GET_UWAKI_HISTORY(30, 76) == 2
			SIF TALENT:30:恋慕
				CALL K30_WRITE_DIARY(36)
			SETBIT CFLAG:1910, 8
		ENDIF
	ENDIF
	SIF DIARY:30:37 == 0 && TALENT:尻穴狂
		CALL K30_WRITE_DIARY(37)
	SIF DIARY:30:39 == 0 && TALENT:炮友
		CALL K30_WRITE_DIARY(39)
	SIF DIARY:30:40 == 0 && CFLAG:1608 >= 2 && TALENT:尻穴狂 && DAY % 2 == 0
		CALL K30_WRITE_DIARY(40)
	;振動棒约会フラグリセット
	CLEARBIT CFLAG:1609, 1
	;縁結びフラグ立てor折り
	IF FLAG:祈願内容 == 30 && CFLAG:翌日来訪 == 1 && GET_MAPID(GET_CHARAHOME(30)) != MAIN_MAP
		CFLAG:1603 = 1
	ELSE
		CFLAG:1603 = 0
	ENDIF
	;诶嘿嘿がまん日数記録
	IF TCVAR:30:380
		CFLAG:1603 = 0
	ELSE
		CFLAG:1603 ++
	ENDIF
	PRINTFORML 
	CALL M_KOJO_COLOR_K30
	;媚薬でいじった素質戻す
	IF GETBIT(TCVAR:30:367, 1)
		TALENT:30:淫乱 = 0
		PRINTFORMDL 映姬身上的药没有效果了…
		PRINTFORMDW 映姫失去了[淫乱] 
		PRINTFORML 
	ENDIF
	;関数使用と呼び名安定しないので先に固定
	LOCALS = %CSTR:30:80%
	IF LOCALS == ""
		LOCALS = %MASTERNAME:30%
		SIF !TALENT:恋人
			LOCALS += "さん"
	ENDIF
	;今日会っていなければおやすみ口上フラグ折っておく
	SIF TCVAR:30:今天有否见面 == 0
		CFLAG:1605 = 0
	;詫び胖次処理
	IF TCVAR:30:377
		IF TCVAR:30:377 < 0
			;貰う胖次を抽選。没穿内裤/四角裤を渡さないように最低値は2
			LOCAL = MAX(今天穿的内裤(30), 2)
			PRINTFORMDL 枕边放着细心折叠的%PANTSNAME(LOCAL, 30)%
			PRINTFORMDL 那么无聊的约定也要好好遵守，真不愧是阎魔大人…
			PRINTFORML 
		ELSE
			LOCAL = TCVAR:30:377
		ENDIF
		PRINTFORMDW %CALLNAME:MASTER%は\@ TCVAR:30:377 < 0 ? # 藏起来了 \@映姫の%PANTSNAME(LOCAL, 30)%加入了收藏
		CFLAG:30:(胖次管理 + LOCAL) ++
		PRINTFORML
	ENDIF
	;口上通って無くても同棲中的房間戻ってたらおやすみ口上フラグ立てる
	SIF CFLAG:MASTER:初期位置 == CFLAG:30:初期位置 && CFLAG:MASTER:初期位置 == CFLAG:MASTER:現在位置
		CFLAG:1605 = 1
	;無自覚妊娠関連口上
	IF CFLAG:1805
		IF GROUPMATCH(CFLAG:妊娠経過日数, 40, 61) || CFLAG:出産経過日 == 1
			CALL K30_INSENSIBLE_PREGNANCY
			CFLAG:1805 ++
			RESETCOLOR
			SETANIMETIMER 32627
			RETURN 1
		ENDIF
	ENDIF
	;兒童自立口上without你
	IF CFLAG:出産経過日 >= CHILD_自立 - 2
		CALL K30_CHILD_INDEPENDENCE
		RESETCOLOR
		SETANIMETIMER 32627
		RETURN 1
	ENDIF
	;同棲相手が無断外泊とか普通はキツい。幻想郷の子、ドライすぎない？
	;それとは別に映姫様は重い女の方が良い
	IF CFLAG:MASTER:初期位置 == CFLAG:30:初期位置 && CFLAG:MASTER:現在位置 != CFLAG:30:初期位置
		CALL EVENTEND_TSUBUYAKI
		SELECTCASE RAND:3
			CASE 0
				LOCALS:1 = 「%LOCALS%……不要，让我，一个人……%LOCALS%…」
			CASE 1
				LOCALS:1 = 「或许…%LOCALS%身上出了什么事？　……不会吧，那种事…」
			CASE 2
				LOCALS:1 = 「%LOCALS%…为什么不回来呢…吶，为什么…？」
		ENDSELECT
		;イキ顔を泣き顔と言い張る暴挙
		IF CFLAG:差し替え適用 && 顔絵付きメッセージ
			CALL K30_SPTALK, "絶頂", @"%LOCALS:1%"
		ELSE
			PRINTFORML %LOCALS:1%
		ENDIF
		PRINTFORMDW 一去不回的%CALLNAME:MASTER%，映姬为之憔悴…
		RESETCOLOR
		SETANIMETIMER 32627
		RETURN 1
	ENDIF
	;妊娠願望取得
	CALL K30_DENY_POLYAMORY(3)
	IF !RESULT && !EXP:出産経験 && !TALENT:妊娠願望 && CFLAG:1502 == 7
		CALL EVENTEND_TSUBUYAKI
		PRINTFORML 
		LOCALS:1 = （不能总是找借口…必须更坦率一点）
		LOCALS:2 = （%MASTERNAME:30%一起活过的证明…爱过、被爱过的证据）
		LOCALS:3 = （把两人爱的结晶纳入这肚子里…）
		IF CFLAG:差し替え適用 && 顔絵付きメッセージ
			CALL K30_SPTALK, "LOVE", @"%LOCALS:1%/%LOCALS:2%/%LOCALS:3%"
			PRINTFORML 
		ELSE
			PRINTFORML 
			PRINTFORML %LOCALS:1%
			PRINTFORML %LOCALS:2%
			PRINTFORMW %LOCALS:3%
		ENDIF
		PRINTFORMDL 映姬从心底希望能和%CALLNAME:MASTER%生孩子
		PRINTFORMDW 映姫获得了[妊娠願望]
		TALENT:妊娠願望 = 1
		SETBIT CFLAG:1502, 3
		RESETCOLOR
		SETANIMETIMER 32627
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;会わない日に一言
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1
		;陥落無しならしっかり間隔を開ける。攻略対象外が出しゃばって是けません。ついでに顔も出しません
		IF ARG % 21 == 0 && ARG && !TALENT:30:恋慕 && !TALENT:30:思慕
			CALL EVENTEND_TSUBUYAKI
			PRINTFORMDL 阎魔大人忙于文件工作…
			PRINTFORMDL 告一段落的时候，突然想起了奇怪的外来人
			PRINTDATAW
				DATAFORM 「%K30_C_NAME(MASTER)%…好像有段时间没见过面了」
				DATAFORM 「%K30_C_NAME(MASTER)%…果然，不会靠近我啊」
				DATAFORM 「%K30_C_NAME(MASTER)%…这几天没有说教」
			ENDDATA
			PRINTFORML 「…………………」
			PRINTFORML 「唉…这是常有的事。」
			PRINTFORMDW 映姬没有特别在意接着工作了
		;思慕は10日に１回＠映姫様ここからが固いので放置しがちだよね
		ELSEIF ARG % 10 == 0 && ARG && TALENT:30:思慕
			CALL EVENTEND_TSUBUYAKI
			STRDATA LOCALS:1
					DATAFORM 「%K30_C_NAME(MASTER)%…有好好地积累善行吗…」
					DATAFORM 「%K30_C_NAME(MASTER)%…只要对女人不那么不检点就行了…」
					DATAFORM 「%K30_C_NAME(MASTER)%…有没有做奇怪的事，好担心…」
			ENDDATA
			IF CFLAG:差し替え適用 && 顔絵付きメッセージ
				CALL K30_SPTALK, "アニメ", @"%LOCALS:1%"
			ELSE
				PRINTFORML %LOCALS:1%
			ENDIF
			PRINTFORMDL 映姬突然想起了许久未见的%CALLNAME:MASTER%的事
			PRINTFORMDW 虽然不知道为什么，但是感觉到了内心的骚动…
		;恋慕なら5日会わない毎に一言
		ELSEIF ARG % 5 == 0 && ARG
			IF TALENT:30:恋人
				CALL EVENTEND_TSUBUYAKI
				STRDATA LOCALS:1
					DATAFORM 「竟然这么放任恋人不管……下次见面的话，绝对要…」
					DATAFORM 「焦虑吗?还是…只是什么都没想而已…？」
					DATAFORM 「%LOCALS%的话…反正又和其他女孩子…」
				ENDDATA
				IF CFLAG:差し替え適用 && 顔絵付きメッセージ
					CALL K30_SPTALK, "反発", @"%LOCALS:1%"
				ELSE
					PRINTFORML %LOCALS:1%
				ENDIF
				PRINTFORMDW 想到不来相会的恋人，映姬焦急万分…
			ELSEIF TALENT:30:恋慕
				CALL EVENTEND_TSUBUYAKI
				STRDATA LOCALS:1
					DATAFORM 「如果我突然去见他的话…会不会很奇怪……」
					DATAFORM 「我知道那个人是个见异思迁的人，虽然我已知晓…」
					DATAFORM 「等他到来……与其这样，不如去见面…但是……」
				ENDDATA
				IF CFLAG:差し替え適用 && 顔絵付きメッセージ
					TFLAG:192 = -6
					CALL K30_SPTALK, "赤面", @"%LOCALS:1%"
				ELSE
					PRINTFORML %LOCALS:1%
				ENDIF
				PRINTFORMDW 想着迟迟见不到的思念之人，映姬心情郁闷…
			ENDIF
		ENDIF
		RESETCOLOR
		SETANIMETIMER 32627
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;今日会っている
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
	ENDIF
ENDIF
RESETCOLOR
RETURN 1

;==================================================
;ハッピーニューイヤー
;年越しの瞬間に同じ部屋に居ると発生
;==================================================
@M_KOJO_EVENT_K30_33(ARG,ARG:1)
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	IF CFLAG:ブチギレ || MARK:反発刻印 > 1 || TCVAR:烂醉
		RETURN 1
	ELSEIF K30_CHECK_HEN_T()
		PRINTFORML 「新年应该是可喜可贺的……在这个场合…」
		PRINTFORMW 「我为什么不是盛装，而是穿着这样的衣服呢……」
	ELSEIF TALENT:恋人
		PRINTFORML 「%K30_C_NAME(MASTER)%、新年快乐!」
		PRINTFORML 「哼哼~…能陪你一起年龄增长」
		PRINTFORMW 「非常棒…感觉非常幸福…♥」
	ELSEIF TALENT:恋慕
		PRINTFORML 「新年快乐，%K30_C_NAME(MASTER)%」
		PRINTFORMW 「这一年也请多多关照」
	ELSE
		PRINTFORMW 「新年快乐」
		PRINTFORML 「闲话不多说，%K30_C_NAME(MASTER)%」
		PRINTFORMW 「新一年伊始，也是新生活伊始，你不认为吗？」
		PRINTFORML 「让去年的反省留在脑海，迎接新的一年……」
		PRINTFORML 「……只有日积月累的善行…………」
		PRINTFORML 「……………………」
		PRINTFORML 「…………」
		PRINTFORMDW 全然没有过年的风情，映姬似乎已经開始正常营业了…
	ENDIF
ENDIF
RETURN 1

;==================================================
;技能レベルUP
;各ABL値はレベルUP後の値になってます
;典口上参考にしました
;==================================================
@M_KOJO_EVENT_K30_34(ARG,ARG:1)
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	SIF !CFLAG:面識 || FLAG:70 || TCVAR:烂醉 || CFLAG:睡眠
		RETURN 1
	SIF ARG >= 11 && !TALENT:恋慕
		RETURN 1
	SELECTCASE ARG
		CASE 1
		;戦闘技能
			PRINTFORML 「…我竟然还有实力成长的空间」
			PRINTFORMW 「果然还是每天钻研…不能忘了努力啊」
		CASE 2
		;話術技能
			PRINTFORML 「…太生硬的说法，本来能传达的东西也传达不了」
			PRINTFORMW 「从%K30_C_NAME(MASTER)%那里也能学到东西呢」
		CASE 3
		;清掃技能
			IF TALENT:恋慕 && GETBIT(CFLAG:30:既成事實, 1)
				IF RAND:2
					PRINTFORML 「和%K30_C_NAME(MASTER)%在一起会被弄脏很多……养成了快速收拾的习惯…」
					PRINTFORMW 「打扫水平也变得很好是理所当然的…嘛、吶吶…」
				ELSE
					PRINTFORML 「总觉得只有擦拭和打扫的能力变好了…」
					PRINTFORMW 「%K30_C_NAME(MASTER)%と…擦拭湿漉漉的东西、四处飞散的东西…」
				ENDIF
				PRINTFORML 「…………」
				PRINTFORMW 「啊啊、真难为情…」
			ELSE
				PRINTFORML 「…确实，这样看的话很容易就能发现污渍呢」
				PRINTFORMW 「%K30_C_NAME(MASTER)%…为什么那么执着于打扫呢？」
			ENDIF
		CASE 4
		;教養
			PRINTFORML 「…我也開始懂得那些无聊的事情」
			PRINTFORML 「果然还是多亏了%K30_C_NAME(MASTER)%…？」
			PRINTFORMW 「…真是复杂啊」
		CASE 5
		;料理技能
			IF TALENT:恋慕
				PRINTDATAW
					DATAFORM 「好不容易做出来的」\n「我想让%K30_C_NAME(MASTER)%尝好吃的东西啊…」
					DATAFORM 「能让%K30_C_NAME(MASTER)%满意我也变得有干劲了」\n「能学会做料理真是太好了」
					DATAFORM 「和%K30_C_NAME(MASTER)%一起吃的话什么都好吃…」\n「难得来一次，必须做出更好的东西」
				ENDDATA
			ELSE
				PRINTDATAW
					DATAFORM 「虽然一讲究起来就没完没了…」\n「料理真有趣啊」
					DATAFORM 「…%K30_C_NAME(MASTER)%是从哪里学来那么多料理的呢？」\n「是勤快还是马虎呀…真是个奇怪的人」
					DATAFORM 「原来如此…光加辣味也不行啊」\n「要么衬托麻香，要么隐藏…」\n「太深奥了」
				ENDDATA
			ENDIF
		CASE 6
		;採集Lv
			PRINTDATAW
				DATAFORM 「既然机会难得，何不在 是非曲直厅的食材增加一些野草…」\n「…过于寒酸相了吗？」
				DATAFORM 「积累知识，培养眼光…」\n「从采集中学到的东西意外地多呢」
			ENDDATA
		CASE 7
			IF ARG:1 == 0
			;音楽技能
			ELSEIF ARG:1 == 1
			;【音楽知識】取得
			ELSEIF ARG:1 == 2
			;【相対音感】取得
			ENDIF
		CASE 8
			;釣魚Lv
		CASE 9
			IF ARG:1 == 0
			;調合Lv
			ELSEIF ARG:1 == 1
			;【調合知識】取得
			ENDIF
		CASE 10
			;伐採Lv
		CASE 11
			IF ARG:1 == 0
			;指
				PRINTDATAL
					DATAFORM 「捏着是不行的呢」\n「太用力也不好…」
					DATAFORM 「…用双手握住，怎么样？」\n「如果给你包起来的话……能让你感觉舒服吗…」
					DATAFORM 「光握着擦是不行的…」\n「…先头和袋子也要注意呢…」
				ENDDATA
				PRINTDATAW
					DATAFORM 「要更加摩多摩多的记住…」
					DATAFORM 「%K30_C_NAME(MASTER)%…要是你能高兴就好了…」
				ENDDATA
			ELSEIF ARG:1 == 1
			;【靈活手指】取得
				PRINTFORML 「打个比方的话…用手指…吸附着不放么？」
				PRINTFORMW 「这样的话……就能独占%K30_C_NAME(MASTER)%吗…♥」
			ENDIF
		CASE 12
			IF ARG:1 == 0
			;舌
				PRINTDATAW
					DATAFORM （奇怪的气味奇怪的味道…）\n（尽管如此，无论多少次都想为他做…♥）
					DATAFORM （我的嘴竟然有这样的用法…）\n（真的…很棒啊、吶…♥）
					DATAFORM （%K30_C_NAME(MASTER)%忍耐的表情看起来很舒服呀…）\n（看招看招，看你用我的舌头去感受…最喜欢了…♥）
				ENDDATA
			ELSEIF ARG:1 == 1
			;【舌頭靈活】取得
				PRINTFORML （%K30_C_NAME(MASTER)%的弱点…舌头全部记住了哦…♥）
				PRINTFORML （但是还不够…再多更多地舔吧…）
				PRINTFORMW （真想让你更舒服啊…♥）
			ENDIF
		CASE 13
			IF ARG:1 == 0
				PRINTDATAW
					DATAFORM 「我也在努力…」
					DATAFORM 「%K30_C_NAME(MASTER)%喜欢的大小…是吗？」
					DATAFORM 「不足的部分可以用工夫和努力来弥补…」
				ENDDATA
			;胸
			ELSEIF ARG:1 == 1
			;【淫乳】取得
				PRINTFORML （被%K30_C_NAME(MASTER)%大人…调教的乳房…正在喜悦呀）
				PRINTFORMW （大小无所谓，只想奉献这对欧派……只要…只要两个人舒服就行♥）
			ENDIF
		CASE 14
			;腰
			PRINTDATAW
				DATAFORM 「嗯？　总觉得小腹周围…好像痛快了…」
				DATAFORM 「嗯？　腹肌有点抽筋了…像这样…」
				DATAFORM 「啊，啊啦？　内衣有点…太紧了…」\n「…屁股…变大了？？」	
			ENDDATA
			PRINTFORML （…………）
			PRINTFORML （要是动得那么H的话…）
			PRINTFORMW （变成这样也是理所当然的哟…♥）
		CASE 15
			IF ARG:1 == 0
			;膣
				PRINTDATAW
					DATAFORM （%K30_C_NAME(MASTER)%的形状…）\n（还有插入的感觉…都忘不了了…♥）
					DATAFORM （啊…好厉害，变得这么……容易湿…）\n（想要啊，好想要%K30_C_NAME(MASTER)%的…精液…♥）
					DATAFORM （这么说来…好像一開始很痛…？）\n（明明连手指都…很害怕）\n（现在…这里…好像会吸进去一样…♥）	
				ENDDATA
			ELSEIF ARG:1 == 1
			;【淫壺】取得
				PRINTFORML （我最重要的地方…）
				PRINTFORML （终于，终于…变成了%K30_C_NAME(MASTER)%专用的东西♥）
				PRINTFORMW （啊啊、下一次的做……我等不及了啊…♥）
			ENDIF
		CASE 16
			IF ARG:1 == 0
			;肛門
				IF ABL:肛門 == 1
					LOCALS = （明明是…奇，奇怪…的感觉…）\n（真的是，忘不了…HPH）
				ELSE
					STRDATA LOCALS
						DATAFORM （我知道自己……越来越不行了…）\n（啊啊…HPH　但是，好希望…再用屁股……HPH）
						DATAFORM （这么不检点……明明很丢脸，却…）\n（停不下来…太舒服了，停不下来…HPH）
						DATAFORM （被插入，再拔出的感觉…我要被驯化了，调教了呀！）\n（我…会变成什么样呢……）\n（…会…会变得更加更加舒服吗…HPH）
					ENDDATA
				ENDIF
				CALL HPH_PRINT, LOCALS, "W"
			ELSEIF ARG:1 == 1
				;【尻穴狂】取得
				CALL HPH_PRINT, "（啊啊…HPH　屁股，居然这么，这么的……舒服啊…HPH）", "L"
				CALL HPH_PRINT, "（已经，不行了…已经，我…回不去了…HPH）", "W"
			ENDIF
	ENDSELECT
	PRINTL 
ENDIF
RETURN 1

;==================================================
;デイリーイベント2,夢精
;濃厚精液状態で発生
;▼地の文--------------------------------------------------
;【MASTER】が夢精で汚した内衣を洗っていると【TARGET】が飛んできた！
;【TARGET】はそんなもの他の洗濯物と一緒に洗わないでと抗議すると、【MASTER】の手に収まった内衣を粪だくり戻っていった…
;【TARGET】　欲情の珠＋1000
;==================================================
;==================================================
;Optional: Determines if the standard description should be skipped.
;Return 0 if description and KOJO should be shown, 1 if description should be hidden and KOJO shown, 2 if description should be shown and KOJO hidden, and 3 if both description and KOJO should be hidden.
;==================================================
@M_KOJO_DAILY_EVENT_MESSAGECHECK_K30_2
RETURN 1

@M_KOJO_DAILY_EVENT_K30_2(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;地の文を変えたければコメントアウト
;※コメントアウトすると欲情の珠＋1000（JUEL:11 += 1000）もカットされるので注意
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	LOCALS = %CSTR:30:80%
	SIF LOCALS == ""
		LOCALS = %\@ TALENT:恋人 ? %MASTERNAME:30% # %MASTERNAME:30%さん \@%
	PRINTFORMDL %CALLNAME:MASTER%在清洗被遗精弄脏的内衣时，被路过的映姬听到了声音
	PRINTFORMW 
	IF TALENT:恋慕
		PRINTFORML 「%LOCALS%？　这么晚了还说什么…」
		PRINTFORMW 「啊~…」
		IF TALENT:妊娠願望 || GETBIT(CFLAG:1502, 4)
			PRINTFORML 「总觉得对不起，让你这么隐忍这么久…」
			PRINTFORMW 「是因为我月亮的东西…月经…对吧……？」
			PRINTFORML 「……那个……我也好久没做了……很寂寞」
			PRINTFORML 「可以的话，我等你…」
			PRINTFORMDW 映姬满脸通红地走了…
		ELSE
			PRINTFORML 「欸度，你忍耐了很久呢…」
			PRINTFORMW 「那个…如果有困难的话，可以商量哦…」
			PRINTFORMDW 映姬脸红红的走了…
		ENDIF
	ELSE
		PRINTFORML 「%LOCALS%？　这个时间到底怎么了…」
		PRINTFORMW 「啊~…」
		PRINTFORML 「欸ー多……用冷水马上洗的话，应该不会留下那样的污迹」
		PRINTFORML 「如果介意的话，据说使用萝卜泥可以很好地去除斑点哦」
		PRINTFORMW 「那么，请加油…」
		PRINTFORMDW 映姬披露了奇妙的豆知识后离開了…
	ENDIF
ENDIF
PRINTFORML 
RETURN 1

;==================================================
;デイリーイベント4,物思い
;親密5以上で発生（来訪角色のみ）
;▼地の文--------------------------------------------------
;とりとめもない思考に耽っていた【TARGET】は、いつの間にか【MASTER】のことを考えていたことに気づいた
;【TARGET】は明日【MASTER】に会いに行くことにしたようだ
;==================================================
@M_KOJO_DAILY_EVENT_K30_4(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;地の文を変えたければコメントアウト
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	LOCAL = DAY - CFLAG:最後に会った日
	IF TALENT:恋慕
		IF LOCAL % 5 == 0 && LOCAL != 0
			PRINTFORMW 「果然…光等着可不行啊…」
		ELSEIF LOCAL < 5
			PRINTFORMW 「永远在一起…如果能一直在一起就好了…」
		ELSE
			PRINTFORML （完全见不到…寂寞、寂寞啊…）
			PRINTFORMW 「如果去见他，他会是怎样的表情呢…」
		ENDIF
	ELSEIF TALENT:思慕
		IF LOCAL % 10 == 0 && LOCAL != 0
			PRINTFORMW 「……我很在意」
			PRINTFORMW 「还是得亲自去看看情况」
			PRINTFORML （是的，只是去看看你有没有好好地积累善行）
			PRINTFORMW （就，仅此而已…）
		ELSEIF LOCAL < 10
			PRINTFORML 「因为是那个人…」
			PRINTFORMW 「离開视线的时候，可能又在做奇怪的事情…」
		ELSE
			PRINTFORML 「最近没见到过…」
			PRINTFORMW 「到底是怎么回事呢？」
		ENDIF
	ELSE
		PRINTFORML 「呦西，明天……巡回的时候顺便观察%K30_C_NAME(MASTER)%…」
		PRINTFORMDW 映姬用笔在手上写下明天的安排
	ENDIF
ENDIF
PRINTFORML 
RETURN 1

[SKIPSTART]
;==================================================
;デイリーイベント12,特訓
;信頼100以上で発生（拠点角色のみ）
;==================================================
@M_KOJO_DAILY_EVENT_K30_12(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;地の文を変えたければコメントアウト
;コメントアウトできるのはARG:1=1,2のみです
CALL DAILY_MESSAGE_12(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	SELECTCASE ARG:1
	CASE 1
		;特訓を頼まれる
		;～から新技の訓練に付き合って欲しいと言われた
		PRINTFORML 
	CASE 2
		;拒绝
		;～は残念そうだ
		PRINTFORML 
	CASE 3
		;～の攻撃！
		;※ここはWAITしないでください
		PRINTFORML 
	CASE 4
		IF ARG:2
			;時間停止して回避
			PRINTFORML 
		ELSE
			;回避成功
			PRINTFORML 
		ENDIF
	CASE 5
		;回避失敗
		PRINTFORML 
	ENDSELECT
ENDIF
RETURN 1

;-------------------------------------------------
;オナバレ遭遇時の地の文を默认のものから変更したい場合用
;その場合は上下のSKIPSTART~SKIPENDを外してください
;CFLAG等の角色変数を使用場合、角色番号の指定が必要になります
;-------------------------------------------------
@M_KOJO_EVENT_K30_ONABARE_1(ARG)
;-------------------------------------------------
:口上色を付けるならコメントアウトを外しXを角色番号に
;CALL M_KOJO_COLOR_K30

IF ARG
	PRINTFORML A弄ってる場合
ELSE
	PRINTFORML V弄ってる場合
ENDIF
;-------------------------------------------------
[SKIPEND]


[SKIPSTART]
;-------------------------------------------------
;オナバレでそのまま続けてもらう場合の地の文を默认のものから変更したい場合用
;その場合は上下のSKIPSTART~SKIPENDを外してください
;CFLAG等の角色変数を使用場合、角色番号の指定が必要になります
;-------------------------------------------------
@M_KOJO_EVENT_K30_ONABARE_2(ARG)
;-------------------------------------------------
:口上色を付けるならコメントアウトを外しXを角色番号に
;CALL M_KOJO_COLOR_K30

IF ARG
	PRINTFORML A弄ってる場合
ELSE
	PRINTFORML V弄ってる場合
ENDIF
;-------------------------------------------------
[SKIPEND]


[SKIPSTART]
;-------------------------------------------------
;オナバレ無崩しックスの地の文を默认のものから変更したい場合用
;その場合は上下のSKIPSTART~SKIPENDを外してください
;CFLAG等の角色変数を使用場合、角色番号の指定が必要になります
;-------------------------------------------------
@M_KOJO_EVENT_K30_ONABARE_3(前戯１,本番はどっちか,回数,注入量)
;-------------------------------------------------
#DIM 前戯１
;1=C 2=B 3=M
#DIM 本番はどっちか
;0でＶ、1でＡ
#DIM 注入量
#DIM 回数

:口上色を付けるならコメントアウトを外しXを角色番号に
;CALL M_KOJO_COLOR_K30

SELECTCASE 前戯１
	CASE 1
		PRINTFORML Ｃ責め
	CASE 2
		PRINTFORML Ｂ責め
	CASE 3
		PRINTFORML Ｍ責め
ENDSELECT

IF 本番はどっちか
	PRINTFORML Aで本番
ELSE
	PRINTFORML Vで本番
ENDIF
;-------------------------------------------------
[SKIPEND]


;-------------------------------------------------
;処女・無自覚非処女に挿入する直前の口上
;RETURN 1すると指令を中止します
;RETURN 0なら通します
;CFLAG:破瓜中止口上有がオンになってないと読み込まれないので注意
;-------------------------------------------------
@M_KOJO_EVENT_K30_LOST_VIRGIN_STOP
#DIM 拝み倒し回数
;-------------------------------------------------
SIF ONCE("処女ください")
	拝み倒し回数 = 0
IF TALENT:30:恋慕 || TALENT:30:炮友
	PRINTFORMDW 映姫はびくっとしたが、%CALLNAME:MASTER%を接受よう体勢を整えた
	RETURN 0
ELSE
	SELECTCASE 拝み倒し回数
		CASE 0
			IF FIRSTTIME("やらせて")
				PRINTFORML 「诶……诶！？　不行，不行！到此为止就这么多！！」
				PRINTFORMDL 果然阎魔大人很顽固
				PRINTFORMDW 到此为止，不让他越过最后一条线……
				IF EXP:30:Ａ性交経験 == 0
					PRINTFORML 
					PRINTFORMDW 沉默之后，映姬结结巴巴地開口了
					PRINTFORMW 「……作为代替,就是说…我的后面…那个……」
					PRINTFORMW 「………………」
					PRINTFORMW 「弄疼了就不行了！ ！ …但是，那个，在那边…如果可以的话……」
					PRINTFORMDW 映姬似乎想保护贞操,不过对肛門的话也有感觉不错呢…… 
				ENDIF
			ELSE
				PRINTFORML 「不管被说多少次不行就是不行!我绝对不会允许你到……到那种程度！！」
				IF EXP:30:Ａ性交経験 == 0
					WAIT
					PRINTFORMW 「………………」
					PRINTFORML 「……所以……如果不痛的话，那，用臀部，那就……」
				ENDIF
				PRINTFORMDW 阎魔大人的界线虽然模模糊糊，但似乎暂时没有说服的余地……
			ENDIF
		CASE 1
			PRINTFORMW 「说不行就是不行！　绝对不允许！！」
			IF EXP:30:Ａ性交経験 == 0
				PRINTFORMW 「…就用后面作为代替…稍微忍耐一下吧…」
			ELSE
				PRINTFORMW 「不是都已经…插过屁、屁股了么…」
			ENDIF
			PRINTFORMDW 被全力拒绝了…再逼迫下去可能不太好
		CASE 2
			PRINTFORMW 「………！！」
			PRINTFORMDW 还是放弃比较好吧…
		CASE IS <= 3
			PRINTFORMW 「我已经忍不住了！！」
			;終了記録
			CALL K30_UFUFU_RECORD
			;诶嘿嘿中断させる
			BASE:情緒 = 0
			CALL ENDUFUFU_ALL
			CALL GET_ANGRY(30, 2)
			TCVAR:30:386 = 1
			拝み倒し回数 = 0
	ENDSELECT
	拝み倒し回数 ++
	RETURN 1
ENDIF

;-------------------------------------------------
;CFLAG:口上内抱き寄せ判定_初回がオンになっている場合のみ有効
;初めて推倒た時、ここでRETURN -1すると推倒を強制的に中止します
;RETURN 0なら通常の判定を行い、RETURN 1すると無条件に成功させます
;特定のイベント（约会帰り接吻など）を見るまで诶嘿嘿できないようにしたいときなどにどうぞ
;-------------------------------------------------
@M_KOJO_EVENT_K30_PERMISSION_1
;-------------------------------------------------
PRINTFORML 
;RETURN -1
RETURN 0
;RETURN 1
;-------------------------------------------------


;-------------------------------------------------
;CFLAG:口上内抱き寄せ判定_通常がオンになっている場合のみ有効
;合意付きで推倒た時、ここでRETURN -1すると推倒を強制的に中止します
;RETURN 0なら通常街道成功させます
;合意があっても何らかの理由で诶嘿嘿できないようにしたいときなどにどうぞ
;-------------------------------------------------
@M_KOJO_EVENT_K30_PERMISSION_2
;-------------------------------------------------
PRINTFORML 
RETURN 0
;RETURN -1
;-------------------------------------------------

;-------------------------------------------------
;部屋描写用関数
;口上角色のOMANEKIBEYAか拠点の描写に使います
;記入する際はコメントアウトを外してください
;-------------------------------------------------
@K30_ROOM_DESCRIPTION
LOCALS = 
;诶嘿嘿中
;272スレ>>607さんの構文アイデアお借りしました
IF SHIRAHU(TARGET) && CFLAG:TARGET:诶嘿嘿
	SIF RAND:2 == 1
		RETURN
	SIF INRANGEARRAY(NOWEX, 1, 50, 0 ,4)
		LOCALS += @"%CALLNAME:TARGET%高潮时%TEXTR("喘息/醉得不省人事/哆嗦")%的声/"
	SIF TEQUIP:TARGET:振動棒 || TEQUIP:TARGET:肛用振動棒 || TEQUIP:TARGET:陰蒂夾 || TEQUIP:TARGET:乳頭夾
		LOCALS += "机械的低振动声/"
	SIF PALAM:TARGET:欲情 > PALAMLV:5 && TEQUIP:TARGET:口接触部位 == 0 && TIME != UFUFU_START_TIME
		LOCALS += @"%CALLNAME:TARGET%的粗重呼吸/"
	SIF ((TEQUIP:TARGET:50 == PLAYER && ABL:TARGET:Ｖ感覚 > 2)|| (TEQUIP:TARGET:51 == PLAYER && ABL:TARGET:Ａ感覚 > 2)) && PALAM:TARGET:欲情 > PALAMLV:3
		LOCALS += @"%CALLNAME:TARGET%の%TEXTR("冰雹もない/抑えきれない/艶めかしい")%%TEXTR("喘ぎ/よがり/嬌")%声/"
	SIF MASTER_POSE(4, 1)
		LOCALS += "含阴茎的声音/"
	IF (TEQUIP:TARGET:50 == PLAYER || TEQUIP:TARGET:51 == PLAYER) && PALAM:TARGET:潤滑 >= PALAMLV:3
		LOCALS += @"%CALLNAME:TARGET%の%\@ TEQUIP:TARGET:50 == PLAYER ? 蜜壶 # 尻穴 \@%来回搅动的水音/"
		SIF TEQUIP:TARGET:体位 == 2 
			LOCALS += "肉砰砰撞的声音/"
	ENDIF
	IF LOCALS != ""
		PRINTFORMD ◆
		PRINTDATADL 
			DATAFORM 因为是有年季的建筑，所以%TEXTR(LOCALS)%也能传到房间外面…
			DATAFORM %TEXTR(LOCALS)%透过薄薄的墙壁，连隔壁的房间都能听见…
			DATAFORM 如果隔壁房间有人的话，%TEXTR(LOCALS)%也一定能听到…
		ENDDATA
	ENDIF
	RETURN
ENDIF
;诶嘿嘿後
IF TCVAR:30:378
	PRINTFORM ◆
	SELECTCASE YOGORE:(CFLAG:MASTER:現在位置)
		CASE IS < 500
			TCVAR:30:378 = 0
			GOTO OTHER
		CASE IS < 1000
			PRINTFORMDL 用于善后处理的废纸巾散落在房间的角落里…
		CASE IS < 2000
			PRINTFORMDL 可以看到房间里到处溅满了激烈的斑点和污渍…
		CASEELSE
			PRINTFORMDL 房间里充满了飞溅的汗水和汁液，再加上精臭味，房间里变得很糟糕…
	ENDSELECT
	RETURN
ENDIF
$OTHER
SIF RAND:2 == 1
	RETURN
PRINTFORM ◆
;育児中
IF TALENT:30:育児中 && FLAG:兒童描写
	SELECTCASE YOGORE:(CFLAG:MASTER:現在位置)
		CASE IS < 500
			PRINTFORMDL 尽管在育儿中\@ CFLAG:30:初期位置 == CFLAG:MASTER:初期位置 ? 二人 # 映姫 \@的房间收拾得很干净
		CASE IS < 1000
			PRINTFORMDL %SHOW_CHILDNAME(30)%玩完的玩具滚到屋角
		CASE IS < 2000
			PRINTFORMDL %SHOW_CHILDNAME(30)%的衣服散落在房间的各处
		CASEELSE
			PRINTFORMDL %SHOW_CHILDNAME(30)%的\@ CFLAG:出産経過日 > 27 ? 恶作剧 # 疏忽 \@房间里一片混乱
	ENDSELECT
;同棲中
ELSEIF CFLAG:30:初期位置 == CFLAG:MASTER:初期位置
	SELECTCASE YOGORE:(CFLAG:MASTER:現在位置)
		CASE IS < 500
			PRINTFORMDL %CALLNAME:MASTER%和映姬的东西收拾得很干净
		CASE IS < 1000
			PRINTFORMDL %CALLNAME:MASTER%和映姬的随身物品放在房间一角
		CASE IS < 2000
			PRINTFORMDL %CALLNAME:MASTER%的东西散落在房间附近
		CASEELSE
			PRINTFORMDL %CALLNAME:MASTER%和映姬的随身物品到处乱七八糟地放着
	ENDSELECT
ELSE
	SELECTCASE YOGORE:(CFLAG:30:初期位置)
		CASE IS < 500
			PRINTFORMDL 找不到任何兴趣或娱乐用品，房间整理得很干净
		CASE IS < 1000
			PRINTFORMDL 房间里放着几份文件。 在闺房里也在工作吧
		CASE IS < 2000
			PRINTFORMDL 房间里随意地放着大量文件资料。阎魔的工作好像很辛苦
		CASEELSE
			PRINTFORMDL 房间里堆满了文件和资料。工作相当忙吧
	ENDSELECT
ENDIF
RETURN


;==================================================
;贈り物イベント
;==================================================
@M_KOJO_EVENT_K30_GIFT(ARG, GIFT_ID, 評価点, GIFT_NAME, SENSE)
#DIM GIFT_ID
#DIM 評価点
#DIMS GIFT_NAME
#DIMS SENSE
;---------------------------------------------------------------------------------------------------
;評価点       贈り物の評価点（1～999）,口上主があげた場合でも口上主の評価点
;GIFT_NAME    贈り物の名称
;SENSE        贈り物に設定された属性。STRCOUNT(DISH_TASTE, "ほげほげ/")を使用と特定の属性を判定できます。
;GIFT_ID      これ単体では使いません。以下の式内関数を使用とデータを抽出できます（こだわりたい人用）
;　GET_GIFTDATA(GIFT_ID, "回数")    貰った（あげた）回数
;　GET_GIFTDATA(GIFT_ID, "得点")    得点（1～999）,口上貂プレ内では用意されてます。
;　GET_GIFTDATA(GIFT_ID, "日期")    貰った（あげた）日期（1～9999）
;　GET_GIFTDATA(GIFT_ID, "場所")    買った場所（约会の行き先）
;　GET_GIFTDATA(GIFT_ID, "形容詞")  形容詞番号（贈り物_形容詞.erb参照）
;　GET_GIFTDATA(GIFT_ID, "本体")    本体番号（贈り物_本体.erb参照）
;--------------------------------------------------------------------------------------------------
;约会帰りに口上主が你に贈り物を渡す（陥落や好感度に関わらず親密5以上から発生）
;評価点は701～999（渡す角色本人の評価）
;--------------------------------------------------------------------------------------------------
IF ARG == 1
	;刻みすぎても大変なので評価は10点区切り
	評価点 = 評価点 >= 990 ? 100 # (評価点 / 100 * 10)
	;変Ｔ
	IF K30_CHECK_HEN_T()
		PRINTFORML 「其实我不打算在像今天这样的日子交给你…」
		IF TALENT:恋慕
			PRINTFORML 「因为我从你那里收到了很多」
			PRINTFORML 「即使是一点点也要仔细地返还」
		ELSE
			PRINTFORML 「平时承蒙您的关照，所以必须早点回信」
		ENDIF
		PRINTFORMW 「%GIFT_NAME%、请收下」
	;振動棒约会
	ELSEIF TCVAR:30:364
		CALL HPH_PRINT, @"「%K30_C_NAME(MASTER)%…今天，和我交往…谢谢HPH」", "L"
		CALL HPH_PRINT, @"「这个…%GIFT_NAME%、回礼…收下吧、吶HPH」", "L"
		PRINTFORMDW 映姬手颤抖着递来了礼物
		PRINTFORML 
		PRINTFORML 「还有，一个…礼物、但不是物品」
		PRINTFORML 「在我的…非常害羞的地方…」
		CALL HPH_PRINT, "「请印在，您的眼睛里HPH」", "L"
		PRINTFORMDL 映姬转身，大胆地卷起裙子
		PRINTFORMDL 一直戴到最后的肛门震动棒颤动着…
		CALL K30_PRINT_BUTT_IMAGE(-1, 2, 4, 3, 1, 0)
		WAIT
		PRINTFORMDL 映姬确认了%CALLNAME:MASTER%的视线后，慢慢地拔出了插入的震动棒…
		CALL HPH_PRINT, "「～～～～～～～～～啊HPH」", "L"
		LOCALS:0 '= "…………", "……", "…"
		RESETCOLOR
		CALL PRINT_GROUP(LOCALS, 3, 500)
		PRINTFORML 
		PRINTFORML Ａ経験 ＋2(映姫)
		PRINTFORML Ａ絶頂経験 ＋6(映姫)
		PRINTFORMW 絶頂経験 ＋6(映姫)
		CALL M_KOJO_COLOR_K30
		EXP:30:Ａ経験 += 2
		EXP:30:Ａ絶頂経験 += 6
		EXP:30:絶頂経験 += 6
		;経験値UP表示を次ターンで出さない為の処理
		TCVAR:30:Ａ経験 += 2
		TCVAR:30:Ａ絶頂経験 += 6
		TCVAR:30:絶頂経験 += 6
		TEQUIP:肛用振動棒 = 0
		TCVAR:30:364 = 0
		TCVAR:30:365 = 0
	ELSEIF TALENT:恋慕
		PRINTFORML 「今天\@ TCVAR:30:358 ? 和我交往 # 约会邀请 \@谢谢你陪我」
		PRINTFORML 「然后呢…\@ TCVAR:30:今天的礼物 ? 虽然被你抢先了，但我也送了礼物 # 我想给你的东西 \@也有呢」
		PRINTFORML 「请收下…能打開吗？」
		PRINTFORMW 
		PRINTFORMDL 映姬递过来的简朴箱子里装着%GIFT_NAME%
		PRINTDATAL
			DATAFORM 「虽然我在这件事上不太机灵……」
			DATAFORM 「我从来没有在选择的时候这么犹豫过……」
			DATAFORM 「这是我认为能有%TOKANJIT(評価点)%分\@ 評価点 == 100 ? 満点 # 大约 \@的礼物……」
		ENDDATA
		PRINTFORMW 「怎么样、%K30_C_NAME(MASTER)%…%TEXTR("喜欢/高兴/")%吗…？」
		PRINTFORMDL 有点不安的映姬，%CALLNAME:MASTER%把礼物和感谢的心情好好地传达了
		PRINTFORML 「是…太好了…」
		IF TALENT:恋人
			PRINTFORML 「……两个人出门，送礼物\@ TCVAR:30:今天的礼物 ? 互相交换 # 各有烦恼 \@」
			PRINTFORMW 「和%K30_C_NAME(MASTER)%在一起尽是新鲜事，很開心…♥」
		ELSE
			PRINTFORML 「你能高兴…那个…我松了一口气」
			PRINTFORML 「%K30_C_NAME(MASTER)%的喜好和爱好」
			PRINTFORMW 「一点点就好，我想知道更多」
		ENDIF
	ELSE
		PRINTFORML 「今日的\@ TCVAR:30:358 ? 交往 # 邀约 \@非常感谢」
		PRINTFORML 「虽说是回礼\@ TCVAR:30:今天的礼物 ? 我也准备了礼物 # 你能收下这个吗 \@」
		PRINTFORMW 「这是平时承蒙您照顾的礼物」
		PRINTFORMDL 映姬递过来的简朴箱子里装着%GIFT_NAME%
		;本体名を取得
		CALL GIFTDATA_MAIN(GET_GIFTDATA(CFLAG:送出的礼物, "本体"))
		SELECTCASE 評価点
			;好み的に多分手板一択だけど、手板の素晴らしさってなんだよ
			CASE 100
				PRINTFORML 「这么好的%RESULTS%，我也很难见到」
				PRINTFORMW 「希望你也能借此机会了解%RESULTS%的美妙之处」
			CASE 90
				PRINTFORML 「那个%RESULTS%，是我一眼就喜欢的东西哦」
				PRINTFORMW 「怎么样，你不觉得很棒吗？」
			CASE 80
				PRINTFORML 「这是我个人喜好的」
				PRINTFORMW 「%K30_C_NAME(MASTER)%也喜欢我的话我会很高兴的」
			CASE 70
				PRINTFORML 「我有点不太明白你的喜好…」
				PRINTFORMW 「%RESULTS%的话应该没问题吧…怎么样？」
		ENDSELECT
	ENDIF
	TCVAR:30:358 = 0
	RESETCOLOR
	RETURN 1
;--------------------------------------------------------------------------------------------------
;一日の終わりに今日获得的礼物を大事にする（700点以上）
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 2
	;IF STRCOUNT(SENSE, "可愛的/")
	;	PRINTFORMW 「收到了可爱的礼物」
	;ELSEIF 評価点 >= 800
	;	PRINTFORMW 「收到了非常漂亮的礼物」
	;ELSE
	;	PRINTFORMW 「收到了很棒的礼物」
	;ENDIF
	RETURN 1
;--------------------------------------------------------------------------------------------------
;一日の終わりに今日获得的礼物をお気に入りにする（↑の大事にするから続き）（700点以上かつ最高得点）
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 3
	;IF STRCOUNT(SENSE, "穿戴/")
	;	PRINTFORMW 「从明天開始把这个戴上吧」
	;ELSE
	;	PRINTFORMW 「从明天開始带着这个吧」
	;ENDIF
	RETURN 1
;--------------------------------------------------------------------------------------------------
;一日の終わりに今日获得的礼物をとりあえず保管する（400～699点）
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 4
	;PRINTFORMW 「总之先装饰一下吧」
	RETURN 1
;--------------------------------------------------------------------------------------------------
;一日の終わりに今日获得的礼物をこっそり質に入れる（400点未満）
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 5
	;PRINTFORMW 「我不喜欢这个～」
	RETURN 1
ENDIF
RETURN 1

;==================================================
;斗虫
;斗虫の口上は少し特殊で、PRINTを使用のではなく、
;台詞一行のみをRESULTSに入れてください
;ムシの名前は %MUSHI_NAME% で表示できます
;ムシの名前の最長は亞歷珊卓皇后鳥翼蝶の全角14文字です
;文字数制限があります。はみ出ないように気をつけてください
;ARGは残りムシ数か順位です
;==================================================
@M_KOJO_MESSAGE_COM_K30_MUSHI_BATTLE(ARGS, ARG)
#DIM 残りムシ数
#DIM 順位
#DIM TGT
SELECTCASE ARGS
CASE "試合前"
	;-------------------------------------------------
	;角色セレクト時,ARGは使えません
	;全角50文字くらいまで
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1
		IF GET_TARGETNUM() > 1
			IF MUSHI_TEAM && TCVAR:30:斗虫参加可否 > 2
				IF TCVAR:30:斗虫参加可否 == 3
					TGT = 0
				ELSE
					FOR TGT, 1, CHARANUM
						SIF TCVAR:TGT:斗虫参加可否 == 2
							BREAK
					NEXT
				ENDIF
			STRDATA RESULTS
				DATAFORM 「%K30_C_NAME(TGT)%，我们一起确认对方的虫吗」
				DATAFORM 「%K30_C_NAME(TGT)%，有什么作战计划吗？」
				DATAFORM 「%K30_C_NAME(TGT)%，让我们合力努力」
			ENDDATA
		ELSE
			TGT = K30_FIND_AROUND(1)
			TGT = !SHIRAHU(TGT) || TCVAR:TGT:斗虫参加可否 < 2 ? 0 # TGT
			STRDATA RESULTS
				DATAFORM 「%K30_C_NAME(TGT)%，让我们一起战斗，不留遗憾」
				DATAFORM 「%K30_C_NAME(TGT)%，拜托了」
				DATAFORM 「%K30_C_NAME(TGT)%，我会全力以赴」
				DATAFORM 「准备好了…随时可以」
				DATAFORM 「如果要战斗，就要光明磊落，结果会随之而来」
				DATAFORM 「我会努力让比赛变得精彩」
			ENDDATA
		ENDIF
	ELSE
		STRDATA RESULTS
			DATAFORM 「如果开始，我随时可以」\n「请让我参与」
			DATAFORM 「胜利取决于时机…」\n「但是，既然开始了，我想赢」
			DATAFORM 「您%\@ CFLAG:30:斗虫直接勝利 ? 对手没有不足之处 # 的挑战，我会击退的 \@%」\n「那么，开始吧」
		ENDDATA
	ENDIF
ENDIF
CASE "戦場に出した"
	;-------------------------------------------------
	;"【（角色）】は《（ムシ）》を戦場に出した！」"の直後
	;全角40文字まで（カギカッコ含む）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	残りムシ数 = ARG
	;-------------------------------------------------
	IF LOCAL:1
		IF MUSHI_NAME == "死神螳螂" && !RAND:3
			STRDATA RESULTS
				DATAFORM 「好了，你要好好工作」
				DATAFORM 「这里是这个死神吗…啊！　阔啦，为何在随意走动！」
				DATAFORM 「…不动了啊……小町在午睡吗？ 不，分明是装睡吧！」
			ENDDATA
		ELSEIF MUSHI_NAME == "大王虎甲" && RAND:2
			STRDATA RESULTS
				DATAFORM 「既然冠上阎罗之名，就不能灰溜溜的输掉」
				DATAFORM 「让吾以此虫来审判这里的一切吧。」
				DATAFORM 「此虫王可是吾的至宝…撒，一决胜负！」
			ENDDATA
		ELSEIF ARG > 1
			STRDATA RESULTS
				DATAFORM 「%MUSHI_NAME%、要上了」
				DATAFORM 「决定了就是%MUSHI_NAME%吧」
				DATAFORM 「%MUSHI_NAME%…很厉害哦」
				DATAFORM 「现在交给%MUSHI_NAME%」
				DATAFORM 「%MUSHI_NAME%…用普通的招数是不行的」
				DATAFORM 「让%MUSHI_NAME%给你展示一下什么是一瞬突破」
			ENDDATA
		ELSE
			STRDATA RESULTS
				DATAFORM 「最後就托付给%MUSHI_NAME%」
				DATAFORM 「如果%MUSHI_NAME%上也输了，就死心了」
				DATAFORM 「还没结束…还有%MUSHI_NAME%！」
				DATAFORM 「用%MUSHI_NAME%来终结这一战吧」
				DATAFORM 「%MUSHI_NAME%…在这里给你看看我们的志气」
				DATAFORM 「%MUSHI_NAME%、最后一手！」
			ENDDATA
		ENDIF
	ENDIF
CASE "攻撃時"
	;-------------------------------------------------
	;"【（角色）】《（ムシ）》の『（攻撃名）』！」"の直前
	;全角40文字まで（カギカッコ含む）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	残りムシ数 = ARG
	;-------------------------------------------------
	IF LOCAL:1
		IF MUSHI_NAME == "死神螳螂" && RAND:3
			STRDATA RESULTS
				DATAFORM 「死神的镰刀，可不是闹着玩的」
				DATAFORM 「虽然脾气很好，但是一旦进入战斗就无比勇敢」
				DATAFORM 「听话并好好工作……真不错真不错，不像某人」
			ENDDATA
		ELSEIF MUSHI_NAME == "大王虎甲" && RAND:3
			STRDATA RESULTS
				DATAFORM 「接受阎魔的审判吧!」
				DATAFORM 「我精心培育的这只虫子一击,你绝对无法承受」 
				DATAFORM 「虫子们没有罪过...但这也是比试」
			ENDDATA
		ELSE
			STRDATA RESULTS
				DATAFORM 「撒，做好觉悟」
				DATAFORM 「巨型忍虫落杀，能忍受这招吗？」
				DATAFORM 「全力的，一击！」
				DATAFORM 「不要手下留情」
				DATAFORM 「和我不一样，虫子们可不天真」
				DATAFORM 「让你屈服！」
			ENDDATA
		ENDIF
	ENDIF
CASE "倒れた時"
	;-------------------------------------------------
	;"【（角色）】《（ムシ）》は倒れた！！"の直後
	;全角40文字まで（カギカッコ含む）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	残りムシ数 = ARG
	;-------------------------------------------------
	IF LOCAL:1
		IF GROUPMATCH(MUSHI_NAME, "死神螳螂", "大王虎甲") && RAND:3
			STRDATA RESULTS
				DATAFORM 「没想到…这孩子会输…」
				DATAFORM 「这太严厉了……太厉害了。」
				DATAFORM 「居然失去了大棋子，真是痛苦啊…」
			ENDDATA
		ELSE
			STRDATA RESULTS
				DATAFORM 「啊啊！！？　得快点给你治疗…」
				DATAFORM 「不得了！　赶紧把它放回虫笼里…」
				DATAFORM 「对不起，在继续比斗之前先治疗处理一下…」
			ENDDATA
		ENDIF
	ENDIF
CASE "敗退時"
	;-------------------------------------------------
	;"【（角色）】敗退！！"の直後
	;全角40文字まで（カギカッコ含む）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	残りムシ数 = ARG
	;-------------------------------------------------
	IF LOCAL:1
		STRDATA RESULTS
			DATAFORM 「啊啊…我败北了」
			DATAFORM 「……技不如人，甘拜下风」
			DATAFORM 「虫使的差异决定了胜负…」
		ENDDATA
	ENDIF
CASE "タイマン：勝ち"
	;-------------------------------------------------
	;順位は1位＠ggの精神を忘れない映姫様
	;全角20文字まで（カギカッコ含む）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
		STRDATA RESULTS
			DATAFORM 「让我们称赞一下斗虫的努力吧」
			DATAFORM 「能取得好成绩是很好的，但最重要的是谦虚的心」
			DATAFORM 「我不会对这次胜利骄傲，只会精益求精」
			DATAFORM 「谢谢，相当精彩的一场比赛」
		ENDDATA
	ENDIF
CASE "タイマン：負け"
	;-------------------------------------------------
	;順位は2位
	;全角20文字まで（カギカッコ含む）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
		STRDATA RESULTS
			DATAFORM 「虫子们非常努力地奋斗了」
			DATAFORM 「真是好虫子们啊，请好好珍惜」
			DATAFORM 「我也有了下一个努力的目标」
			DATAFORM 「谢谢，相当精彩的一场比赛」
		ENDDATA
	ENDIF
CASE "バトルロイヤル：優勝"
	;-------------------------------------------------
	;順位は1位
	;全角30文字まで（カギカッコ含む）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
		STRDATA RESULTS
			DATAFORM 「与大伙的对战受益良多，感激不尽」
			DATAFORM 「这场对决，我的虫子似乎有了很好的进步」
			DATAFORM 「有种捡来胜利的感觉…但，我还是很高兴」
			DATAFORM 「对不起，这几乎是天上掉馅饼的胜利」
		ENDDATA
	ENDIF
CASE "バトルロイヤル：２位以下"
	;-------------------------------------------------
	;順位は2～4位
	;全角30文字まで（カギカッコ含む）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
		STRDATA RESULTS
			DATAFORM 「与大伙的对战受益良多，感激不尽」
			DATAFORM 「这个输与其说是虫子的差别，不如说是主人的问题吧…还需精进」
			DATAFORM 「虽然只有一纸之差，但输就是输…必须反省」
			DATAFORM 「虽然展开也不顺利……但是不能作为输了的借口啊」
		ENDDATA
	ENDIF
CASE "チーム戦：勝ち"
	;-------------------------------------------------
	;順位は1位（やられていても）
	;全角32文字まで（カギカッコ含む）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
		STRDATA RESULTS
			DATAFORM 「与大伙的对战受益良多，感激不尽」
			DATAFORM 「我认为这次胜利是双方的优点共同发挥的结果」
			DATAFORM 「协力取得胜利……心情很好很好呢！」
			DATAFORM 「是两个人合力的胜利」
			DATAFORM 「这个胜利也多亏了%K30_C_NAME(TGT)%」
		ENDDATA
	ENDIF
CASE "チーム戦：負け"
	;-------------------------------------------------
	;順位は2位
	;全角32文字まで（カギカッコ含む）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
		STRDATA RESULTS
			DATAFORM 「与大伙的对战受益良多，感激不尽」
			DATAFORM 「此次失败的经验…必可活用于下次」
			DATAFORM 「是配合不默契还是战略失误…反省点很多呢」
			DATAFORM 「合作很难，对手也很厉害…这次失败是我实力不足」
			DATAFORM 「对不起%K30_C_NAME(TGT)%…」
		ENDDATA
	ENDIF
ENDSELECT
SIF RESULTS != ""
	RETURN 1

;外出先特殊遭遇イベント
;映姫様はもとから一日おきに登場する＆通常遭遇と差別化できなかったのでパス
@RUN_INTO_K30(ARG)
RETURN -1

;炮友契約用
;"補正"でRETURNした数値が理性判定に加算されるので、
;簡単に炮友にしたいなら减少、難易度を上げたかったり実質不可能にしたいならプラスすべし
@KOJO_SF_CONTRACT_K30(ARGS)
SELECTCASE ARGS
	CASE "導入"
		PRINTFORMDL 向映姬提议成为性伴侣…
		PRINTFORMW 
		IF K30_CHECK_HEN_T()
			PRINTFORML 「……………」
			PRINTFORML 「……哈？」
		ELSE
			PRINTFORML 「什么？你说什么…」
			PRINTFORMW 「炮…炮友！？　我、呃…？」
			IF TALENT:風騷 || TALENT:容易高潮
				PRINTFORML （为什么……这样的……心动摇了…）
			ELSEIF !GETBIT(CFLAG:既成事實, 1)
				PRINTFORML 「！！？」
				PRINTFORML 「你！你知道自己在说什么吗！？」
			ELSEIF TALENT:思慕
				PRINTFORML 「再怎么…虽然身体…已经许可了…」
				PRINTFORML 「我……那样的事…」
			ELSE
				PRINTFORML 「…是不是听错了什么」
				PRINTFORML 「我不认为这是一个精神正常的提议」
			ENDIF
		ENDIF
	;口上が全然カバーしてない＆お堅い雰囲気出したいので基本お断り、ただし肛門経験ありだと揺らぐ感じに
	;実際に動かしてないから数字は適当
	CASE "補正"
		IF K30_CHECK_HEN_T()
			PRINTFORML 「…………」
			PRINTFORMDL 映姬无言地凝视着这边
			PRINTFORMDL 我好像是出门没看黄历，今天是那个T恤日…
			CALL COLORMESSAGE("【変なＴ恤衬衫】補正", C_YELLOW,1 ,1)
			TFLAG:193 = -1
			RETURN 9999
		ELSEIF TALENT:風騷 || TALENT:容易高潮
			PRINTFORML （为什么…？　对%K30_C_NAME(MASTER)%，这句话…生不起违抗…）
			PRINTFORMDL 映姬无法抗拒『上次』刻下的的记忆，身体变轻浮了…
			CALL COLORMESSAGE(@"【%\@ TALENT:容易高潮 ? 容易高潮 # 風騷 \@%】補正", C_YELLOW,1 ,1)
			TFLAG:193 = 3
			RETURN -5000
		ELSEIF EXP:Ａ性交経験 >= 50
			PRINTFORML （……如果，听从%K30_C_NAME(MASTER)%说的话）
			PRINTFORML （屁股…能让我的屁股更舒服吗…？）
			PRINTFORMDL 禁忌的快乐侵蚀着映姬心灵…
			CALL COLORMESSAGE("【肛門開発】補正", C_YELLOW,1 ,1)
			TFLAG:193 = 2
			RETURN -200
		ELSEIF EXP:無自覚Ａ経験 >= 50
			PRINTFORMDL ……突然映姬的不洁之穴感到莫名疼痛
			PRINTFORML （这是什么…这个…）
			PRINTFORML （这个冲动，我是……想要什么呢…？）
			PRINTFORMDL 映姬被无意识中刻画的肛门快乐所吸引…
			CALL COLORMESSAGE("【無自覚肛門開発】補正", C_YELLOW,1 ,1)
			TFLAG:193 = 1
			RETURN -100
		ELSE
			IF GETBIT(CFLAG:既成事實, 1)
				PRINTFORML 「…作为阎魔，不能输给诱惑」
			ELSE
				PRINTFORML 「…真的是不值一听的烂建议」
			ENDIF
			CALL COLORMESSAGE(@"映姬拒绝了%CALLNAME:MASTER%的提案", C_YELLOW,1 ,1)
			TFLAG:193 = -2
			RETURN 9999
		ENDIF
	CASE "成功"
		PRINTFORMW 「…我明白了」
		PRINTFORML 「不过，你可别误会哦」
		PRINTFORML 「像%K30_C_NAME(MASTER)%这样没有节操的人…不能放任不管」
		PRINTFORML 「我会挺身，那那个，阻止你这样的人」
		PRINTFORMW 「这真是…没办法，才…的事哦…」
		COM_STR = K30_契約
		CALL K30_WRITE_DIARY(39)
	CASE "失敗"
		IF TFLAG:193 < 0
			PRINTFORML 
			PRINTFORMDL …%CALLNAME:MASTER%的提案好像惹阎魔大人不高兴了
			CALL GET_ANGRY(30, 1)
		ENDIF
		SELECTCASE TFLAG:193
			CASE -2
				PRINTFORML 「我当然拒绝」
				PRINTFORMD 对此映姬斩钉截铁
			CASE -1
				PRINTFORML 「…偏偏在这种日子」
				PRINTFORML 「像今天这样的日子，请不要开玩笑！！」
				PRINTFORMD 在愤怒爆发中，映姬死去的眼睛都因为这恢复了光芒
			CASE 1, 2
				TIME += 20
				PRINTFORML 「…………」
				PRINTFORML 「…请不要说无聊的话」
				PRINTFORMW 「你不觉得任由精虫上脑，被下半身驱使着很羞耻吗？」
				PRINTFORML 「好吧，你说到底…」
				PRINTFORML 「……………！」
				PRINTFORMW 「……这样下去一定会下地狱……」
				PRINTFORMDL ………………！
				PRINTFORMDL …………！！
				PRINTFORMDL ……！！！
				PRINTFORMDL 被映姬狠狠教训了一顿
				PRINTFORMD %CALLNAME:MASTER%的提案就这样不了了之
			CASE 3
				PRINTFORMW 「…………」
				PRINTFORML 「…这件事我就特别的放过你了」
				PRINTFORML 「所以，刚才的对话…请忘记吧」
				PRINTFORMD 映姬神情复杂
		ENDSELECT
ENDSELECT
RETURN 1

;風チラ
;見られたのが映姫様
@M_KOJO_EVENT_K30_PANCHIRA
;変Ｔ
IF K30_CHECK_HEN_T()
CALL K30_PRINT_BUTT_IMAGE(330)
    PRINTFORML 「......!!」
    PRINTFORMDL 映姬默默抓住裙子,肩膀在发抖
    PRINTFORML 「.........」
    PRINTDATAW 
        DATAFORM 「...今天真的是...最糟糕的一天...」
        DATAFORM 「为什么...总是发生这种事...在我身上...」
        DATAFORM 「我真的...不想再出去了...」
    ENDDATA 
;バイブデート中
ELSEIF TCVAR:30:364
	CALL K30_PRINT_BUTT_IMAGE(-1, 0, 0, 3, 0, 0)
	CALL HPH_PRINT, @"「%TEXTR("呼/哈啊...、啊/哈咿")%...HPH」", "L"
    PRINTFORMDL 沉浸在快乐中的映姬已经来不及拉住裙子了
    PRINTFORMDL 裙子被掀起,露出了光滑的屁股和插在菊穴里的跳蛋!
    IF K30_BE_SEEN()
        PRINTFORMDW 但幸运的是,似乎没有被任何人目击...
    ELSE
        PRINTFORMDW 不过周围没有人,幸亏...
    ENDIF
    PRINTFORML 
    PRINTFORML (刚才,%K30_C_NAME(MASTER)%明明白白地...看到了)
    PRINTFORML (说不定...%K30_C_NAME(K30_FIND_AROUND(1), 2)%也看到了...我这里)
    CALL HPH_PRINT, @"(......啊哈HPHHPH)", "W"
    PRINTFORMDL 映姬肩膀发抖,僵立在原地
    PRINTFORMDW ...从大腿内侧渗出透明的液体,缓缓向下流淌 
;押し倒す気MAX
ELSEIF K30_PUSH_DOWN() > 599 && STRFIND(CSTR:30:0, "推倒") > -1 && TALENT:恋慕
    CALL K30_PRINT_BUTT_IMAGE(330)
    PRINTFORML 「%TEXTR("啊/嗯/不可以,呐")%...♥」
    PRINTFORML
    PRINTFORMDL 映姬%\@K30_BE_SEEN() ? 环顾四周后 # 迅速地\@%拉住裙子...
    PRINTFORMDW 似乎故意掀起了裙子...?
    IF K30_BE_SEEN()
        PRINTFORMDL 另一只手的食指立在嘴前,%CALLNAME:MASTER%做了个手势...
        PRINTFORML (嘘......%K30_C_NAME(MASTER)%、偷偷的...看过来好不好...♥)
        PRINTFORMW (看,我...在等你哦♥)
    ELSE
        PRINTFORML 「啊呀,裙子翻了起来...♥」
        PRINTFORMDL 映姬挥舞着裙角,明显在勾引%CALLNAME:MASTER%...
        PRINTFORMW 「%K30_C_NAME(MASTER)%...就算这样,还只看看而已吗...♥」
    ENDIF
ELSE 
	CALL K30_PRINT_BUTT_IMAGE(330)
	PRINTFORML 「%TEXTR("啊!/!!?/欸!? 啊啊!")%」
    PRINTFORML
    IF TALENT:恋慕
        SELECTCASE RAND:5
            CASE 0
                PRINTFORML 「...最近天气变化越来越大呢」
                PRINTFORML 「这股风也受到您的不良影响了吗?」
                PRINTFORMDW %CALLNAME:MASTER%把责任都推给了阎魔大人
            CASE 1
                PRINTFORML 「真是,完全是色色的风...」
                PRINTFORMW 「简直就像眼前的某人一样」
            CASE 2
                PRINTFORML 「在%K30_C_NAME(MASTER)%面前,我也总是放松警惕...」
                IF K30_BE_SEEN()
                    PRINTFORML 「%K30_C_NAME(K30_FIND_AROUND(1), 2)%都在,好羞耻...」
                ELSE
                    PRINTFORMW 「不能让部下看到这样的我...」
                ENDIF
            CASE 3
                PRINTFORML 「...这条裙子,长度是不是太短了点?」
                PRINTFORMW 「是不是该想办法改改...」
            CASE 4
                PRINTFORML 「...看到了吗...?」
                PRINTFORML 「那个,对不起...」
                PRINTFORMDW 映姬对惊慌失措的自己莫名道歉
        ENDSELECT
    ELSE
		SELECTCASE RAND:4 + (GET_TARGETNUM() > 1)
            CASE 0
                PRINTFORML 「............!」
                PRINTFORMDL %CALLNAME:MASTER%受到了映姬的瞪视...
                PRINTFORMDW 先移开视线装作没在看好了
            CASE 1
                PRINTFORML 「...大意了」
                PRINTFORML 「以后要更加留心」
                PRINTFORMDW 映姬故作冷静,整理着裙子
            CASE 2
                PRINTFORML 「...刚才只是意外。我也没狭隘到会因此责怪您」
                PRINTFORML 「不过,您看到的东西要立刻忘记」
                PRINTFORMW 「好吗?」
            CASE 3
                PRINTFORML 「不应该...我只注意警惕%K30_C_NAME(MASTER)%,结果...」
                PRINTFORMW 「自己的脚下却大意了...」
            CASE 4
                PRINTFORML 「那个...%K30_C_NAME(K30_FIND_AROUND(1))%,对不起」
                PRINTFORML 「让您看到了我不体面的一面」
                PRINTFORMDW ...映姬似乎故意忽视了%CALLNAME:MASTER%
        ENDSELECT
    ENDIF
ENDIF
;発生は一日一回
TCVAR:30:352 = 1
RETURN 1

;見られたのがMASTER
@M_KOJO_EVENT_K30_REV_PANCHIRA
;変Ｔ
IF K30_CHECK_HEN_T()
    PRINTFORML 「.........」
    PRINTFORMDW 映姬对眼前发生的奇怪%\@TALENT:MASTER:性別 == 2 ? 场景 # 光景\@%无动于衷...
;使用跳蛋中 
ELSEIF TCVAR:30:364
    CALL HPH_PRINT, @"「%TEXTR(@"嗯.../啊.../...HPH")%HPH」", "L"
    PRINTFORMDL 风停后,映姬还在盯着%CALLNAME:MASTER%的下半身...
    CALL HPH_PRINT, @"(啊...HPH %K30_C_NAME(MASTER)%的那个...好想快点...HPH)", "W"
;想压倒对方的气很高
ELSEIF K30_PUSH_DOWN() > 599 && STRFIND(CSTR:30:0, "推倒") > -1
    PRINTFORML (...啊)
    PRINTFORMDW 风停后,映姬还在用眼角瞄着%CALLNAME:MASTER%的裙子... 
;男あなた
ELSEIF TALENT:MASTER:性別 == 2
	PRINTFORML 「………」
	PRINTDATAL
		DATAFORM 「我想问您,为什么会穿成这样?」\n「您这个样子我还可以勉强接受」\n「但您就这样暴露给我看,我很困扰...」
        DATAFORM 「我知道您不是故意的」\n「但让我看到这样的东西,您想让我怎么办呢...」
        DATAFORM 「我不会怎么评判您的装扮」\n「但至少要谨慎些吧?」\n
        DATAFORM 「您的所作所为当然不是罪」\n「不过,对周围考虑不周也是事实」
        DATAFORM 「我无力改变您的怪异行径」\n「只请别再牵扯到我和周围的人了」
    ENDDATA
    PRINTDATADW
        DATAFORM 映姬叹了口气,一副无可奈何的样子
        DATAFORM 映姬一脸苦大仇深的表情
        DATAFORM 映姬摇着头,想赶走刚才看到的景象
    ENDDATA
ELSE
    PRINTDATAL
        DATAFORM 「等一下!?%K30_C_NAME(MASTER)%!? 能看到哦!」\n「快! 藏起来藏起来!」
        DATAFORM 「%K30_C_NAME(MASTER)%! 裙子! 掀! 起! 来! 了!」
        DATAFORM 「啊,那个...」\n「对、对不起,%K30_C_NAME(MASTER)%」\n「我确实看到了...」 
    ENDDATA
    PRINTFORMDW 不知为何,映姬比暴露%\@!EQUIP:MASTER:下半身内衣２ ? 赤裸下身 # 内裤\@%的%CALLNAME:MASTER%更加慌张...
ENDIF
RETURN 1

;引力操作
;適当な思いつきを入れてみる
@M_KOJO_EVENT_K30_GRAVITY(ARG)
;非プライベート且つ過疎の場所を適当にピックアップ
;末尾の0はマップ増設時のエラー落ち回避策
{
#DIM HIDEOUT = P21守矢神社分社, P131枯山水, P237公用水井, P306後院, P422後院, P506無縁塚,
				P612法廷, P712間欠泉地下中樞, P806瀑布背面, P928灼熱地獄跡, P1015砂浜, 0
}
TCVAR:30:引力点 = 0
;変Ｔの日に
SIF !K30_CHECK_HEN_T()
	RETURN
;映姫様とあなたがMAIN_MAPにいたら
SIF !GROUPMATCH(CFLAG:現在位置 / 100, CFLAG:MASTER:現在位置 / 100, MAIN_MAP)
	RETURN
;MAIN_MAPに映姫様在住の場合
IF MAIN_MAP == CFLAG:30:初期位置 / 100
;活動時間外なら自分の部屋に引きこもる
	IF !INRANGE(TIME / 60, 9, 20)
		TCVAR:30:引力点 = CFLAG:30:初期位置
	;日中は隅っこの方でじっとしている確率が5割
	ELSEIF CFLAG:今日の運勢 < 500
		TCVAR:30:引力点 = HIDEOUT:MAIN_MAP
	;恋人あなたが一人暮らしならあなた自室に逃げ込む確率が3割
	ELSEIF CFLAG:今日の運勢 > 699 && K30_FIND_LOVER() < 0 && (!PRIVATEROOM:(CFLAG:MASTER:初期位置 % 100))
		TCVAR:30:引力点 = CFLAG:MASTER:初期位置
	;もしくは部屋に引きこもる
	ELSEIF CFLAG:今日の運勢 > 699
		TCVAR:30:引力点 = CFLAG:30:初期位置
	ENDIF
;映姫様がMAIN_MAPに来訪の場合
	;日中は隅っこの方でじっとしている確率が5割
	IF CFLAG:今日の運勢 < 500
		TCVAR:30:引力点 = HIDEOUT:MAIN_MAP
	;恋人あなたが一人暮らしならあなた自室に逃げ込む確率が3割
	ELSEIF CFLAG:今日の運勢 > 699 && K30_FIND_LOVER() < 0 && (!PRIVATEROOM:(CFLAG:MASTER:初期位置 % 100))
		TCVAR:30:引力点 = CFLAG:MASTER:初期位置
	ENDIF
ENDIF
RETURN
