;-------------------------------------------------
; eraTheWorld 4.903用 ○○別人口上（キャラクターの名前を入れる、下にコンセプトなど一言あれば入れる）
;-------------------------------------------------
;他者による修正、加筆、改変については、同梱のライセンス条項に従ってください。

;------ ｷﾘﾄﾘ ｶｲｼ -----------
;eraTheWorld proto4.07パッチ取り込み用 Ver1.13
;テンプレートの使い方
;初めに置換コマンド等により KX を K(キャラNo) に変更して下さい  
;キャラNoはCSVフォルダのCharaファイルを参照　例(霧雨 魔理沙の場合)：KX =置換=> K11
;
;------ ｷﾘﾄﾘ ｵﾜﾘ -----------

;**** FlagManagement **********************************************************
;本口上にて使用しているCFLAG・TCVAR等
;TCVAR:350　挨拶判定
;TCVAR:351　季節・天候話判定
;TCVAR:352　デート会話判定
;TCVAR:353　物陰判定
;TCVAR:356　自室訪問判定
;TCVAR:357　住処訪問判定
;TCVAR:355　デイリー風呂場スキンシップフラグ
;TCVAR:360　なりきり等判定(1:なりきり 2:ロールプレイ１ 3:ロールプレイ２)
;
;CFLAG:1001　UPDATE用
;CFLAG:1002　名乗ったかどうか(あなたなら自動的に0)
;CFLAG:1003　名前設定用
;CFLAG:1004　一部イベント設定用
;CFLAG:1005　一部イベントUPDATE用
;CFLAG:1006　変化中に口上色を切り替えるかどうか

;CFLAG:1050　会話フラグ(bit管理 0,お茶１ 1,お茶2)
;CFLAG:1060　風呂場スキンシップ進行度

;CFLAG:1100
;CFLAG:1105　素質一時保存
;******************************************************************************

;### 口上存在判定 ###################################
@M_KOJO_K69_1(ARG)
;別人口上判定ですX2を同キャラ口上の通し番号に置き換えてください（一つ目の別人口上なら1、二つ目の別人口上なら2
;複数の同キャラ口上が同時表示されないために必要です、必ずXXXを変更してください
RESULTS = _別人変身版
;初期口上とは違う事を明示するため、口上選択時に表示されます、必ずＸＸＸを変更してください
RESULTS:1 = 变身补丁伴生版
RESULTS:2 = 和变身功能有联动的伴生口上，旨在展示变身玩法

;口上存在判定です、けしてコメントアウトしないでください
;他の処理は一切行わないように
RETURN 1

;### 口上基本フラグ設定 #############################
@M_KOJO_別人変身版_FLAGSETTING_K69
;基本フラグ設定はここで行ってください
;共通の口上フラグは必要な箇所のコメントアウトを外してご利用ください
;口上専用フラグはご自由に
;Xにはキャラ番号を入れてください

;眠姦口上有、時間停止口上有、なりきりに1を入れると、それぞれ時間停止時、眠姦時、なりきり時にコマンド口上が読み込まれるように
;入れないと時間停止時、眠姦時、なりきり時は一切喋りません
;CFLAG:69:眠姦口上有 = 0
;CFLAG:69:時間停止口上有 = 0
;CFLAG:69:なりきり口上有 = 0

;破瓜キャンセル口上有に1を入れると、@M_KOJO_EVENT_K69_LOST_VIRGIN_STOPでキャンセルの成否を操作できます
;CFLAG:69:破瓜キャンセル口上有 = 0

;口上内抱き寄せ判定_初回と口上内抱き寄せ判定_通常に1を入れると、M_KOJO_EVENT_K69_PERMISSIONで押し倒しの成否を操作できます
;CFLAG:69:口上内抱き寄せ判定_初回 = 0
;CFLAG:69:口上内抱き寄せ判定_通常 = 0

;押し倒し禁止に1を入れると、自分から押し倒してこなくなります
;以下は恋慕かセフレがつくまで押し倒してこなくなる使用例
;IF !TALENT:69:恋慕 && !TALENT:X:セフレ
;	CFLAG:69:押し倒し禁止 = 1
;ELSE
;	CFLAG:69:押し倒し禁止 = 0
;ENDIF

;来訪不能に1を入れると、来訪してこなくなります
;以下は面識があるまで来訪してこなくなる使用例
;IF !CFLAG:69:面識
;	CFLAG:69:来訪不能 = 1
;ELSE
;	CFLAG:69:来訪不能 = 0
;ENDIF

;口上色判定中にRESULT系を書き換えると一部口上が正しく読み込まれなくなるらしい
;### 口上色判定 ###################################
@M_KOJO_別人変身版_COLOR_K69(ARG)

;ここでSETCOLORすることで口上に色を付けられます
;例：SETCOLOR 0xC07070
SETCOLOR 0xCF7C38
LOCAL:1 = RESULT
LOCALS = %RESULTS%
LOCALS:1 = %RESULTS:1%
RESULT = 0
LOCAL = CFLAG:K69_CNUM:変化先
SIF ARG
	LOCAL = ARG
IF CFLAG:K69_CNUM:1006
	;派生口上側に移行　存在しない場合のみここで設定
	IF TCVAR:K69_CNUM:360 == 1
		;CALL K69_CALLKOJO("別人変身版_COLOR_K69","")
		TRYCCALLFORM 別人変身版_COLOR_K69_{LOCAL}
			RESULT = 1
		CATCH
			RESULT = 0
		ENDCATCH
	ENDIF
	IF !RESULT
		SETCOLOR K69_COLORCODE(LOCAL)
		;SETCOLOR MAX(0,GETRED()-8), MAX(0,GETGREEN()-8), MAX(0,GETBLUE()-8)
	ENDIF
ENDIF
RESULT = LOCAL:1
RESULTS = %LOCALS%
RESULTS:1 = %LOCALS:1%

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"UPDATE判定"
;※※※※※※※※※※※※※※※※※※※※※※※※※※
@M_KOJO_別人変身版_UPDATE_K69
#DIM TEMP
;口上独自のUPDATE用
;ENCOUNTER専用に独自分岐フラグを仕込んだ場合等にどうぞ
;UPDATE判定でCFLAG等のキャラ変数を使う場合、キャラ番号の指定が必要になります
TEMP = CURRENTREDRAW()
REDRAW 0
PRINTL
$SET_LOOP
PRINTFORM [0]素質：変化　　　
SIF !TALENT:69:変化
	SETCOLOR C_GRAY
PRINTFORML \[\@ TALENT:69:変化 ? 开启 # 关闭 \@\]

RESETCOLOR
PRINTFORM [1]自主变身　　
SIF !CFLAG:69:1004
	SETCOLOR C_GRAY
PRINTFORML \[\@ CFLAG:69:1004 ? 开启 # 关闭 \@\]

RESETCOLOR
PRINTFORM [2]变身时的口上颜色　
SIF !CFLAG:69:1006
	SETCOLOR C_GRAY
PRINTFORML \[\@ CFLAG:69:1006 ? 开启 # 关闭 \@\]

RESETCOLOR
PRINTL
PRINTFORML [3]説明　
PRINTFORML [4]完成设置

INPUT
SELECTCASE RESULT
CASE 0
	TALENT:69:変化 = !TALENT:69:変化
	GOTO SET_REF
CASE 1
	CFLAG:69:1004 = !CFLAG:69:1004
	GOTO SET_REF
CASE 2
	CFLAG:69:1006 = !CFLAG:69:1006
	GOTO SET_REF
CASE 3
	REDRAW TEMP
	PRINTL
	PRINTFORML 素質：変化		：是否赋予猯藏变身素质（关闭时会移除已有素质）
	PRINTFORML 自主变身			：部分事件中猯藏会自主保持变身形态
	PRINTFORMW 变身时口上颜色	：使用变身目标的角色口上颜色
	PRINTL
	REDRAW 0
	GOTO SET_LOOP
CASE 4
	PRINTL
CASEELSE
	$SET_REF
	CLEARLINE 7
	GOTO SET_LOOP
ENDSELECT
REDRAW TEMP
PRINTFORML 设置已完成
PRINTFORML 猯藏的变身素质\@ TALENT:69:変化 ? 已赋予 # 未赋予 \@
PRINTFORML 猯藏的自主变身功能\@ CFLAG:69:1004 ? 已启用 # 未启用 \@
PRINTFORMW 猯藏的口上颜色风格同步功能\@ CFLAG:69:1006 ? 已生效 # 未生效 \@

RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"ENCOUNTER"系イベント（エクストラ構文）
;※※※※※※※※※※※※※※※※※※※※※※※※※※
@M_KOJO_別人変身版_ENCOUNTER_K69
;初対面、挨拶のタイミング
;TALENTの変更はここでどうぞ。
;経験の変更は齟齬が出る場合がありますので、CSVを修正し同梱する事を推奨します

PRINTFORML 「哎呀，你小子是……」
PRINTFORML 注意到突然投来的视线，%CALLNAME:MASTER%转过身来
PRINTFORML 「啊呀，莫怪莫怪。见着生面孔忍不住多看两眼嘞」
PRINTFORML 视线那头的女子恍然回神般朝这边走来
IF GET_MAPID(CFLAG:MASTER:現在位置) == 2	;人里
	PRINTFORML ……乍看只是普通人类。但总觉得散发着某种压迫感
	PRINTFORML 「……嚯，眼力倒是不差嘛？」
ELSE
	PRINTFORML 那身影携着比自己身高还长的巨大尾巴，显然是妖怪之姿
	PRINTFORML 「……哼嗯，见着咱这副模样也不吃惊么」
ENDIF
PRINTFORML 「原来如此，这么说来你小子是从外面来的……」
	CALL ASK_YN("自报家门","保持沉默")
	IF !RESULT
		PRINTFORMW 你报上了自己的姓名
		SIF NAME:MASTER != "你"
			CFLAG:K69_CNUM:1002 = 1
		PRINTFORML 「噢噢，正是。好像确实听过这名字来着」
	ELSE
		PRINTFORMW 被气势所慑的你没能报上名字
		PRINTFORML 「哼嗯……？也罢，无妨无妨」
	ENDIF
	PRINTFORML 「俺乃佐渡二岩。大伙都唤俺作猯藏哟」
	IF ABL:MASTER:教養 > 2
		PRINTFORML 「……如你所料，俺也是从外面来的主」
	ELSE
		PRINTFORML 「……俺同你小子一样，都是外乡来的」
	ENDIF
	PRINTFORML 这么说着，用审视般的目光直直望过来
	PRINTFORML 「……哎哟，莫慌莫慌。往后还请多多关照嘞」
	PRINTFORMW 面对她妖异的笑容，%CALLNAME:MASTER%点头回应
	CFLAG:1003 = 1
RETURN 1

@K69_BEFORETRAIN_別人変身版
;一日の開始時、正確には来訪判定時に読み込む関数
;ここでCFLAG:XX:翌日来訪を設定して確実に来訪させたりTCVAR:XX:発情で朝っぱらからサカらせることもできる
;ただし「毎朝例外なく読み込まれる」ため、条件を設定しておくことが望ましい

;変化のリセット
IF CFLAG:69:変化先
	TALENT:69:体型 = CFLAG:69:1100
	TALENT:69:胸圍 = CFLAG:69:1105
	CFLAG:69:変化先 = 0
	CFLAG:69:変化元 = 0
ENDIF
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"SP_EVENT"系イベント
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;==================================================
;デート帰りにファーストKISS（合意も付く）
;==================================================
;==================================================
;Optional: Determines if the standard description should be skipped.
;Return 0 if description and KOJO should be shown, 1 if description should be hidden and KOJO shown, 2 if description should be shown and KOJO hidden, and 3 if both description and KOJO should be hidden.
;==================================================
@M_KOJO_別人変身版_SPEVENT_MESSAGECHECK_K69_1
RETURN 0

@M_KOJO_別人変身版_SPEVENT_K69_1(ARG,ARG:1)
;口上主はTARGET
;地の文表示
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	PRINTFORML 「你小子，有件事儿想说道说道」
	PRINTFORML 看着稍显忸怩模样的猯藏，你转身询问怎么了
	PRINTFORML 那瞬间，唇瓣便被攫了去
	PRINTFORML 「……怎的，摆出这般意外的神色」
	PRINTFORML 被突袭弄得恍惚的你，猛然回神追问原委
	PRINTFORML 「没啥子，见你总这般腼腆，咱就主动些罢咧」
	PRINTFORML 「……不乐意么？」
	PRINTFORML 面对略显不安询问的猯藏，你答说只是吃惊，其实欢喜得紧
	PRINTFORML 闻言她亦难得坦率地展露明媚笑颜
	PRINTFORML 

	;キスをキャンセルしたい場合は以下を開放
	;TCVAR:キスキャンセル = 1
ENDIF
RETURN 1

;==================================================
;デート帰りに告白（恋人が付く）
;==================================================
;==================================================
;Optional: Determines if the standard description should be skipped.
;Return 0 if description and KOJO should be shown, 1 if description should be hidden and KOJO shown, 2 if description should be shown and KOJO hidden, and 3 if both description and KOJO should be hidden.
;==================================================
@M_KOJO_別人変身版_SPEVENT_MESSAGECHECK_K69_2
RETURN 0

@M_KOJO_別人変身版_SPEVENT_K69_2(ARG,ARG:1)
;口上主はTARGET
;地の文表示
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
IF LOCAL
	CALL K69_CALLKOJO_EV("M_KOJO_SPEVENT_K69","_2",ARG,ARG:1)
ENDIF
RETURN 1
[SKIPSTART]
;書けん！！！
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;告白内容
	;この告白内容表示後に受けるかどうかの選択分が表示されます
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;告白オッケー（恋人が付く）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;告白失敗
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF

ENDIF
RETURN 1
[SKIPEND]
;==================================================
;デート帰り
;==================================================
;==================================================
;Optional: Determines if the standard description should be skipped.
;Return 0 if description and KOJO should be shown, 1 if description should be hidden and KOJO shown, 2 if description should be shown and KOJO hidden, and 3 if both description and KOJO should be hidden.
;==================================================
@M_KOJO_別人変身版_SPEVENT_MESSAGECHECK_K69_3
RETURN 0

@M_KOJO_別人変身版_SPEVENT_K69_3(ARG,ARG:1)
;口上主はTARGET
;地の文表示
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;通常帰宅
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	K69_1_TNAME = \@ CFLAG:69:変化先 != 0 ? %CALLNAME:(CFLAG:69:変化先)%样子 # \@的瑞藏
	IF LOCAL:1 && ARG == 0
		PRINTW 
		IF TALENT:恋人
			PRINTDATAL
				DATAFORM 「咱回来嘞。」
				DATAFORM 「……呐，再待会儿也不打紧吧？%MASTERNAME:69%……？」
				DATAFORM 「……偶尔这般也挺不赖嘛」
			ENDDATA
			PRINTFORMW 挽着手臂的%K69_1_TNAME%依依不舍地说着这般话语…
		ELSEIF TALENT:恋慕
			PRINTDATAL
				DATAFORM 「今儿个挺乐呵嘛，%MASTERNAME:69%」
				DATAFORM 「这就完事儿啦……下次还带咱去耍不？%MASTERNAME:69%？」
			ENDDATA
			PRINTFORMW 依偎着贴过来的%K69_1_TNAME%挂着微笑如是说…
		ELSEIF TALENT:愛欲
			PRINTDATAL
				DATAFORM 「喂喂，你小子。该不会这就完事儿了吧？」
				DATAFORM 「呐……咱可快憋不住劲儿了哟……♪」
			ENDDATA
			PRINTFORMW %K69_1_TNAME%妖媚笑着这般说道…
		ELSEIF TALENT:思慕
			PRINTDATAL
				DATAFORM 「哼嗯，偶尔这般倒也不差」
				DATAFORM 「你小子倒挺会找乐子嘛」
			ENDDATA
			PRINTFORMW %K69_1_TNAME%显得兴致盎然…
		ELSE
			PRINTFORML 「呼啊，辛苦辛苦」
			PRINTFORMW %K69_1_TNAME%大大地伸着懒腰…
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;反発刻印消去イベント
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORMW 「咋样？咱脸上沾了啥子不成？」
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;反発刻印2>1レベルダウンイベント
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORMW 「……罢了，咱也不是恶鬼嘛」
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;反発刻印3>2レベルダウンイベント
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORMW 「哈啊，真是……你小子也够呛人咧」
		PRINTFORML
		RETURN 1
	ENDIF
	PRINTFORML
ENDIF
RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"EVENT"系イベント
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;==================================================
;部屋で遭遇
;==================================================
@M_KOJO_別人変身版_EVENT_K69_1(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_1",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;朝起きたとき（おはよう口上）
;==================================================
@M_KOJO_別人変身版_EVENT_K69_2(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_2",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;夜寝るとき（おやすみ口上）
;==================================================
@M_KOJO_別人変身版_EVENT_K69_3(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_3",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;移動時すれちがい
;==================================================
@M_KOJO_別人変身版_EVENT_K69_4(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_4",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;他者介入でムード変化
;==================================================
@M_KOJO_別人変身版_EVENT_K69_5(ARG,ARG:1)
;口上主はTARGET
;ARGに入ってきたキャラ（人数が膨大なので、自己把握自己責任で
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_5",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;情事を目撃した
;==================================================
@M_KOJO_別人変身版_EVENT_K69_6(ARG,ARG:1)
;口上主はTARGET
;ARGに情事相手
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_6",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;情事を見られた
;==================================================
@M_KOJO_別人変身版_EVENT_K69_7(ARG,ARG:1)
;口上主はTARGET
;ARGに目撃者
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_7",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;目撃した情事を問い詰める（現在無し
;==================================================
@M_KOJO_別人変身版_EVENT_K69_8(ARG,ARG:1)
LOCAL = 1
;-------------

IF LOCAL
	CALL K69_CALLKOJO_EV("M_KOJO_EVENT_K69","_8",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;パンツ没収された
;==================================================
@M_KOJO_別人変身版_EVENT_K69_9(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_9",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;押し倒した
;==================================================
@M_KOJO_別人変身版_EVENT_K69_10(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_10",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;浴場で遭遇
;==================================================
@M_KOJO_別人変身版_EVENT_K69_11(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_11",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;寝床に忍び込み
;==================================================
@M_KOJO_別人変身版_EVENT_K69_12(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_12",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;お仕事中
;==================================================
@M_KOJO_別人変身版_EVENT_K69_13(ARG,ARG:1)
;口上主はTARGET
;ARG:1に残っている仕事量
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_13",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;食事系
;==================================================
@M_KOJO_別人変身版_EVENT_K69_14(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_14",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;MASTERが押し倒した
;==================================================
@M_KOJO_別人変身版_EVENT_K69_15(ARG,ARG:1)
#DIM 絶頂回数
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_15",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;添い寝する
;==================================================
@M_KOJO_別人変身版_EVENT_K69_16(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_16",ARG,ARG:1)
ENDIF
RETURN 1
;==================================================
;時止め終了時
;==================================================
@M_KOJO_別人変身版_EVENT_K69_17(ARG,ARG:1)
;口上主はTARGET
;排他と明記されていないモノは状況によっては連続で表示されるので注意
;ARGに射精状況
;ARG:1に射精状態
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_17",ARG,ARG:1)
ENDIF
RETURN 1
;==================================================
;ナマでやらせろ時
;==================================================
@M_KOJO_別人変身版_EVENT_K69_18(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_18",ARG,ARG:1)
ENDIF
RETURN 1
;==================================================
;神社暮らしを承認して貰う
;==================================================
@M_KOJO_別人変身版_EVENT_K69_19(ARG,ARG:1)
;口上主はARG
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_19",ARG,ARG:1)
ENDIF
RETURN 1
;==================================================
;帰宅時
;==================================================
@M_KOJO_別人変身版_EVENT_K69_20(ARG,ARG:1)
;口上主はLOCALS or RESULT
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_20",ARG,ARG:1)
ENDIF
RETURN 1
;==================================================
;陥落素質取得時
;==================================================
@M_KOJO_別人変身版_EVENT_K69_21(ARG,ARG:1)
;口上主はARG
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
IF LOCAL
	;なりきり口上を呼ぶと処理を飛ばしてしまう可能性があるためいったん固定
	;対応できたら解放
	;CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_21",ARG,ARG:1)
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;恋慕取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		SIF CFLAG:K69_CNUM:1002
			MASTERNAME:K69_CNUM = %CALLNAME:MASTER%殿
			PRINTFORML 　
			PRINTFORML 鲸吞亭最里的座位，猯藏把玩着空酒杯，绿叶帽檐压得比往常更低
			PRINTFORML 第三壶菊正宗见了底，往常该喊加酒的手却停在半空
			PRINTFORMW 「美宵...换成甘口的吧」
			PRINTFORML 突然改掉喝惯的烈酒，惊得柜台后的座敷童子差点摔了酒勺
			PRINTFORML 　
			PRINTFORML 尾尖无意识卷着上次被夸"有趣"的松果坠子，在榻榻米上划出深痕
			PRINTFORML 「那小子说太烈的伤胃...啧」
			PRINTFORML 镜片蒙着酒气，指尖在桌面重复且不安地描摹着汉字
			PRINTFORMW 横竖撇捺连起来是"笨"字，收尾时却多描了个心形
			PRINTFORML 　
			PRINTFORML 跟河童拼酒赢来的羊羹用妖力温着，包装纸上潦草写着
			PRINTFORMW "输家点心——狸妖赠"
			PRINTFORML 　
			PRINTFORML 「老朽怕是喜欢上了麻烦的家伙哩」
			PRINTFORML 对着虚空举杯，倒映的兽耳比枫叶还红
			PRINTFORML 本该辛辣的喉头泛着梅香，是某人推荐的喝法
			PRINTFORMW 　
			PRINTFORML 离店时"忘"在柜台的酒壶下，压着张皱巴巴的字条：
			PRINTFORML "明日申时三刻 老地方试新酒"
			PRINTFORMW 字条背面还有划掉的扭捏曲折的小字
			CALL DQPRINT("今夜月色甚美")
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;思慕取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML 　
		PRINTFORML 夜色中陶器轻碰的脆响惊起几只寒鸦，二岩猯藏斜倚着斑驳的木栅栏。月光穿过她晃动的兽耳
		PRINTFORML 在酒盏边缘折射出细碎银斑，尾巴正有一下没一下地扫着地面的枯叶。
		PRINTFORMW 　
		PRINTFORML 「那个叫%MASTERNAME%的小子...」
		PRINTFORML 指尖摩挲着盏沿的龟裂，松果从尾尖滚落进草丛：
		PRINTFORMW 「三天两头带着冷酒上门，当咱是啥了啊...」
		PRINTFORML 　
		PRINTFORML 仰头饮尽残酒的声响混入夜风，远处枯枝断裂的动静让她耳尖倏地竖起
		PRINTFORML 又在辨明方向后缓缓垂下，空盏倒扣在膝头转了三转。
		PRINTFORMW 　
		PRINTFORML 「人类的殷勤比晨雾消散得还快」
		PRINTFORML 木屐带起的落叶尚未落定，脚步声却在数步后诡异地停滞
		PRINTFORMW 「...能尝出咱混了木天蓼，舌头倒不算摆设」
		PRINTFORML 　
		PRINTFORML 最后半句被树梢惊飞的夜雀衔走，露珠坠入石臼的叮咚声里
		PRINTFORML 下摆早已消失在雾气弥漫的夜色深处。
		PRINTFORML 　
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;愛欲取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		SIF CFLAG:K69_CNUM:1002
			MASTERNAME:K69_CNUM = %CALLNAME:MASTER%殿 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;愛人取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;セフレ取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;接吻魔取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;自慰狂い取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;ポルチオ性感取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;おもらし癖取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		PRINTFORML
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;調教終了時に自慰
;==================================================
@M_KOJO_別人変身版_EVENT_K69_22(ARG,ARG:1)
;口上主はARG
;ARG:0に自慰状況
;ARG:1に自慰種類
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_22",ARG,ARG:1)
ENDIF
RETURN 1
;==================================================
;浴場連れだし
;==================================================
@M_KOJO_別人変身版_EVENT_K69_23(ARG,ARG:1)
;口上主はLOCAL
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_23",ARG,ARG:1)
ENDIF
RETURN 1
;==================================================
;懐妊
;==================================================
@M_KOJO_別人変身版_EVENT_K69_24(ARG,ARG:1)
;口上主はLOCAL
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_24",ARG,ARG:1)
ENDIF
RETURN 1
;==================================================
;出産
;==================================================
@M_KOJO_別人変身版_EVENT_K69_25(ARG,ARG:1)
;口上主はLOCAL
;ARG:1	何人目の子供か
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_25",ARG,ARG:1)
ENDIF
RETURN 1
;==================================================
;オナバレ
;==================================================
@M_KOJO_別人変身版_EVENT_K69_26(ARG,ARG:1)

;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_26",ARG,ARG:1)
ENDIF

;オナバレックス判定用関数
;RETURN -1で強制失敗、RETURN 1で強制成功
@M_KOJO_別人変身版_EVENT_K69_26_1(ARGS)
#DIM 補正値
IF ARGS == "どうぞそのまま"

ELSEIF ARGS == "二人で"

ENDIF

;使用例
;IF !TALENT:XX:恋慕
;	PRINTFORMW %CALLNAME:XX%はガードが堅いぞ！
;	RETURN -1
;ENDIF
;IF TALENT:MASTER:濃厚精液
;	PRINTFORMW %CALLNAME:XX%はちんぽに弱いぞ！
;	RETURN 1
;ENDIF
;==================================================
;相手からデートのお誘い
;==================================================
@M_KOJO_別人変身版_EVENT_K69_27(ARG,ARG:1)
;口上主はLOCAL
;ARG:1は目的地
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_27",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;脱衣口上
;==================================================
@M_KOJO_別人変身版_EVENT_K69_28(ARG,ARG:1)
;口上主はTARGET
;ARGに脱がし方選択
;ARG:1（ARG=3の場合のみあり）地の文の反応
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_28",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;怒り口上
;==================================================
@M_KOJO_別人変身版_EVENT_K69_29(ARG,ARG:1)
;口上主はTARGET
;ARGはTARGETの度胸で分岐
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_29",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;相手が押し倒しを解除
;==================================================
@M_KOJO_別人変身版_EVENT_K69_30(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_30",ARG,ARG:1)
ENDIF
RETURN 1


;==================================================
;一日の終了時(AFTERTRAニーの前)、面識がなければ呼び出されない
;==================================================
@M_KOJO_別人変身版_EVENT_K69_31(ARG,ARG:1)
;口上主はTARGET
;ARGは会ってない日数
;何日以上会ってなかったら愚痴を言うとかできます
;CFLAG:オナバレで分岐入れてもよさそう
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_31",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;自由行動中
;ARG:1      0=行動中,1=完了時
;技能系の行動は技能レベルが1以上なら発生
;==================================================
@M_KOJO_別人変身版_EVENT_K69_32(ARG,ARG:1)
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_32",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;ハッピーニューイヤー
;年越しの瞬間に同じ部屋に居ると発生
;==================================================
@M_KOJO_別人変身版_EVENT_K69_33(ARG,ARG:1)
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_33",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;技能レベルアップ
;各ABL値はレベルアップ後の値になってます
;==================================================
@M_KOJO_別人変身版_EVENT_K69_34(ARG,ARG:1)
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	CALL K69_CALLKOJO_EV("別人変身版_EVENT_K69","_34",ARG,ARG:1)
ENDIF
RETURN 1

;==================================================
;デイリーイベント2,夢精
;濃厚精液状態で発生
;▼地の文--------------------------------------------------
;【MASTER】が夢精で汚した下着を洗っていると【TARGET】が飛んできた！
;【TARGET】はそんなもの他の洗濯物と一緒に洗わないでと抗議すると、【MASTER】の手に収まった下着をふんだくり戻っていった…
;【TARGET】　欲情の珠＋1000
;==================================================
;==================================================
;Optional: Determines if the standard description should be skipped.
;Return 0 if description and KOJO should be shown, 1 if description should be hidden and KOJO shown, 2 if description should be shown and KOJO hidden, and 3 if both description and KOJO should be hidden.
;==================================================
@M_KOJO_別人変身版_DAILY_EVENT_MESSAGECHECK_K69_2
RETURN 0

@M_KOJO_別人変身版_DAILY_EVENT_K69_2(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;地の文を変えたければコメントアウト
;※コメントアウトすると欲情の珠＋1000（JUEL:11 += 1000）もカットされるので注意
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	PRINTFORMW 
ENDIF
RETURN 1

;==================================================
;デイリーイベント4,物思い
;親密5以上で発生（来訪キャラのみ）
;▼地の文--------------------------------------------------
;とりとめもない思考に耽っていた【TARGET】は、いつの間にか【MASTER】のことを考えていたことに気づいた
;【TARGET】は明日【MASTER】に会いに行くことにしたようだ
;==================================================
;==================================================
;Optional: Determines if the standard description should be skipped.
;Return 0 if description and KOJO should be shown, 1 if description should be hidden and KOJO shown, 2 if description should be shown and KOJO hidden, and 3 if both description and KOJO should be hidden.
;==================================================
@M_KOJO_別人変身版_DAILY_EVENT_MESSAGECHECK_K69_4
RETURN 0

@M_KOJO_別人変身版_DAILY_EVENT_K69_4(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;地の文を変えたければコメントアウト
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	PRINTFORMW 
ENDIF
RETURN 1

;==================================================
;デイリーイベント12,特訓
;信頼100以上で発生（拠点キャラのみ）
;==================================================
;==================================================
;Optional: Determines if the standard description should be skipped.
;Return 0 if description and KOJO should be shown, 1 if description should be hidden and KOJO shown, 2 if description should be shown and KOJO hidden, and 3 if both description and KOJO should be hidden.
;==================================================
@M_KOJO_別人変身版_DAILY_EVENT_MESSAGECHECK_K69_12
RETURN 0

@M_KOJO_別人変身版_DAILY_EVENT_K69_12(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;地の文を変えたければコメントアウト
;コメントアウトできるのはARG:1=1,2のみです
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	SELECTCASE ARG:1
	CASE 1
		;特訓を頼まれる
		;～から新技の訓練に付き合って欲しいと言われた
		PRINTFORML 
	CASE 2
		;断る
		;～は残念そうだ
		PRINTFORML 
	CASE 3
		;～の攻撃！
		;※ここはWAITしないでください
		PRINTFORML 
	CASE 4
		IF ARG:2
			;時間停止して回避
			PRINTFORML 
		ELSE
			;回避成功
			PRINTFORML 
		ENDIF
	CASE 5
		;回避失敗
		PRINTFORML 
	ENDSELECT
ENDIF
RETURN 1



;-------------------------------------------------
;オナバレ遭遇時の地の文をデフォルトのものから変更したい場合用。
;その場合は上下のSKIPSTART~SKIPENDを外してください。
;CFLAG等のキャラ変数を使う場合、キャラ番号の指定が必要になります。
;-------------------------------------------------
@M_KOJO_別人変身版_EVENT_K69_ONABARE_1(ARG)
;-------------------------------------------------
;口上色を付けるならコメントアウトを外しXをキャラ番号に
SIF FLAG:口上色
	CALL M_KOJO_別人変身版_COLOR_K69

;2を返せばデフォルトの地の文を表示してくれるらしいので活用	
CALL K69_CALLKOJO("別人変身版_EVENT_K69","_ONABARE_1",ARG)
IF !RESULT
	RESULT = 2
ELSE
	RESULT = RESULT:1
ENDIF
RETURN RESULT
;-------------------------------------------------

;-------------------------------------------------
;オナバレでそのまま続けてもらう場合の地の文をデフォルトのものから変更したい場合用。
;その場合は上下のSKIPSTART~SKIPENDを外してください。
;CFLAG等のキャラ変数を使う場合、キャラ番号の指定が必要になります。
;-------------------------------------------------
@M_KOJO_別人変身版_EVENT_K69_ONABARE_2(ARG)
;-------------------------------------------------
;口上色を付けるならコメントアウトを外しXをキャラ番号に
SIF FLAG:口上色
	CALL M_KOJO_別人変身版_COLOR_K69

;2を返せばデフォルトの地の文を表示してくれるらしいので活用	
CALL K69_CALLKOJO("別人変身版_EVENT_K69","_ONABARE_2",ARG)
IF !RESULT
	RESULT = 2
ELSE
	RESULT = RESULT:1
ENDIF
RETURN RESULT
;-------------------------------------------------

;-------------------------------------------------
;オナバレなし崩しックスの地の文をデフォルトのものから変更したい場合用。
;その場合は上下のSKIPSTART~SKIPENDを外してください。
;CFLAG等のキャラ変数を使う場合、キャラ番号の指定が必要になります。
;-------------------------------------------------
@M_KOJO_別人変身版_EVENT_K69_ONABARE_3(前戯１,本番はどっちか,回数,注入量)
;-------------------------------------------------
#DIM 前戯１
;1=C 2=B 3=M
#DIM 本番はどっちか
;0でＶ、1でＡ
#DIM 注入量
#DIM 回数

;口上色を付けるならコメントアウトを外しXをキャラ番号に
SIF FLAG:口上色
	CALL M_KOJO_別人変身版_COLOR_K69

;2を返せばデフォルトの地の文を表示してくれるらしいので活用	
CALL K69_CALLKOJO("別人変身版_EVENT_K69","_ONABARE_3",前戯１,本番はどっちか,回数,注入量)
IF !RESULT
	RESULT = 2
ELSE
	RESULT = RESULT:1
ENDIF
RETURN RESULT
;-------------------------------------------------



;-------------------------------------------------
;処女・無自覚非処女に挿入する直前の口上
;RETURN 1するとコマンドをキャンセルします
;RETURN 0なら通します
;CFLAG:破瓜キャンセル口上有がオンになってないと読み込まれないので注意
;-------------------------------------------------
@M_KOJO_別人変身版_EVENT_K69_LOST_VIRGIN_STOP
;-------------------------------------------------
PRINTFORML 
RETURN 1

;-------------------------------------------------
;CFLAG:口上内抱き寄せ判定_初回がオンになっている場合のみ有効。
;初めて押し倒した時、ここでRETURN -1すると押し倒しを強制的にキャンセルします。
;RETURN 0なら通常の判定を行い、RETURN 1すると無条件に成功させます。
;特定のイベント（デート帰りキスなど）を見るまでうふふできないようにしたいときなどにどうぞ。
;-------------------------------------------------
@M_KOJO_別人変身版_EVENT_K69_PERMISSION_1
;-------------------------------------------------
PRINTFORML 
;RETURN -1
RETURN 0
;RETURN 1
;-------------------------------------------------


;-------------------------------------------------
;CFLAG:口上内抱き寄せ判定_通常がオンになっている場合のみ有効。
;合意付きで押し倒した時、ここでRETURN -1すると押し倒しを強制的にキャンセルします。
;RETURN 0なら通常通り成功させます。
;合意があっても何らかの理由でうふふできないようにしたいときなどにどうぞ。
;-------------------------------------------------
@M_KOJO_別人変身版_EVENT_K69_PERMISSION_2
;-------------------------------------------------
PRINTFORML 
RETURN 0
;RETURN -1
;-------------------------------------------------

;-------------------------------------------------
;部屋描写用関数
;口上キャラのOMANEKIBEYAか拠点の描写に使います
;記入する際はコメントアウトを外してください
;-------------------------------------------------
;@K69_ROOM_DESCRIPTION
;PRINTFORML 例）生活感のない殺風景な部屋だ
;-------------------------------------------------


;==================================================
;贈り物イベント
;==================================================
@M_KOJO_別人変身版_EVENT_K69_GIFT(ARG, GIFT_ID, 評価点, GIFT_NAME, SENSE)
#DIM GIFT_ID
#DIM 評価点
#DIMS GIFT_NAME
#DIMS SENSE
;---------------------------------------------------------------------------------------------------
;評価点       贈り物の評価点（1～999）,口上主があげた場合でも口上主の評価点
;GIFT_NAME    贈り物の名称
;SENSE        贈り物に設定された属性。STRCOUNT(SENSE, "ほげほげ/")を使うと特定の属性を判定できます。
;GIFT_ID      これ単体では使いません。以下の式内関数を使うとデータを抽出できます（こだわりたい人用）
;　GET_GIFTDATA(GIFT_ID, "回数")    貰った（あげた）回数
;　GET_GIFTDATA(GIFT_ID, "得点")    得点（1～999）,口上テンプレ内では用意されてます。
;　GET_GIFTDATA(GIFT_ID, "日付")    貰った（あげた）日付（1～9999）
;　GET_GIFTDATA(GIFT_ID, "場所")    買った場所（デートの行き先）
;　GET_GIFTDATA(GIFT_ID, "形容詞")  形容詞番号（贈り物_形容詞.erb参照）
;　GET_GIFTDATA(GIFT_ID, "本体")    本体番号（贈り物_本体.erb参照）
;--------------------------------------------------------------------------------------------------
;デート帰りに口上主があなたに贈り物を渡す（陥落や好感度に関わらず親密5以上から発生）
;評価点は701～999（渡すキャラ本人の評価）
;--------------------------------------------------------------------------------------------------
IF ARG == 1
	;PRINTFORMW 「%GIFT_NAME%をあげるから大事に使って」
	RETURN 1
;--------------------------------------------------------------------------------------------------
;一日の終わりに今日貰った贈り物を大事にする（700点以上）
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 2
	;IF STRCOUNT(SENSE, "かわいい/")
	;	PRINTFORMW 「かわいいプレゼントを貰っちゃった」
	;ELSEIF 評価点 >= 800
	;	PRINTFORMW 「とっても素敵なプレゼントを貰っちゃった」
	;ELSE
	;	PRINTFORMW 「素敵なプレゼントを貰っちゃった」
	;ENDIF
	RETURN 1
;--------------------------------------------------------------------------------------------------
;一日の終わりに今日貰った贈り物をお気に入りにする（↑の大事にするから続き）（700点以上かつ最高得点）
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 3
	;IF STRCOUNT(SENSE, "身につける/")
	;	PRINTFORMW 「明日からこれを付けて行こうっと」
	;ELSE
	;	PRINTFORMW 「明日からこれを持って行こうっと」
	;ENDIF
	RETURN 1
;--------------------------------------------------------------------------------------------------
;一日の終わりに今日貰った贈り物をとりあえず保管する（400～699点）
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 4
	;PRINTFORMW 「とりあえず飾っておこう」
	RETURN 1
;--------------------------------------------------------------------------------------------------
;一日の終わりに今日貰った贈り物をこっそり質に入れる（400点未満）
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 5
	;PRINTFORMW 「私これ嫌いなのよね～」
	RETURN 1
ENDIF
RETURN 1


;==================================================
;ムシバトル
;ムシバトルの口上は少し特殊で、PRINTを使うのではなく、
;台詞一行のみをRESULTSに入れてください
;ムシの名前は %MUSHI_NAME% で表示できます
;ムシの名前の最長はアレキサンドラトリバネアゲハの全角14文字です
;文字数制限があります。はみ出ないように気をつけてください
;ARGは残りムシ数か順位です
;==================================================
@M_KOJO_別人変身版_MESSAGE_COM_K69_MUSHI_BATTLE(ARGS, ARG)
#DIM 残りムシ数
#DIM 順位
SELECTCASE ARGS
CASE "試合前"
	;-------------------------------------------------
	;キャラセレクト時,ARGは使えません
	;全角50文字くらいまで
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「ぶっとばしてさしあげますわ！」
	ENDIF
CASE "戦場に出した"
	;-------------------------------------------------
	;"【（キャラ）】は《（ムシ）》を戦場に出した！」"の直後
	;全角40文字まで（カギカッコ含む）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	残りムシ数 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「%MUSHI_NAME%！キミにきめた！」
	ENDIF
CASE "攻撃時"
	;-------------------------------------------------
	;"【（キャラ）】《（ムシ）》の『（攻撃名）』！」"の直前
	;全角40文字まで（カギカッコ含む）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	残りムシ数 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「ぶっとばせ！%MUSHI_NAME%！」
	ENDIF
CASE "倒れた時"
	;-------------------------------------------------
	;"【（キャラ）】《（ムシ）》は倒れた！！"の直後
	;全角40文字まで（カギカッコ含む）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	残りムシ数 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「ああっ！私の%MUSHI_NAME%がっ！」
	ENDIF
CASE "敗退時"
	;-------------------------------------------------
	;"【（キャラ）】敗退！！"の直後
	;全角40文字まで（カギカッコ含む）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	残りムシ数 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「私のムシが全滅めつめつ……」
	ENDIF
CASE "タイマン：勝ち"
	;-------------------------------------------------
	;順位は1位
	;全角20文字まで（カギカッコ含む）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「%CALLNAME:MASTER%よわーい！」
	ENDIF
CASE "タイマン：負け"
	;-------------------------------------------------
	;順位は2位
	;全角20文字まで（カギカッコ含む）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「%CALLNAME:MASTER%つよーい！」
	ENDIF
CASE "バトルロイヤル：優勝"
	;-------------------------------------------------
	;順位は1位
	;全角30文字まで（カギカッコ含む）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「やったー！」
	ENDIF
CASE "バトルロイヤル：２位以下"
	;-------------------------------------------------
	;順位は2～4位
	;全角30文字まで（カギカッコ含む）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「くやし～！」
	ENDIF
CASE "チーム戦：勝ち"
	;-------------------------------------------------
	;順位は1位（やられていても）
	;全角32文字まで（カギカッコ含む）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「私のおかげね！」
	ENDIF
CASE "チーム戦：負け"
	;-------------------------------------------------
	;順位は2位
	;全角32文字まで（カギカッコ含む）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「味方が弱い！！」
	ENDIF
ENDSELECT
SIF RESULTS != ""
	RETURN 1

;==================================================
;引力操作
;TCVAR:引力点に場所IDを入れるとその地点に引っ張られていきます
;場所IDと同じ拠点マップでしか効果はありません（博麗神社の境内なら拠点が博麗神社のときだけ）
;条件を付けないと永久に引っ張られ続けるので注意
;RANDは基本的に使えません。CFLAG:今日の運勢にその日のランダム数値（0～999）が入っているのでこれを使うと良いです
;==================================================
@M_KOJO_別人変身版_EVENT_K69_GRAVITY(ARG)

SIF 0
	TCVAR:引力点 = 0

;▼共通設定で使われているサンプル
[SKIPSTART]
	;平日の昼間はランダムで遊びに行く
	IF YOUBI_MATCH(DAY, "月火水木金") && INRANGE(TIME, 600, 960)
		SELECTCASE CFLAG:今日の運勢 % 5
		CASE 1
			TCVAR:引力点 = P2境内
		CASE 2
			TCVAR:引力点 = P10縁側
		CASE 3
			TCVAR:引力点 = P11庭
		CASE 4
			TCVAR:引力点 = P25鎮守の森
		CASEELSE
			TCVAR:引力点 = 0
		ENDSELECT
	ENDIF
	;水木曜日に2分の1の確率で遊びに行く
	SIF YOUBI_MATCH(DAY, "水木") && INRANGE(TIME, 720, 1020) && CFLAG:今日の運勢 % 2 == 0
		TCVAR:引力点 = P213鈴奈庵
	;特定の人物が特定の場所にいるとそこへ引っ張られる
	SIF CFLAG:[[白蓮]]:現在位置 == P103本堂 && !CFLAG:[[白蓮]]:うふふ && SHIRAHU([[白蓮]])
		TCVAR:引力点 = P103本堂
	;土日に10分の1の確率で特定の人物にくっついてまわる
	SIF YOUBI_MATCH(DAY, "土日") && CFLAG:今日の運勢 % 10 == 0 && !CFLAG:[[さとり]]:うふふ && SHIRAHU([[さとり]])
		TCVAR:引力点 = CFLAG:[[さとり]]:現在位置
[SKIPEND]

;==================================================
;スイカ割り
;スイカ割りの口上はムシバトル同様、PRINTを使うのではなく、
;台詞一行のみをRESULTSに入れてください
;カギ括弧は自動で付きます
;"衝突","結果"のみ、口上色が自動で付きます
;"衝突","結果"以外は半角26文字（全角13文字）までの文字数制限があります。はみ出ないように気をつけてください
;数パターンあると雰囲気が出ます（%TEXTR( / )%を使うと良い）
;==================================================
@M_KOJO_別人変身版_MESSAGE_COM_K69_SUIKA(ARGS,ARG)
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL:1 = 0
;-------------------------------------------------
IF LOCAL:1
	SELECTCASE ARGS
	CASE "衝突"
		;-------------------------------------------------
		;場外に出てあなたがキャラと衝突した際の台詞
		;文字数制限はありません,汎用台詞もありません
		;-------------------------------------------------
		RESULTS = いたっ！ ちょっと、危ないじゃないのよ！
	CASE "そこだ！"
		RESULTS = %TEXTR("そこ！/今！")%
	CASE "近い"
		RESULTS = %TEXTR("近い！近いよ！/近づいてるよ！/あとちょっと！")%
	CASE "遠い"
		RESULTS = %TEXTR("まだ遠いよ/まだまだ～")%
	CASE "かなり遠い"
		RESULTS = %TEXTR("全然遠いよー/まだまだずっと遠いー")%
	CASE "前"
		RESULTS = %TEXTR("前にあるよ/そのまま、そのまま/そっちそっち")%
	CASE "少し前"
		RESULTS = %TEXTR("ちょっとだけ前！/すこーし前/あと一歩！")%
	CASE "後ろ"
		RESULTS = %TEXTR("後ろ向いてる！/逆、逆！/そっちじゃないよー")%
	CASE "少し後ろ"
		RESULTS = %TEXTR("すぐ後ろだよ！/すこーし後ろ/一歩後ろ！")%
	CASE "右"
		RESULTS = %TEXTR("右だよ/右、右/もっと右")%
	CASE "少し右"
		RESULTS = %TEXTR("ちょっとだけ右/まだ右かな")%
	CASE "左"
		RESULTS = %TEXTR("左だよ/左、左/もっと左")%
	CASE "少し左"
		RESULTS = %TEXTR("ちょっとだけ左/まだ左かな")%
	CASE "結果"
		;-------------------------------------------------
		;終了後の一言
		;文字数制限はありません,汎用台詞もありません
		;TFLAG:193,
		;   -1=失敗
		;    0=成功
		;    1=大成功
		;    2=木刀で大成功（ボーナス点）
		;ARG
		;    0=正直者
		;    1=ウソつき
		;-------------------------------------------------
		SELECTCASE TFLAG:193
		CASE -1
			RESULTS = ざんね～ん
		CASE 0
			RESULTS = やったね！
		CASE 1
			RESULTS = すごーい！
		CASE 2
			RESULTS = すごい綺麗に割れた！
		ENDSELECT
	ENDSELECT
ENDIF

;外出先特殊遭遇イベント
@RUN_INTO_別人変身版_K69(MAP_ID)
#DIM MAP_ID
;K69をキャラ番号に置換
;最後に必ずRETURN 1すること
;面識がない場合発生させないなど、あえて不発にさせたい場合RETURN -1すること
;	SIF !CFLAG:XX:面識
;		RETURN -1
;	PRINTFORML %CALLNAME:XX%がいた
;	PRINTFORML 「どうも」
;	CFLAG:XX:好感度 += 5
;	RETURN 1

;セフレ契約用
;"補正"でRETURNした数値が理性判定に加算されるので、
;簡単にセフレにしたいならマイナス、難易度を上げたかったり実質不可能にしたいならプラスすべし
@KOJO_別人変身版_SF_CONTRACT_K69(ARGS)
SELECTCASE ARGS
	CASE "導入"
		;PRINTFORML 「セフレって、ええー」
	CASE "補正"
		;PRINTFORML （サクッとヤりたいなあ）
		;RETURN -1000
	CASE "成功"
		;PRINTFORML 「いいよー」
	CASE "失敗"
		;PRINTFORML 「おことわりだー」
ENDSELECT

;一般依頼の抑制
;ARG is request number
;If this function returns 1, that request will not occur for this character
@M_KOJO_別人変身版_CHECK_K69_IRAI_BLOCKED(ARGS,ARG,ARG:1)
; SIF GROUPMATCH(ARG, 2)
;     RETURN 1
