;==================================================
;358,他者変身
;==================================================
@M_KOJO_別人変身版_SUCCESS_COM_K69_358
;成否判定
;TFLAG:192(-2=コマンド終了、-1＝強制失敗、0=COM依存、1=強制成功or大成功
TFLAG:192 =0

;==================================================
;Optional: Determines if the standard description should be skipped.
;Return 0 if description and KOJO should be shown, 1 if description should be hidden and KOJO shown, 2 if description should be shown and KOJO hidden, and 3 if both description and KOJO should be hidden.
;==================================================
@M_KOJO_別人変身版_MESSAGE_MESSAGECHECK_COM_K69_358
RETURN 0

@M_KOJO_別人変身版_MESSAGE_COM_K69_358
;コマンド共通メッセージ(TRAIN_MESSAGE) 
;削除すると「～話をした。」とかが消えます。また、削除した場合は自動で口上色が付きません。
;口上メイン呼出
CALL M_KOJO_別人変身版_MESSAGE_COM_K69_358_1
RETURN RESULT

@M_KOJO_別人変身版_MESSAGE_COM_K69_358_1
#DIM TRANSBEFORE
#DIM TRANSAFTER
#DIM TEMP
#DIM iSize
#DIMS 服装
#DIMS picResource,10
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------------------------------------------
IF LOCAL
	TEMP = CURRENTREDRAW()
	iSize = 1000
	IF CFLAG:69:変化元 == 0
		TRANSBEFORE = 69
	ELSE
		TRANSBEFORE = CFLAG:69:変化元
	ENDIF
	
	IF CFLAG:69:変化先 == 0
		TRANSAFTER = 69
	ELSE
		TRANSAFTER = CFLAG:69:変化先
	ENDIF
	
	IF CHECK_NUDE(69)
		服装 = 裸
		ELSE
		服装 = 服
	ENDIF
	;基本画像　表示形式_服装_表情_キャラ番号_差分 (RESULTS:0に格納、RESULTS:1にマウスオーバー画像格納)
	CALL GET_BASE_RESOURCE_TRANS(69,TRANSBEFORE,"顔絵",@"%服装%","通常")
	SIF !RESULT
		RESULTS:0 = %GET_BASESTYLE_TRANS(69,TRANSBEFORE)%_服_通常_{TRANSBEFORE}
	picResource:0 = %RESULTS:0%
	
	CALL GET_BASE_RESOURCE_TRANS(69,TRANSBEFORE,"立ち絵",@"%服装%","通常")
	SIF !RESULT
		RESULTS:0 = %GET_BASESTYLE_TRANS(69,TRANSBEFORE)%_服_通常_{TRANSBEFORE}
	picResource:1 = %RESULTS:0%
	
	CALL GET_BASE_RESOURCE(TRANSAFTER,"顔絵",@"%服装%","通常")
	SIF !RESULT
		RESULTS:0 = %GET_BASESTYLE(TRANSAFTER)%_服_通常_{TRANSAFTER}
	picResource:2 = %RESULTS:0%
	
	CALL GET_BASE_RESOURCE(TRANSAFTER,"立ち絵",@"%服装%","通常")
	SIF !RESULT
		RESULTS:0 = %GET_BASESTYLE(TRANSAFTER)%_服_通常_{TRANSAFTER}
	picResource:3 = %RESULTS:0%
	
	CALL GET_BASE_RESOURCE(TRANSAFTER,"顔絵",@"%服装%","笑顔")
	SIF !RESULT
		RESULTS:0 = %GET_BASESTYLE(TRANSAFTER)%_服_通常_{TRANSAFTER}
	picResource:4 = %RESULTS:0%
	
	CALL GET_BASE_RESOURCE(TRANSAFTER,"顔絵",@"%服装%","憤怒")
	SIF !RESULT
		RESULTS:0 = %GET_BASESTYLE(TRANSAFTER)%_服_通常_{TRANSAFTER}
	picResource:5 = %RESULTS:0%
	
	CALL GET_BASE_RESOURCE_TRANS(69,TRANSBEFORE,"顔絵",@"%服装%","憤怒")
	SIF !RESULT
		RESULTS:0 = %GET_BASESTYLE_TRANS(69,TRANSBEFORE)%_服_通常_{TRANSBEFORE}
	picResource:6 = %RESULTS:0%

	SIF FLAG:口上色
		CALL M_KOJO_別人変身版_COLOR_K69(TRANSBEFORE)	
	;挿入中
	IF TCVAR:TARGET:100 == PLAYER || TCVAR:TARGET:101 == PLAYER
		SELECTCASE TRANSAFTER
			CASE 69
				CALL PRINT_IMAGE(picResource:0)
				PRINTFORML
				PRINTFORMW 「咋样？想变回去？」
				PRINTFORMW 「嗯%UNICODE(0x2764)%　好嘞，瞧好%UNICODE(0x2764)%」
				PRINTFORML
				CALL K69_TRANSFORM(picResource:0,picResource:2)
				PRINTFORML
				CALL PRINT_IMAGE(picResource:2)
				PRINTFORML
				SIF FLAG:口上色
					CALL M_KOJO_別人変身版_COLOR_K69(TRANSAFTER)
				PRINTFORMW 「嗯嗯%UNICODE(0x2764)%果然还是自个儿的身子最舒坦%UNICODE(0x2764)%%UNICODE(0x2764)%」
			CASE 1
				CALL PRINT_IMAGE(picResource:0)
				PRINTFORML
				PRINTFORMW 「嗯啊%UNICODE(0x2764)%要咱用这红白身子侍奉吗…哈啊%UNICODE(0x2764)%」
				PRINTFORMW 「结界张开的声响…可别和咱的喘息搞混了哟%UNICODE(0x2764)%」
				PRINTFORML
				CALL K69_TRANSFORM(picResource:0,picResource:2)
				PRINTFORML
				CALL PRINT_IMAGE(picResource:2)
				PRINTFORML
				SIF FLAG:口上色
					CALL M_KOJO_別人変身版_COLOR_K69(TRANSAFTER)
				PRINTFORML 化作灵梦模样的猯藏突然夹紧腰肢，绯袴滑落间露出挂着阴阳玉的注连绳
				PRINTFORMW 「啊嗯%UNICODE(0x2764)%这、这可是博丽秘传的…封印姿势哟…%UNICODE(0x2764)%」
				PRINTFORML 被进入的瞬间注连绳铃铛激烈晃动，她咬着符咒边缘发出闷哼
				PRINTFORMW 「塞钱…哈啊%UNICODE(0x2764)%现在要收取代价的…可是咱的里面…呀啊%UNICODE(0x2764)%」
			CASE 11
				CALL PRINT_IMAGE(picResource:0)
				PRINTFORML
				PRINTFORMW 「要试试魔法使的骑乘位吗？%UNICODE(0x2764)%」
				PRINTFORMW 「今天就让咱用魔法使的方式好好打理这根「扫帚」吧%UNICODE(0x2764)%」
				PRINTFORML
				CALL K69_TRANSFORM(picResource:0,picResource:2)
				PRINTFORML
				CALL PRINT_IMAGE(picResource:2)
				PRINTFORML
				SIF FLAG:口上色
					CALL M_KOJO_別人変身版_COLOR_K69(TRANSAFTER)
				PRINTFORML 化作魔理沙的猯藏突然跨坐上来，黑色短裙正抵在青筋暴起的茎身
				PRINTFORMW 「看好了%UNICODE(0x2764)%彗星骑乘式要全速前进了DA☆ZE！%UNICODE(0x2764)%」
				PRINTFORML 她猛然沉腰将龟头吞入，幻化而成的紧实少女穴壁恰好卡在冠状沟摩擦
				PRINTFORMW 「啊哈☆虽然不能放魔炮…但「魔力注入」要开始咯%UNICODE(0x2764)%」
				PRINTFORML 黑白女巫帽随着起伏晃动，迷你八卦炉挂饰不断拍打着你紧绷的小腹
				PRINTFORMW 「怎样DA☆ZE？咱的扫帚保养技术…比真正的魔法使更棒吧？%UNICODE(0x2764)%」
			CASEELSE
				CALL PRINT_IMAGE(picResource:0)
				PRINTFORML
				PRINTFORMW 「咋样？想就这般让咱当%CALLNAME:(TRANSAFTER)%不成？」
				PRINTFORMW 「嗯%UNICODE(0x2764)%　好嘞，瞧好%UNICODE(0x2764)%」
				PRINTFORML
				CALL K69_TRANSFORM(picResource:0,picResource:2)
				PRINTFORML
				CALL PRINT_IMAGE(picResource:2)
				PRINTFORML
				SIF FLAG:口上色
					CALL M_KOJO_別人変身版_COLOR_K69(TRANSAFTER)
				IF 挿入不可(TRANSAFTER) == 1
					IF TALENT:TRANSBEFORE:体型 > TALENT:TRANSAFTER:体型
						PRINTFORML 「呜咕……%UNICODE(0x2764)%　这、这可真够呛。太紧了……啊呜……%UNICODE(0x2764)%」
						PRINTFORML 化作%CALLNAME:(TRANSAFTER)%模样的猯藏被突然增强的异物感逼出呜咽
						PRINTFORMW 与此同时，那紧窄小穴猛然绞紧了%CALLNAME:MASTER%的阳具
					ELSE
						PRINTFORML 「咕呜……%UNICODE(0x2764)%　还是老样子，这般紧实……啊嗯……%UNICODE(0x2764)%」
						PRINTFORML 化作%CALLNAME:(TRANSAFTER)%模样的猯藏被熟悉的异物感逼出呜咽
						PRINTFORMW 与此同时，那紧窄小穴绞紧了%CALLNAME:MASTER%的阳具
					ENDIF
				ELSEIF 挿入不可(TRANSAFTER) == 2
					IF TALENT:TRANSBEFORE:体型 > TALENT:TRANSAFTER:体型
						PRINTFORML 「呜啊啊啊……%UNICODE(0x2764)%　胯、胯下要……%UNICODE(0x2764)%　坏掉了啊啊啊……%UNICODE(0x2764)%%UNICODE(0x2764)%」
						PRINTFORML 被贯穿撕裂的痛楚让化作%CALLNAME:(TRANSAFTER)%的猯藏裹覆着阳具发出悲鸣
						PRINTFORMW 与此同时，那过于窄小的肉穴拼命绞紧想要推出%CALLNAME:MASTER%的阳具
					ELSE
						PRINTFORML 「呜啊啊啊……%UNICODE(0x2764)%　胯、胯下要……%UNICODE(0x2764)%　坏掉了啊啊啊……%UNICODE(0x2764)%%UNICODE(0x2764)%」
						PRINTFORML 被贯穿撕裂的痛楚让化作%CALLNAME:(TRANSAFTER)%的猯藏裹覆着阳具发出悲鸣
						PRINTFORMW 与此同时，那过于窄小的肉穴拼命绞紧想要推出%CALLNAME:MASTER%的阳具
					ENDIF
				ELSEIF 挿入不可(TRANSAFTER) == -1
					IF TALENT:TRANSBEFORE:体型 < TALENT:TRANSAFTER:体型
						PRINTFORML 「嗯嗯……%UNICODE(0x2764)%　%MASTERNAME:K69_CNUM%的，好像变小了些嘛……%UNICODE(0x2764)%」
						PRINTFORML 「来嘛%UNICODE(0x2764)%　不再……%UNICODE(0x2764)%变大些么……%UNICODE(0x2764)%」
						PRINTFORML 化作%CALLNAME:(TRANSAFTER)%模样的猯藏游刃有余地扭动着腰肢
						PRINTFORMW %CALLNAME:MASTER%的阳具被那柔软肉穴彻底吞没
					ELSEIF TALENT:TRANSBEFORE:体型 > TALENT:TRANSAFTER:体型
						PRINTFORML 「哎呀%UNICODE(0x2764)%　%MASTERNAME:K69_CNUM%的，变大了嘛%UNICODE(0x2764)%」
						PRINTFORML 「但还不够%UNICODE(0x2764)%　来嘛%UNICODE(0x2764)%　再……%UNICODE(0x2764)%变大些呀……%UNICODE(0x2764)%」
						PRINTFORML 化作%CALLNAME:(TRANSAFTER)%模样的猯藏愉悦地扭动着腰肢
						PRINTFORMW %CALLNAME:MASTER%的阳具享受着这份柔软快感
					ELSE
						PRINTFORML 「嗯%UNICODE(0x2764)%　还是这般小不点的家伙嘛%UNICODE(0x2764)%」
						PRINTFORML 「来嘛%UNICODE(0x2764)%　不再……%UNICODE(0x2764)%变大些么……%UNICODE(0x2764)%」
						PRINTFORML 化作%CALLNAME:(TRANSAFTER)%模样的猯藏愉悦地扭动着腰肢
						PRINTFORMW %CALLNAME:MASTER%的阳具享受着这份柔软快感
					ENDIF
				ELSEIF 挿入不可(TRANSAFTER) == -2
					IF TALENT:TRANSBEFORE:体型 < TALENT:TRANSAFTER:体型
						PRINTFORML 「嗯哼——？当真插进来了么……？%UNICODE(0x2764)%」
						PRINTFORML 「呵呵，也罢，就让姐姐把%MASTERNAME:K69_CNUM%整个人都吃干抹净吧……%UNICODE(0x2764)%」
						PRINTFORML 化作%CALLNAME:(TRANSAFTER)%模样的猯藏露出胜利者的笑容
						PRINTFORMW %CALLNAME:MASTER%的阳具被那过分柔软的肉穴彻底吞没
					ELSE
						PRINTFORML 「嗯%UNICODE(0x2764)%　还是这般小不点的家伙嘛%UNICODE(0x2764)%」
						PRINTFORML 「呵呵，也罢，就让姐姐把%MASTERNAME:K69_CNUM%整个人都吃干抹净吧……%UNICODE(0x2764)%」
						PRINTFORML 变成%CALLNAME:(TRANSAFTER)%的猯藏依旧保持着游刃有余的笑容
						PRINTFORMW %CALLNAME:MASTER%的阳具被那过分柔软的肉穴彻底吞没
					ENDIF
				ELSEIF 挿入不可(TRANSAFTER) == 3
					PRINTFORML 「啊啊啊啊啊……%UNICODE(0x2764)%%UNICODE(0x2764)%　啊%UNICODE(0x2764)%　啊%UNICODE(0x2764)%　啊啊啊……%UNICODE(0x2764)%%UNICODE(0x2764)%」
					PRINTFORML 化作娇小%CALLNAME:(TRANSAFTER)%模样的猯藏持续发出悲鸣般的呜咽
					PRINTFORMW %CALLNAME:MASTER%就像使用飞机杯般抓住那具身体开始抽插…				
				ELSE
					IF TALENT:TRANSBEFORE:体型 < TALENT:TRANSAFTER:体型
						PRINTFORML 「噢……%UNICODE(0x2764)%　哈啊%UNICODE(0x2764)%　总算能喘口气了……%UNICODE(0x2764)%」
						PRINTFORML 「真是的，往那么娇小的身子里硬塞……%UNICODE(0x2764)%　得好好教训%MASTERNAME:K69_CNUM%才行呢%UNICODE(0x2764)%」
						PRINTFORML 化作%CALLNAME:(TRANSAFTER)%模样的猯藏游刃有余地扭动着腰肢
						PRINTFORMW %CALLNAME:MASTER%的阳具享受着绞紧般的快感
					ELSEIF TALENT:TRANSBEFORE:体型 > TALENT:TRANSAFTER:体型
						PRINTFORML 「哎呀%UNICODE(0x2764)%　%MASTERNAME:K69_CNUM%这就对了嘛%UNICODE(0x2764)%」
						PRINTFORML 「嗯嗯%UNICODE(0x2764)%　咱最舒服的地方要被顶穿啦……%UNICODE(0x2764)%%UNICODE(0x2764)%」
						PRINTFORML 化作%CALLNAME:(TRANSAFTER)%模样的猯藏愉悦地扭动着腰肢
						PRINTFORMW %CALLNAME:MASTER%的阳具享受着绞紧般的快感
					ELSE
						PRINTFORML 「嗯嗯%UNICODE(0x2764)%　瞧好，这可是你想要的%CALLNAME:(TRANSAFTER)%小穴哟%UNICODE(0x2764)%」
						PRINTFORML 「如何呀%UNICODE(0x2764)%　啊嗯%UNICODE(0x2764)%　舒服么……%UNICODE(0x2764)%」
						PRINTFORML 变成%CALLNAME:(TRANSAFTER)%的猯藏炫耀般扭动着腰肢
						PRINTFORMW %CALLNAME:MASTER%的阳具享受着绞紧般的快感
					ENDIF
				ENDIF
		ENDSELECT
	ELSE
		PRINTFORML 
		SELECTCASE TRANSAFTER
			CASE 69
				CALL PRINT_IMAGE(picResource:0)
				PRINTFORML
				PRINTFORMW 「怎么，这就满足了吗？」
				CALL K69_TRANSFORM(picResource:1,picResource:3)
			CASE 1 ;霊夢
				CALL PRINT_IMAGE(picResource:0)
				PRINTFORML
				PRINTFORML 「哦呀？想讓咱扮成那個紅白巫女？」
				PRINTFORML 猯藏用煙管輕敲掌心，振袖飄起靈氣
				PRINTFORMW 「让妖怪變成退治妖怪的專家的模樣...真是惡趣味呢%UNICODE(0x2764)%」
				PRINTFORML
				CALL K69_TRANSFORM(picResource:1,picResource:3)
				PRINTFORML
				CALL PRINT_IMAGE(picResource:5);变换后愤怒脸
				PRINTFORML
				SIF FLAG:口上色
					CALL M_KOJO_別人変身版_COLOR_K69(TRANSAFTER)
				PRINTFORMW 「香錢要好好放进賽錢箱！」
				REDRAW 0
				CLEARLINE (iSize / 100) + 2
				CALL PRINT_IMAGE(picResource:3);变换后脸
				PRINTFORML
				PRINTFORML 化作靈夢的猯藏突然正座
				PRINTFORMW 「事先聲明——扮成這孩子被本尊發現的話...」
				PRINTFORMW 「博麗的鬼巫女模式可不會聽解釋喲%UNICODE(0x2764)%」
				IF TALENT:TRANSAFTER:胸圍 == 1
					PRINTFORMW 「這孩子的蝴蝶結...比想像中妨礙視線呢%UNICODE(0x2764)%」
				ELSEIF TALENT:TRANSAFTER:胸圍 == 2
					PRINTFORMW 「哎呀呀~看来修行還不夠呢%UNICODE(0x2764)%」
					PRINTFORMW 「這麼大的弱點在戰鬥中可是很危險的喲~」
				ENDIF
				REDRAW TEMP
			CASE 11 ;魔理沙
				CALL PRINT_IMAGE(picResource:0)
				PRINTFORML
				PRINTFORML 「嘿诶~要扮成那小偷魔法使？」
				PRINTFORML 猯藏的尾巴卷起星屑光点，魔法使的尖帽在妖气中成形
				PRINTFORMW 「先说好...」
				PRINTFORML
				CALL K69_TRANSFORM(picResource:1,picResource:3)
				PRINTFORML
				CALL PRINT_IMAGE(picResource:4);变换后笑脸
				PRINTFORML
				SIF FLAG:口上色
					CALL M_KOJO_別人変身版_COLOR_K69(TRANSAFTER)
				PRINTFORMW 「偷来的魔法书咱可不会还哟DA☆ZE%UNICODE(0x2764)%，发现好东西就要果断『借走』呢~♪」
				REDRAW 0
				CLEARLINE (iSize / 100) + 2
				CALL PRINT_IMAGE(picResource:3);变换后脸
				PRINTFORML
				PRINTFORML 变为魔理沙的猯藏晃动着围裙转来转去
				PRINTFORMW 「嘿诶~难道你小子是喜好这种类型的吗——」
				PRINTFORMW 「不知道那孩子看到了会是什么表情呢？」
				IF TALENT:TRANSAFTER:胸圍 == 1
					PRINTFORMW 「这孩子的围裙...意外地方便活动呢DA☆ZE%UNICODE(0x2764)%」
				ELSEIF TALENT:TRANSAFTER:胸圍 == 2
					PRINTFORMW 「喂喂~魔理沙的扫帚平衡要坏掉了啊%UNICODE(0x2764)%」
					PRINTFORMW 「这么大的『魔炮燃料』飞行时会很碍事哟~」
				ENDIF
				REDRAW TEMP
			CASE 25 ;藍
				CALL PRINT_IMAGE(picResource:6)
				PRINTFORML
				PRINTFORML 「啥？要咱扮作%CALLNAME:(TRANSAFTER)%……？」
				PRINTFORML 「你小子，可晓得自个儿在说啥不……？」
				PRINTFORMW 「哈啊……也罢，依你便是……瞧好嘞」
				PRINTFORML
				CALL K69_TRANSFORM(picResource:1,picResource:3)
				PRINTFORML
				CALL PRINT_IMAGE(picResource:5)
				PRINTFORML
				SIF FLAG:口上色
					CALL M_KOJO_別人変身版_COLOR_K69(TRANSAFTER)
				PRINTFORMW 「……真是，竟让咱这狸猫扮狐狸……」
				REDRAW 0
				CLEARLINE (iSize / 100) + 2
				CALL PRINT_IMAGE(picResource:4)
				PRINTFORML
				PRINTFORML 「……真是，竟让咱这狸猫扮狐狸……」
				PRINTFORMW 「也罢，既已如此，便由着你好好作践咱吧？」
				REDRAW TEMP
			CASE 30 ;映姫
				CALL PRINT_IMAGE(picResource:6)
				PRINTFORML
				PRINTFORML 「啥、啥子？要咱扮作%CALLNAME:(TRANSAFTER)%……？」
				PRINTFORML 「你小子，可晓得自个儿在说啥不……？」
				PRINTFORMW 「哈啊……也罢，依你便是……瞧好嘞」
				PRINTFORML
				CALL K69_TRANSFORM(picResource:1,picResource:3)
				PRINTFORML
				CALL PRINT_IMAGE(picResource:5)
				PRINTFORML
				SIF FLAG:口上色
					CALL M_KOJO_別人変身版_COLOR_K69(TRANSAFTER)
				PRINTFORMW 「……哈啊……之后怕是要遭报应啊……」
			CASE 43 ;華扇
				CALL PRINT_IMAGE(picResource:6)
				PRINTFORML
				PRINTFORML 「啥？要咱扮作%CALLNAME:(TRANSAFTER)%……？」
				PRINTFORMW 「哈啊……也罢，依你便是……瞧好嘞」
				PRINTFORML
				CALL K69_TRANSFORM(picResource:1,picResource:3)
				PRINTFORML
				CALL PRINT_IMAGE(picResource:5)
				PRINTFORML
				PRINTFORMW 「……扮成熟人模样，事后想起来真叫人发怵……」
				REDRAW 0
				CLEARLINE (iSize / 100) + 2
				CALL PRINT_IMAGE(picResource:4)
				PRINTFORML
				SIF FLAG:口上色
					CALL M_KOJO_別人変身版_COLOR_K69(TRANSAFTER)
				PRINTFORML 「……扮成熟人模样，事后想起来真叫人发怵……」
				PRINTFORMW 「也罢……既已如此，这鬼仙人的身子骨，便由着你耍弄吧？」
				REDRAW TEMP		
				CASE 55;白蓮
				CALL PRINT_IMAGE(picResource:0)
				PRINTFORML
				PRINTFORMW 「哦呀？要咱扮作%CALLNAME:(TRANSAFTER)%……？」
				PRINTFORMW 「……也罢，依你便是……瞧好嘞」
				PRINTFORML
				CALL K69_TRANSFORM(picResource:1,picResource:3)
				PRINTFORML
				CALL PRINT_IMAGE(picResource:5)
				PRINTFORML
				SIF FLAG:口上色
					CALL M_KOJO_別人変身版_COLOR_K69(TRANSAFTER)
				PRINTFORML 「……哼嗯，差不多就这模样……」
				PRINTFORMW 「丑话说前头，若被本尊知晓，咱俩可都得挨拳头哟？」
			CASE 70 ;小鈴
				CALL PRINT_IMAGE(picResource:0)
				PRINTFORML
				PRINTFORMW 「哦呀？要咱扮作%CALLNAME:(TRANSAFTER)%……？」
				PRINTFORMW 「……也罢，依你便是……瞧好嘞」
				PRINTFORML
				CALL K69_TRANSFORM(picResource:1,picResource:3)
				PRINTFORML
				CALL PRINT_IMAGE(picResource:5)
				PRINTFORML
				SIF FLAG:口上色
					CALL M_KOJO_別人変身版_COLOR_K69(TRANSAFTER)
				PRINTFORML 「……真是，铃奈庵那姑娘家……」
				PRINTFORMW 「咱可是常客呐，多关照关照咱？」
			CASE 139 ;典
				CALL PRINT_IMAGE(picResource:6)
				PRINTFORML
				PRINTFORML 「啥？要咱扮作%CALLNAME:(TRANSAFTER)%……？」
				PRINTFORML 「你小子，可晓得自个儿在说啥不……？」
				PRINTFORMW 「哈啊……也罢，依你便是……瞧好嘞」
				PRINTFORML
				CALL K69_TRANSFORM(picResource:1,picResource:3)
				PRINTFORML
				CALL PRINT_IMAGE(picResource:5)
				PRINTFORML
				SIF FLAG:口上色
					CALL M_KOJO_別人変身版_COLOR_K69(TRANSAFTER)
				PRINTFORMW 「……真是，竟让咱这狸猫扮狐狸……」
				REDRAW 0
				CLEARLINE (iSize / 100) + 2
				CALL PRINT_IMAGE(picResource:4)
				PRINTFORML
				PRINTFORML 「……真是，竟让咱这狸猫扮狐狸……」
				PRINTFORMW 「也罢，既已如此，便由着你好好作践咱吧？」
				REDRAW TEMP
			CASEELSE
				CALL PRINT_IMAGE(picResource:0)
				PRINTFORML
				PRINTFORMW 「哦呀？要咱扮作%CALLNAME:(TRANSAFTER)%……？」
				PRINTFORMW 「也罢……瞧好嘞」
				PRINTFORML
				CALL K69_TRANSFORM(picResource:1,picResource:3)
				PRINTFORML
				CALL PRINT_IMAGE(picResource:2)
				PRINTFORML
				SIF FLAG:口上色
					CALL M_KOJO_別人変身版_COLOR_K69(TRANSAFTER)
				IF TALENT:TRANSAFTER:体型 == -2
					IF TALENT:TRANSAFTER:胸圍 == 1 || TALENT:TRANSAFTER:胸圍 == 2
						PRINTFORMW 「……哼嗯……这身子骨比例……」
						PRINTFORMW 「%MASTERNAME:69%中意这般模样的小丫头片子……？」
					ELSE
						PRINTFORMW 「……哼嗯……%MASTERNAME:69%好幼女这口……？」
					ENDIF
				ELSEIF TALENT:TRANSAFTER:体型 == -1
					IF TALENT:TRANSAFTER:胸圍 == 1 || TALENT:TRANSAFTER:胸圍 == 2
						PRINTFORMW 「……瞧好，这便是所谓童颜巨乳咯♪中意不？」
					ELSE
						PRINTFORMW 「……哼嗯……身板儿单薄了些……」
					ENDIF
				ELSEIF TALENT:TRANSAFTER:胸圍 == -1 || TALENT:TRANSAFTER:胸圍 == -2
					PRINTFORMW 「……哼嗯……身板儿单薄了些……」
				ELSEIF TALENT:TRANSAFTER:胸圍 == 1
					PRINTFORMW 「……哼嗯，这般模样如何？」
					REDRAW 0
					CLEARLINE (iSize / 100) + 2
					CALL PRINT_IMAGE(picResource:4)
					PRINTFORML
					PRINTFORML 「……哼嗯，这般模样如何？」
					PRINTFORMW 「……喂喂，眼珠子别尽往胸脯上瞟……♪」
					REDRAW TEMP
				ELSEIF TALENT:TRANSAFTER:胸圍 == 2
					PRINTFORMW 「……哼嗯……这般分量怕是肩膀要遭罪……」
					REDRAW 0
					CLEARLINE (iSize / 100) + 2
					CALL PRINT_IMAGE(picResource:4)
					PRINTFORML
					PRINTFORML 「……哼嗯……这般分量怕是肩膀要遭罪……」
					PRINTFORMW 「……再怎的丰腴，也别尽盯着胸脯瞧……♪」
					REDRAW TEMP
				ELSE
					PRINTFORMW 「……哼嗯，这般模样如何？」
				ENDIF
		ENDSELECT
	ENDIF
	IF TRANSBEFORE == 69
		CFLAG:69:1100 = TALENT:69:体型
		CFLAG:69:1105 = TALENT:69:胸圍
	ENDIF
	IF TRANSAFTER == 69
		TALENT:69:体型 = CFLAG:69:1100
		TALENT:69:胸圍 = CFLAG:69:1105
	ELSE
		TALENT:69:体型 = TALENT:TRANSAFTER:体型
		TALENT:69:胸圍 = TALENT:TRANSAFTER:胸圍
	ENDIF
ENDIF
RETURN 1

;==================================================
;変身アニメーション
;受け取ったキャラ番号で変身アニメーション表示するだけ
;アニメーションOFFなら一枚絵
;==================================================
@K69_TRANSFORM(TRANSBEFORE,TRANSAFTER)
#DIMS TRANSBEFORE
#DIMS TRANSAFTER

SIF TRANSBEFORE == ""|| TRANSAFTER == ""
	RETURN 0

IF !FLAG:アニメーション || !FLAG:挿絵表示
	CALL PRINT_IMAGE_OVERRAP(TRANSBEFORE,"汎用エフェクト_smoke")
	REPEAT 5
		REUSELASTLINE 噗咻.%"." * COUNT%
		TWAIT 300, 1
	REND
ELSE
	CALL PRINT_IMAGE_TRANSANIMATION(TRANSBEFORE,TRANSAFTER,"エフェクト_SMOKE")
	CALL PRINT_IMAGE(TRANSAFTER)
ENDIF

PRINTFORMW 烟雾散去...

RETURN RESULT

;==================================================
;対応口上呼び出し
;各種基本口上から呼び出してTCVAR:360に対応した口上を呼び出す
;CALL K69_CALLKOJO("別人変身版_MESSAGE_COM_K69","_0")
;のように使う
;VALUE1	呼び出す関数の前半 
;VALUE2	呼び出す関数の後半
;ARG,ARG:1~	引数　省略可
;RESULT:1に返り値を格納 
;RESULTに成否を格納
;==================================================
@K69_CALLKOJO(VALUE1,VALUE2,ARG=-999,ARG:1=-999,ARG:2=-999,ARG:3=-999,ARG:4=-999)
#DIM TRANSAFTER
#DIMS VALUE
#DIMS VALUE1
#DIMS VALUE2
TRANSAFTER = CFLAG:TARGET:変化先 == 0 ? K69_CNUM # CFLAG:TARGET:変化先
RESULT = 0
;デフォルト
IF TRANSAFTER == K69_CNUM || !TCVAR:K69_CNUM:360
	VALUE =
;各キャラなりきり
ELSEIF TCVAR:K69_CNUM:360 == 1
	VALUE '= @"_K{TRANSAFTER}"
;ロールプレイ
ELSEIF TCVAR:K69_CNUM:360 >= 2
	LOCAL = TCVAR:K69_CNUM:360 - 2
	VALUE '= @"_%K69_ROLE%"
ENDIF
IF ARG:4 != -999
	TRYCCALLFORM %VALUE1%%VALUE%%VALUE2%(ARG,ARG:1,ARG:2,ARG:3,ARG:4)
		RESULT:1 = RESULT
		RESULT = 1
	CATCH
		RESULT = 0
	ENDCATCH
ELSEIF ARG:3 != -999
	TRYCCALLFORM %VALUE1%%VALUE%%VALUE2%(ARG,ARG:1,ARG:2,ARG:3)
		RESULT:1 = RESULT
		RESULT = 1
	CATCH
		RESULT = 0
	ENDCATCH
ELSEIF ARG:2 != -999
	TRYCCALLFORM %VALUE1%%VALUE%%VALUE2%(ARG,ARG:1,ARG:2)
		RESULT:1 = RESULT
		RESULT = 1
	CATCH
		RESULT = 0
	ENDCATCH
ELSEIF ARG:1 != -999
	TRYCCALLFORM %VALUE1%%VALUE%%VALUE2%(ARG,ARG:1)
		RESULT:1 = RESULT
		RESULT = 1
	CATCH
		RESULT = 0
	ENDCATCH
ELSEIF ARG != -999
	TRYCCALLFORM %VALUE1%%VALUE%%VALUE2%(ARG)
		RESULT:1 = RESULT
		RESULT = 1
	CATCH
		RESULT = 0
	ENDCATCH
ELSE
	TRYCCALLFORM %VALUE1%%VALUE%%VALUE2%
		RESULT:1 = RESULT
		RESULT = 1
	CATCH
		RESULT = 0
	ENDCATCH
ENDIF

RETURN RESULT
;==================================================
;対応口上呼び出し(EV)
;各種基本口上から呼び出してTCVAR:360に対応した口上を呼び出す
;CALL K69_CALLKOJO_EV("別人変身版_MESSAGE_COM_K69","_0",ARG,ARG:1)
;のように使う
;VALUE1	呼び出す関数の前半 
;VALUE2	呼び出す関数の後半
;RESULTに返り値を格納 0:false 1;true
;==================================================
@K69_CALLKOJO_EV(VALUE1,VALUE2,ARG,ARG:1)
#DIM TRANSAFTER
#DIMS VALUE
#DIMS VALUE1
#DIMS VALUE2
TRANSAFTER = CFLAG:TARGET:変化先 == 0 ? K69_CNUM # CFLAG:TARGET:変化先
RESULT = 0
;デフォルト
IF TRANSAFTER == K69_CNUM || !TCVAR:K69_CNUM:360
	VALUE =
;各キャラなりきり
ELSEIF TCVAR:K69_CNUM:360 == 1
	VALUE '= @"_K{TRANSAFTER}"
;ロールプレイ
ELSEIF TCVAR:K69_CNUM:360 >= 2;
	LOCAL = TCVAR:K69_CNUM:360 - 2
	VALUE '= @"_%K69_ROLE%"
ENDIF
TRYCCALLFORM %VALUE1%%VALUE%%VALUE2%(ARG,ARG:1)
	RESULT:1 = RESULT
	RESULT = 1
CATCH
	RESULT = 0
ENDCATCH

RETURN RESULT

;==================================================
;独自設定のカラーコード呼び出し
;この口上で使う各キャラのカラーコードを返す
;未設定の場合はマミゾウと同色
;==================================================
@K69_COLORCODE(ARG)
#FUNCTION
SELECTCASE ARG
CASE 1	;霊夢
	RETURNF 0xFF3000
CASE 2	;る～こと
	RETURNF 0x70FF20
CASE 3	;カナ
	RETURNF 0xFFFFA7
CASE 4	;魅魔
	RETURNF 0x60EF60
CASE 5	;サニー
	RETURNF 0xFFCF88
CASE 6	;ルナ
	RETURNF 0xFFFF8F
CASE 7	;スター
	RETURNF 0x50FFFF
CASE 8	;ちゆり
	RETURNF 0xFFE778
CASE 9	;夢美
	RETURNF 0xFF5060
CASE 10	;萃香
	RETURNF 0xCF8100
CASE 11	;魔理沙
	RETURNF 0xE7E700
CASE 12	;ルーミア
	RETURNF 0xEFF710
CASE 13	;大妖精
	RETURNF 0x28FF18
CASE 14	;チルノ
	RETURNF 0x308FFF
CASE 15	;咲夜
	RETURNF 0xA7D7FF
CASE 16	;レミリア
	RETURNF 0xEFB6BF
CASE 17	;アリス
	RETURNF 0xFFFF30
CASE 18	;リリーＷ
	RETURNF 0xFFBFCF
CASE 19	;リリーＢ
	RETURNF 0xA0A0A8
CASE 20	;リリカ
	RETURNF 0xE73718
CASE 21	;メルラン
	RETURNF 0xEFB8FF
CASE 22	;ルナサ
	RETURNF 0xDFEF00
CASE 23	;妖夢
	RETURNF 0xE8FFE8
CASE 24	;橙
	RETURNF 0xF36C21
CASE 25	;藍
	RETURNF 0x3E86AB
CASE 26	;紫
	RETURNF 0x895B8A
CASE 27	;リグル
	RETURNF 0x38FFA0
CASE 28	;ミスティア
	RETURNF 0xFF88DF
CASE 29	;文
	RETURNF 0xB0B0B0
CASE 30	;映姫
	RETURNF 0x48CF68
CASE 31	;早苗
	RETURNF 0x28FF40
CASE 32	;神奈子
	RETURNF 0x7890FF
CASE 33	;諏訪子
	RETURNF 0xFFC700
CASE 34	;天子
	RETURNF 0x28A0FF
CASE 35	;衣玖
	RETURNF 0x9758FF
CASE 36	;燐
	RETURNF 0xFF3828
CASE 37	;空
	RETURNF 0x40FF67
CASE 38	;こいし
	RETURNF 0xB0FF5F
CASE 39	;ナズーリン
	RETURNF 0xA8A0A0
CASE 40	;小傘
	RETURNF 0x28FFD0
CASE 41	;ぬえ
	RETURNF 0xC088C0
CASE 42	;はたて
	RETURNF 0xC758AF
CASE 43	;華扇
	RETURNF 0xFF6870
CASE 44	;エレン
	RETURNF 0xE7FF48
CASE 45	;理香子
	RETURNF 0xE770E7
CASE 46	;明羅
	RETURNF 0xF750F7
CASE 47	;里香
	RETURNF 0xCF5020
CASE 48	;ルイズ
	RETURNF 0xC0C0C0
CASE 49	;さとり
	RETURNF 0xD768CF
CASE 50	;フラン
	RETURNF 0xFF4040
CASE 51	;にとり
	RETURNF 0x58D0FF
CASE 52	;鈴仙
	RETURNF 0xFFA0FF
CASE 53	;てゐ
	RETURNF 0xDFDFDF
CASE 54	;パチュリー
	RETURNF 0xFF60D7
CASE 55	;白蓮
	RETURNF 0xC098C0
CASE 56	;神子
	RETURNF 0xFFFF70
CASE 57	;こころ
	RETURNF 0xFF8098
CASE 58	;美鈴
	RETURNF 0xFF4830
CASE 59	;小悪魔
	RETURNF 0xFF4860
CASE 60	;パルスィ
	RETURNF 0x20E710
CASE 61	;妹紅
	RETURNF 0xFF2828
CASE 62	;輝夜
	RETURNF 0xD098D7
CASE 63	;影狼
	RETURNF 0xDF98FF
CASE 64	;勇儀
	RETURNF 0xFFEF9F
CASE 65	;椛
	RETURNF 0xEFEFFF
CASE 66	;幽々子
	RETURNF 0xFF98A7
CASE 67	;慧音
	RETURNF 0x98A7FF
CASE 68	;幽香
	RETURNF 0x20E700
CASE 70	;小鈴
	RETURNF 0xE76768
CASE 71	;針妙丸
	RETURNF 0x8F68FF
CASE 72	;永琳
	RETURNF 0xD7B8FF
CASE 73	;蛮奇
	RETURNF 0xFF2840
CASE 74	;レティ
	RETURNF 0x9880FF
CASE 75	;メディスン
	RETURNF 0xFFFF20
CASE 76	;小町
	RETURNF 0xDF004C
CASE 77	;静葉
	RETURNF 0xDF4818
CASE 78	;穣子
	RETURNF 0xECB063
CASE 79	;雛
	RETURNF 0x60FFB8
CASE 80	;阿求
	RETURNF 0xE760CF
CASE 81	;蓮子
	RETURNF 0xBFB868
CASE 82	;メリー
	RETURNF 0xB7A0FF
CASE 83	;キスメ
	RETURNF 0x08FF50
CASE 84	;ヤマメ
	RETURNF 0xFF9730
CASE 85	;一輪
	RETURNF 0xA0FFFF
CASE 86	;村紗
	RETURNF 0x60FFA7
CASE 87	;星
	RETURNF 0xFFFF68
CASE 88	;響子
	RETURNF 0x58FFBF
CASE 89	;芳香
	RETURNF 0x6F80FF
CASE 90	;青娥
	RETURNF 0x4090FF
CASE 91	;屠自古
	RETURNF 0xC8FFA0
CASE 92	;布都
	RETURNF 0x989898
CASE 93	;わかさぎ姫
	RETURNF 0x5898FF
CASE 94	;弁々
	RETURNF 0x9898FF
CASE 95	;八橋
	RETURNF 0xFFB760
CASE 96	;雷鼓
	RETURNF 0xFF4840
CASE 97	;正邪
	RETURNF 0xC0C0C0
CASE 98	;依姫
	RETURNF 0xDF78F7
CASE 99	;豊姫
	RETURNF 0xDFDF90
CASE 100	;レイセン
	RETURNF 0xDFD8D8
CASE 101	;朱鷺子
	RETURNF 0xA8A8FF
CASE 102	;神綺
	RETURNF 0xC0C0EF
CASE 103	;夢子
	RETURNF 0xFFFF68
CASE 104	;ユキ
	RETURNF 0xC77660
CASE 105	;マイ
	RETURNF 0xFFB8B8
CASE 106	;董子
	RETURNF 0x9085C3
CASE 107	;清蘭
	RETURNF 0x2088FF
CASE 108	;鈴瑚
	RETURNF 0xFF8F28
CASE 109	;ドレミー
	RETURNF 0xFF2867
CASE 110	;ザクメ
	RETURNF 0xCFC0C0
CASE 111	;クラウンピース
	RETURNF 0xDF50C7
CASE 112	;純狐
	RETURNF 0xFFB020
CASE 113	;ヘカーティア
	RETURNF 0xFF4030
CASE 114	;くるみ
	RETURNF 0xD070FF
CASE 115	;エリー
	RETURNF 0xFF3850
CASE 116	;夢月
	RETURNF 0x8F70FF
CASE 117	;幻月
	RETURNF 0xDFD0D0
CASE 118	;ラルバ
	RETURNF 0x98FFFF
CASE 119	;ネムノ
	RETURNF 0xA0A0A8
CASE 120	;あうん
	RETURNF 0xC0FFD7
CASE 121	;成美
	RETURNF 0xB0B0B8
CASE 122	;舞
	RETURNF 0x60FF78
CASE 123	;里乃
	RETURNF 0xFF78B0
CASE 124	;純狐
	RETURNF 0xFFCF40
CASE 125	;女苑
	RETURNF 0xE0B8C8
CASE 126	;紫苑
	RETURNF 0x90B0FF
CASE 127	;瓔花
	RETURNF 0xFFA098
CASE 128	;潤美
	RETURNF 0xFFC8C8
CASE 129	;久侘歌
	RETURNF 0xFFD790
CASE 130	;八千慧
	RETURNF 0x90CFFF
CASE 131	;磨弓
	RETURNF 0xFFC828
CASE 132	;桂姫
	RETURNF 0x78FFCF
CASE 133	;早鬼
	RETURNF 0xB0B0B0
CASE 134	;美宵
	RETURNF 0xFFA898
CASE 135	;ミケ
	RETURNF 0xEFC8C8
CASE 136	;たかね
	RETURNF 0xA8FFA8
CASE 137	;駒草
	RETURNF 0xFF98C0
CASE 138	;魅須丸
	RETURNF 0xFF8060
CASE 139	;典
	RETURNF 0xEFBF60
CASE 140	;龍
	RETURNF 0x6087EF
CASE 141	;千亦
	RETURNF 0x9070FF
CASE 142	;百々世
	RETURNF 0xA0A0B0
CASE 143	;饕餮
	RETURNF 0xA0C7FF
CASE 144	;影華扇
	RETURNF 0xE75058
CASE 145	;小兎姫
	RETURNF 0xEF80E0
CASE 146	;エリス
	RETURNF 0xFFFF50
CASE 147	;サリエル
	RETURNF 0xA8A8F7
CASE 148	;サラ
	RETURNF 0xFFA0B8
CASE 149	;オレンジ
	RETURNF 0xEE7800
CASE 150	;コンガラ
	RETURNF 0xC080C0
CASE 151	;マガン
	RETURNF 0xE8E8A0
CASE 152	;キクリ
	RETURNF 0xE7BF38
CASE 153	;美天
	RETURNF 0xFF9048
CASE 154	;慧ノ子
	RETURNF 0xB0B0E0
CASE 155	;ちやり
	RETURNF 0xAF80FF
CASE 156	;日狭美
	RETURNF 0x8870FF
CASE 157	;残無
	RETURNF 0xA880FF
CASE 158	;瑞霊
	RETURNF 0x90C0FF
CASEELSE
	RETURNF 0xCF7C38
ENDSELECT