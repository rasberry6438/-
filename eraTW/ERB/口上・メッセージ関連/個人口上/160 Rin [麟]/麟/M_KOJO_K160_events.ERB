;更新日期：2024年12月5日
;-------------------------------------------------
; eraTheWorld 4.841用 ○○口上（キャラクターの名前を入れる、下にコンセプトなど一言あれば入れる）
;-------------------------------------------------
;Any modifications, additions, or alterations by others must be in accordance with the included license terms.
;他者による修正、加筆、改変については、同梱のライセンス条項に従ってください。

;------ ｷﾘﾄﾘ ｶｲｼ -----------
;eraTheWorld proto4.07パッチ取り込み用 Ver1.13
;テンプレートの使い方
;初めに置換コマンド等により K160 を K(キャラNo) に変更して下さい  
;キャラNoはCSVフォルダのCharaファイルを参照　例(霧雨 魔理沙の場合)：K160 =置換=> K11
;
;------ ｷﾘﾄﾘ ｵﾜﾘ -----------

;**** FlagManagement **********************************************************
;List the CFLAGs, TCVARs, etc. used in this file
;本口上にて使用しているCFLAG・TCVAR等
;
;
;
;******************************************************************************

;### 口上存在判定 ###################################
@M_KOJO_K160(ARG)
;別人版を作成する際はこのテンプレではなく別人版用口上テンプレをご利用ください

;口上存在判定です、けしてコメントアウトしないでください
;他の処理は一切行わないように
RETURN 1

;### 口上基本フラグ設定 #############################
@M_KOJO_FLAGSETTING_K160
;If you use CFLAGs or other character variables, you will need to specify a character number.
;基本フラグ設定はここで行ってください
;共通の口上フラグは必要な箇所のコメントアウトを外してご利用ください
;口上専用フラグはご自由に
;Xにはキャラ番号を入れてください

;眠姦口上有、時間停止口上有、扮演に1を入れると、それぞれ時間停止時、眠姦時、扮演時にコマンド口上が読み込まれるように
;入れないと時間停止時、眠姦時、扮演時は一切喋りません
;Enable sleep rape dialogue
;CFLAG:X:眠姦口上有 = 0


;Enable time stop rape dialogue
;CFLAG:X:時間停止口上有 = 0


;Enable custom dialogue if playing as an existing character (Yuugi, etc.)?
;CFLAG:X:扮演口上有 = 0


;If 1, the character will object to you trying to take their virginity?
;破瓜中止口上有に1を入れると、@M_KOJO_EVENT_K160_LOST_VIRGIN_STOPで中止の成否を操作できます
;CFLAG:X:破瓜中止口上有 = 0

;口上内抱き寄せ判定_初回と口上内抱き寄せ判定_通常に1を入れると、M_KOJO_EVENT_K160_PERMISSIONで推倒の成否を操作できます

;If 1, you can use M_KOJO_EVENT_K160_PERMISSION to make it so pushing down for the first time always succeeds or always fails
;CFLAG:X:口上内抱き寄せ判定_初回 = 0

;If 1, you can use M_KOJO_EVENT_K160_PERMISSION to make it so pushing down always succeeds or always fails
;CFLAG:X:口上内抱き寄せ判定_通常 = 0

;If 1, you can use M_KOJO_EVENT_K160_PERMISSION to make it so taking a character's penile virginity always succeeds or always fails
;CFLAG:X:口上用童貞喪失判定 = 0

;If 1, you can use M_KOJO_EVENT_K160_PERMISSION to make it so taking a character's anal virginity always succeeds or always fails
;CFLAG:X:口上用肛門処女喪失判定 = 0

;推倒禁止に1を入れると、自分から推倒てこなくなります
;以下は恋慕か炮友がつくまで推倒てこなくなる使用例
;Setting CFLAG:推倒禁止 to 1 will make it so a character will not push you down
;For instance, the below code will ensure that a character will not push you down unless they have Yearning or Sex Friend:
IF !TALENT:160:恋慕 && !TALENT:160:炮友
	CFLAG:160:推倒禁止 = 1
ELSE
	CFLAG:160:推倒禁止 = 0
ENDIF

;来訪不能に1を入れると、来訪してこなくなります
;以下は面識があるまで来訪してこなくなる使用例
;Setting CFLAG:来訪不能 to 1 will make it so the character will never attempt to visit the player.
;For instance, the below code will ensure that a character will not attempt to visit the player unless the player has met them before:
;IF !CFLAG:X:面識
;	CFLAG:X:来訪不能 = 1
;ELSE
;	CFLAG:X:来訪不能 = 0
;ENDIF

;Custom: If 1, this character has tips which can appear at night
;CFLAG:TARGET:MORNING_TIPS = 0

;### 口上色判定 ###################################
@M_KOJO_COLOR_K160

;ここでSETCOLORすることで口上に色を付けられます
;You can use SETCOLOR to change the color of a character's dialogue.
;例：SETCOLOR 0xC07070
SETCOLOR 0xEA9999

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"UPDATE判定"
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;口上独自のUPDATE用
;ENCOUNTER専用に独自分岐フラグを仕込んだ場合等にどうぞ
;UPDATE判定でCFLAG等のキャラ変数を使う場合、キャラ番号の指定が必要になります
@M_KOJO_UPDATE_K160
;口上独自のUPDATE用
;ENCOUNTER専用に独自分岐フラグを仕込んだ場合等にどうぞ
;UPDATE判定でCFLAG等のキャラ変数を使う場合、キャラ番号の指定が必要になります
LOCAL = LINECOUNT
PRINTFORM [0]麒麟送子　　　
SIF !CFLAG:160:1000
	SETCOLOR C_GRAY
PRINTFORML \[\@ CFLAG:160:1000 ? 开启 # 关闭 \@\]
RESETCOLOR
PRINTL
PRINTFORML [1]説明
PRINTFORML [2]完成设置
INPUT
SELECTCASE RESULT
CASE 0
	CFLAG:160:1000 = !CFLAG:160:1000
CASE 1
	PRINTL
	PRINTFORML 麒麟送子：　开启后冴月麟只会诞下男性子嗣（未来育儿口上将会侧重于男孩）
	PRINTL
CASE 2
	PRINTL
	PRINTFORML 设置已完成
	PRINTFORML 麟的麒麟送子\@ CFLAG:160:1000 ? 已启用 # 未启用 \@
	RETURN 1
ENDSELECT
CLEARLINE LINECOUNT-LOCAL
RESTART
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"ENCOUNTER" events (extra syntax)
;"ENCOUNTER"系イベント（エクストラ構文）
;First Meeting
;※※※※※※※※※※※※※※※※※※※※※※※※※※
@M_KOJO_ENCOUNTER_K160
;初対面、挨拶のタイミング
;TALENTの変更はここでどうぞ。
;経験の変更は齟齬が出る場合がありますので、CSVを修正し同梱する事を推奨します
IF MAIN_MAP == 2
	PRINTFORMDW 一个穿着红白连衣裙的女孩老远就在和你打招呼，然后快步走过来 。灿金色头发戴着红色发带，两边有着樱桃一般的发卡
	PRINTFORMW 「你好呀，你就是最近大家讨论的新人吗？」
	PRINTFORMDL 她的声音轻柔而温和，如同扑面的春风。身旁带着一种长弦的乐器，看上去像小提琴
	PRINTFORMDW 她微微鞠躬，你看到她头上的蝴蝶轻轻扇动了翅膀
	PRINTFORMW 「我叫%NAME:160%,麒麟妖怪哦,现在我在人间之里的寺子屋当医师」
	PRINTFORMW 「啊，你的手受伤了吗?」
	PRINTFORMDL 你看到手背上有一道微微的伤痕，在%CALLNAME:160%提起前完全没注意到
	PRINTFORMDW 看上去没什么大不了的
	PRINTFORMW 「不行！如果现在不及时处理的话，之后它会烂掉的！！！你知道感伤口感染后有多危险吗？」
	PRINTFORMDL %CALLNAME:160%立刻牵起你的手前往寺子屋的医务室，小心地包扎着   你盯着她的小手熟练地帮你包扎着，感觉到她的皮肤柔软而光滑
	PRINTFORMDW 有必要为这个小伤口大费周章吗？
	PRINTFORML 「你来自外界，不是吗？初来乍到，要是水土不服怎么办？说不定幻想乡有外界没有的病呢...」
	PRINTFORML 「即使是很小很小的伤口也有可能造成很大的问题啊，你应该更加小心才对...」
	PRINTFORMW 「啊抱歉，忘了问你的名字了」
	PRINTFORMDL %CALLNAME:160%给了你一个大大的微笑，刚才的烦闷一扫而空。你呆呆地说出了自己的名字
	PRINTFORML 「很高兴见到你, %CALLNAME:MASTER%. 三十分钟后，你就可以取下这些绷带啦。如果还发生了这种事，记得来寺子屋找我哦」
	PRINTFORML 「人间之里对于人类而言是很安全的，不过也别晚上在外面瞎晃悠哦，可能会很危险的！要多小心」
	PRINTFORMW 「如果有什么问题的话，可以来寺子屋找我和慧音老师。慧音老师也是妖怪，但她和我一样喜欢着人类，而且是一个更加可靠的人呐」
ELSE
	PRINTFORMW 「你好呀，你就是最近大家讨论的新人吗？」
	PRINTFORMDL 一个穿着红白连衣裙的女孩老远就在和你打招呼，然后快步走过来 。灿金色头发戴着红色发带，两边有着樱桃一般的发卡
	PRINTFORMDL 她的声音轻柔而温和，如同扑面的春风。身旁带着一种长弦的乐器，看上去像小提琴
	PRINTFORMDW 她微微鞠躬，你看到她头上的蝴蝶轻轻扇动了翅膀
	PRINTFORMW 「我叫%NAME:160%,麒麟妖怪哦,现在我在人间之里的寺子屋当医师」
	PRINTFORMDW 你介绍了一下自己  虽然%CALLNAME:160%看上去很年轻，但行为举止都透露出了谦逊和成熟，俨然一副长者的姿态
	PRINTFORML 「很高兴见到你, %CALLNAME:MASTER%.欢迎来到幻想乡,在这片幻想的土地不管是谁都可以找到安宁,妖精,妖怪,幽灵,神明,甚至是普通人」
	PRINTFORMW 「希望你会喜欢这个地方」
	PRINTFORMW 「呐，你来自外界吗？我想知道自从我来这那么久，外面都发生了什么？外界人都过得怎么样了？你可以和我说说你的故事吗，我很乐意听哒~」
	PRINTFORML 「如果感觉不舒服的话，你可以去迷途竹林去找永琳医生，或者来人里寺子屋找我。不要忽视健康上的隐患哦，即使是很小的不适也可能很严重」
	PRINTFORMW 「在外边晚上要注意安全。大多数妖怪都比较温顺，可是到了晚上，有的妖怪会来找麻烦哦」
	PRINTFORMDL 之后，你和她聊了许多需要注意的事情
	;PRINTFORMW 「拜拜, %CALLNAME:MASTER%.注意安全」
ENDIF
RETURN 1

;@K160_BEFORETRAIN
;Function to be loaded at the start of the day, or more precisely, at the time of the visitation decision, uncomment it when using it.
;If you use this function, uncomment it out.
;However, it is advisable to set a condition for "read every morning without exception".
;一日の開始時、正確には来訪判定時に読み込む関数,使うときはコメントアウトを外すこと
;ここでCFLAG:XX:翌日来訪を設定して確実に来訪させたりTCVAR:XX:発情で朝っぱらからサカらせることもできる
;ただし「毎朝例外なく読み込まれる」ため、条件を設定しておくことが望ましい


;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"SP_EVENT" events
;"SP_EVENT"系イベント
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;==================================================
;First kiss on the way home from a date
;約會帰りにファーストKISS（合意も付く）
;==================================================
@M_KOJO_SPEVENT_K160_1(ARG,ARG:1)
;口上主はTARGET
;地の文表示
CALL SPEVENT_MESSAGE_1(ARG,ARG:1)
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	PRINTFORMDL 你感觉到有谁在后面轻轻拽着你的衣角。回头看去的时候，%CALLNAME:160%一脸局促的站在那欲言又止
	PRINTFORMDW 她紧咬着嘴唇，微微颤抖着
	PRINTFORMW 「%CALLNAME:MASTER%, 和你在一起的时光真的很快乐...希望你也是这么觉得的...」
	PRINTFORMDW %CALLNAME:160%双手环绕着你的脖子，结结巴巴地说着话，脸比脑袋上地头巾还红.
	PRINTFORMW 「但！...但我还是想给你一些回报...」%CALLNAME:160%提高了语气为自己打气，但后来还是蔫了下来
	PRINTFORMDW 你感觉到她紧靠着你的胸部剧烈的起伏着，于心不忍 。其实，已经没有必要给什么回报的...
	PRINTFORMDW %CALLNAME:160%紧紧地盯着你，在你开口说什么之前，她吻住了你
	PRINTFORMDW 她的双唇柔软而光滑，你感觉到因为紧张它们还有一点点僵硬，%CALLNAME:160%踮起脚尖抱住你
	PRINTFORMDW 为了保持这个姿势，你感觉到%CALLNAME:160%踮起的脚都在微微颤抖。你把她轻轻抱了起来，感受她的温度
	PRINTFORMDW 过了一会，%CALLNAME:160%轻轻推开了你，然后立马将头转开。你看到她脸红到了耳根
	PRINTFORMW 「慧音老师说你们人类通常喜欢这样表示由衷的感谢...」
	PRINTFORMDW 谢谢你，慧音老师。你热泪盈眶，心中比了个大大的赞
	PRINTFORMDW 之后的路上，%CALLNAME:160%路都不会走了，走路的样子感觉想她之前说的皮影戏里的人物
	;接吻を中止したい場合は以下を開放
	;TCVAR:中止接吻 = 1
ENDIF
RETURN 1

;==================================================
;Confessing on the way home from a date
;約會帰りに告白（恋人が付く）
;==================================================
@M_KOJO_SPEVENT_K160_2(ARG,ARG:1)
;口上主はTARGET
;地の文表示
CALL SPEVENT_MESSAGE_2(ARG,ARG:1)
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;Confession
	;After this dialogue is displayed, the player will have a choice to become the character's lover or turn them down.
	;告白内容
	;この告白内容表示後に受けるかどうかの選択分が表示されます
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		PRINTFORMW 「%CALLNAME:MASTER%？我们...商量些事吧？」
		PRINTFORMDL %CALLNAME:160%叫住了你后一言不发，仿佛在思考着什么，你静静地等待着她
		PRINTFORMDL 她拍了拍小脸，深吸一口气跨出一步，直勾勾地看着你的眼睛。你被她吓了一跳，相处这么久还没见到过她这样认真...
		PRINTFORMDW %CALLNAME:160%紧紧攥住了她的衣袖，又深吸了一口气。看着她你想起了第一次协助她打针时，对面的孩子也是这个样子
		PRINTFORML 「....已经过去那么久了啊，之前我也有一些人类朋友。他们，就是我的一切」
		PRINTFORML 「我...我从来没想过如果我亲眼看着他们老去会怎么样...我也从来没想到竟然会那么的痛苦」%CALLNAME:160%的肩膀都在微微颤抖
		PRINTFORMW 「仅仅是想想那种事会在发生我就...」%CALLNAME:160%抬起头来，你看到晶莹的泪花在瞳孔里打转
		PRINTFORMW 「遇到你是我这一生中最幸福的事情」
		PRINTFORMW 「我们在一起的日子越多，我就越害怕...害怕和你说再见的那天。我真的不知道该怎么办」
		PRINTFORMW 「我好害怕,%CALLNAME:MASTER%.即使是现在想想，我就...」
		PRINTFORMDL 泪水还是从眼角滴落，她用力擦干了眼泪，朝你露出了自信的笑容。你又看到了平常那个勇敢，坚强，又有点唠叨的她。这一次，她自信且温柔地和你说:
		PRINTFORMW 「同样的，我也很高兴我可以遇见你。更高兴我们一起度过了那么多有趣的时光，创造了那些难忘的回忆」
		PRINTFORML 「我知道的，我没有灵梦那么厉害，也没有慧音老师那样贤惠，我还很爱唠叨...我自己都不是希望你们成为的那样的人。但我对你的情感，没有半点虚假。我对你的情感永远是热忱，真挚的...」
		PRINTFORMW 「%CALLNAME:160%，非君莫属」
		PRINTFORMW 「你...可以成为阿麟的唯一吗?」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Confession accepted (player and character become lovers)
	;告白オッケー（恋人が付く）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORMW 「真...真的吗...? 我也爱你, %CALLNAME:MASTER%...最喜欢你了」
		PRINTFORMDL %CALLNAME:160%紧紧地抱着你，生怕你从她怀中消失。你听到她颤抖的声音，喜悦与兴奋并集
		PRINTFORMW 「即使那天到来，我也会与心爱的你行至尽头。我不会会陪着你的，一直...」
		PRINTFORMDL 你听着%CALLNAME:160%的抽噎，任凭泪水打湿衣襟。你轻抚着她的头，压抑的情绪喷薄而出，泪落如雨
		PRINTFORML 「我们会留下更多美好回忆的，一定...每一天，每一分，每一秒的剧情都值得收藏」
		PRINTFORMW 「我真的很高兴哦...我从来没想过可以和某个人在这样亲密。也从没想到，我也有谈情说爱的那一天」
		PRINTFORMDL 你温柔地揉搓着她的头，玩弄她的头巾。%CALLNAME:160%抗议般地抬起头来，你帮她擦掉了了泪水。二人相视一笑
		PRINTFORMW 「子曰 ，“既来之，则安之”」
		PRINTFORMW 「既然%CALLNAME:MASTER%选择了我，我一定会把自己全心全意地托付给你。我爱你，永远，%CALLNAME:MASTER%」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Confession rejected
	;告白失敗
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML 「啊哈哈...嗯...我知道了。对，你是对的。对不起，可能...我今天脑袋有点不舒服吧」%CALLNAME:160%捂着头，面露难色，确实看上去不舒服的样子...
		PRINTFORMW 「可能是今天工作太累了吧，又玩了那么久」
		PRINTFORMDL %CALLNAME:160%嘴角抽了一下，强颜欢笑
		PRINTFORML 「我...我突然想起来还有事要去做，哈哈...你不介意我们就先在这里分开吧？」
		PRINTFORMW 「祝好运哦, %CALLNAME:MASTER%.」
		PRINTFORMDW 当%CALLNAME:160%从你身边小步跑开的时候，你清楚地看到她的肩膀正在颤抖
		RETURN 1
	ENDIF

ENDIF
RETURN 1

;==================================================
;Returning home from a date
;約會帰り
;==================================================
@M_KOJO_SPEVENT_K160_3(ARG,ARG:1)
;口上主はTARGET
;地の文表示
CALL SPEVENT_MESSAGE_3(ARG,ARG:1)
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;Standard dialogue
	;通常帰宅
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		IF TALENT:恋人
			PRINTFORMDL %CALLNAME:160%开心地哼着不知名的小曲，在你身边蹦蹦跳跳地转圈。在她太得意忘形摔倒前，你见势不妙一把拉住了她拥入怀中
			CALL HPH_PRINT(@"「诶嘿嘿，和你约会一直都不会腻呢，%CALLNAME:MASTER%。最喜欢你了HPH」", "W")
		ELSE
			CALL HPH_PRINT(@"其实，我很少去人间之里外的地方探险呐。谢谢你陪我度过了美好的一天哦～HPH」", "W")
			PRINTFORMW 「或许...闲暇之余，偶尔多出来透透气也不错。你觉得呢？」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Hate Mark 1 removed
	;反発刻印消去イベント
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Hate Mark 2 removed (changes to Hate Mark 1)
	;反発刻印2>1レベルダウンイベント
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Hate Mark 3 removed (changes to Hate Mark 2)
	;反発刻印3>2レベルダウンイベント
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	PRINTFORML
ENDIF
RETURN 1

;==================================================
;Morning sex events
;朝イベント（诶嘿嘿）
;==================================================
@M_KOJO_SPEVENT_K160_4(ARG,ARG:1)
;口上主はTARGET
;共通メッセージ出力
;CALL SPEVENT_MESSAGE_4(ARG,ARG:1)
;-------------------------------------------------
;The character wakes the player up with a blowjob (or cunnilingus)
;フェラ、クンニで起こされる
;記入チェック
LOCAL:1 = 0
;-------------------------------------------------
IF LOCAL:1 && ARG == 1
	RETURN 1
ENDIF

;--------------------------------------------------
;The character wakes the player up with a titjob
;乳交で起こされる
;記入チェック
LOCAL:1 = 0
;-------------------------------------------------
IF LOCAL:1 && ARG == 2
	RETURN 1
ENDIF

;--------------------------------------------------
;The character wakes the player up with cowgirl (or scissoring)
;ARG:1 == 1 is for dialogue after the sex ends and the player chooses whether to get out of bed or push The character down and have even more sex
;騎乗位、貝合わせ (ARG:1が１の場合、ウフフに突入するか否か回答後の口上)
;記入チェック
LOCAL:1 = 0
;-------------------------------------------------
IF LOCAL:1 && ARG == 3
	;騎乗位、貝合わせ描写
	IF ARG:1 == 0
		IF TALENT:MASTER:2&2
		;cowgirl

		ELSE
		;scissoring

		ENDIF
	ELSE
		IF TFLAG:193 == 1
		;Have more sex
		;そのまま推倒た

		ELSE
		;Don't have more sex
		;押しのけて朝の準備
		ENDIF
	ENDIF
	RETURN 1
ENDIF
RETURN 1

;==================================================
;Morning events (non-sexual)
;朝イベント（日常）
;==================================================
@M_KOJO_SPEVENT_K160_5(ARG,ARG:1)
;口上主はTARGET
;共通メッセージ出力
;CALL SPEVENT_MESSAGE_5(ARG,ARG:1)
;--------------------------------------------------
;The character wakes the player up with a kiss
;接吻で起こされる
;記入チェック
LOCAL:1 = 0
;-------------------------------------------------
IF LOCAL:1 && ARG == 1
	RETURN 1
ENDIF

;--------------------------------------------------
;The character shakes the player awake
;揺さぶり起こされる
;記入チェック
LOCAL:1 = 1
;-------------------------------------------------
IF LOCAL:1 && ARG == 2
	RETURN 1
ENDIF

;--------------------------------------------------
;The player shakes the character awake
;起こしに来たけど寝てる
;記入チェック
LOCAL:1 = 0
;-------------------------------------------------
IF LOCAL:1 && ARG == 3
	RETURN 1
ENDIF

;--------------------------------------------------
;The player wakes up to see the character staring at them
;起きるまでじっと見てる
;記入チェック
LOCAL:1 = 0
;-------------------------------------------------
IF LOCAL:1 && ARG == 4
	RETURN 1
ENDIF

;--------------------------------------------------
;The character wakes the player up with a prank
;イタズラで起こされる
;記入チェック
LOCAL:1 = 0
;-------------------------------------------------
IF LOCAL:1 && ARG == 5
ENDIF
RETURN 1

;==================================================
;Nighttime sex events
;夜イベント（诶嘿嘿） originally disabled, added calls
;==================================================
@M_KOJO_SPEVENT_K160_6(ARG,ARG:1)
;口上主はTARGET
;共通メッセージ出力
;CALL SPEVENT_MESSAGE_6(ARG,ARG:1)
;--------------------------------------------------
;The character kisses the player goodnight
;夜這い接吻
;記入チェック
LOCAL:1 = 0
;-------------------------------------------------
IF LOCAL:1 && ARG == 1
	RETURN 1
ENDIF

;--------------------------------------------------
;The character fucks the player
;夜這い
;記入チェック
LOCAL:1 = 0
;-------------------------------------------------
IF LOCAL:1 && ARG == 2
	IF ARG:1 == 0
		RETURN 1
	ENDIF
ENDIF
;--------------------------------------------------
;The character masturbates to the player (not yet implemented)
;自慰
;記入チェック
	LOCAL:1 = 0
;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	RETURN 1

;==================================================
;Nighttime events (non-sexual)
;夜イベント（日常）
;==================================================
@M_KOJO_SPEVENT_K160_7(ARG,ARG:1)
;口上主はTARGET
;共通メッセージ出力
;CALL SPEVENT_MESSAGE_7(ARG,ARG:1)

;--------------------------------------------------
;The character has a drink with the player
;晩酌
;記入チェック
LOCAL:1 = 0
;-------------------------------------------------
IF LOCAL:1 && ARG == 1
	RETURN 1
ENDIF

;--------------------------------------------------
;The character invites the player to go moon-viewing
;夜風に当たる、お月見（分岐条件はEVENT_MESSAGE.ERB 377行目あたりを参照下さい）
;記入チェック
LOCAL:1 = 0
;-------------------------------------------------
IF LOCAL:1 && ARG == 2
	RETURN 1
ENDIF

;--------------------------------------------------
;The character slips into the player's bed and falls asleep next to them
;添い寝
;記入チェック
LOCAL:1 = 0
;-------------------------------------------------
IF LOCAL:1 && ARG == 3
	RETURN 1
ENDIF
RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"EVENT" events
;"EVENT"系イベント
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;==================================================
;Encountering the character in a room
;部屋で遭遇
;==================================================
@M_KOJO_EVENT_K160_1(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;The player enters a room the character's in
	;MASTERが入ってきた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF TALENT:恋人
			SELECTCASE RAND:2
				CASE 0
					PRINTFORML 「%CALLNAME:MASTER%！快来，请做吧。我去给你泡点茶。像自己家一样随便坐吧」
					PRINTFORMW 「毕竟，哼哼，它实际上也是你的家啦！诶嘿嘿～」
				CASE 1
					PRINTFORML 「%CALLNAME:MASTER%，快来」%CALLNAME:160%兴奋地招呼你坐下「请坐吧 我来给你泡茶喝。慧音老师说我最近进步了呢」
					PRINTFORMW 「那么...今天过的怎么样呀？有什么好玩的事和我讲讲呗」
				ENDSELECT
		ELSE
			SELECTCASE RAND:2
				CASE 0
					PRINTFORMW 「你好, %CALLNAME:MASTER%. 有什么需要我帮忙的吗?」
				CASE 1
					IF !CFLAG:325
						PRINTFORMDW 你看到%CALLNAME:160%正在练习她的二胡 
						PRINTFORMW 「你好, %CALLNAME:MASTER%.有什么需要的吗?」
					ENDIF
			ENDSELECT
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character enters a room the player's in
	;TARGETが入ってきた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2

		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character enters a room the player's bathing in and joins them in the bath
	;TARGETが風呂に入ってきて一緒に入る
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character enters a room the player's bathing in and leaves
	;TARGETが風呂に入ってきて出て行った
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character enters a room the player's bathing in and kicks them out of the bath
	;TARGETが風呂に入ってきて追い出された
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Encountering the player while they're outside
	;外出先で遭遇した
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Encountering the player while they're on a date with another character
	;ARG:1 is the person the player's on a date with (if you want to have custom dialogue
	;for dating a specific character in front of this character, etc)
	;他キャラと约会道中に遭遇した
	;ARG:1にデート相手
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		IF TALENT:恋人
			PRINTFORMDW %CALLNAME:160%看到你们腻歪在一起时，使劲揉了揉自己的眼睛，不敢相信发生在眼前的事
			PRINTFORMW (%CALLNAME:MASTER%? 但...为什么?那边那个孩子是？)
		ELSEIF TALENT:思慕 || TALENT:恋慕
			PRINTFORMW (%CALLNAME:MASTER%在和别人约会吗？)
			PRINTFORMDW %CALLNAME:160%在一旁呆滞地看着你们，不过你并没有注意到她
			PRINTFORMW (他们看上去好甜蜜啊...)
		ELSE
			PRINTFORMW 「啊，%CALLNAME:MASTER%！哎呀，我从来没想到你们两个会约会呢。你们在一起很般配哦」
			PRINTFORMDL %CALLNAME:160% 用手捂住嘴巴偷笑，嘴角都快藏不住了
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;First greeting of the day on the player's MAIN_MAP (the part of the world map they're living in: ex. The Forest of Magic, the Underworld, the Hakurei Shrine, etc.)
	;Note: after this dialogue is displayed, it will immediately be followed up by the ARG == 1 (the player enters a room the character's in)
	;or ARG == 2 dialogue (the character enters a room the player's in)
	;I think this only displays if the character walked in on you having sex the previous day?
	;MAIN_MAP上で一日最初の挨拶
	;注、このあと通常の遭遇口上、ARG==1 OR ARG==2に接続します
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		CALL K160_FIRST_GREETING_OF_DAY_LINES()
	RETURN 1
	ENDIF
	;-------------------------------------------------
	;First greeting of the day when the player is not on their MAIN_MAP
	;ARG:1 is the person the player's on a date with. If it's 0, they're not on a date.
	;Note: after this dialogue is displayed, it will immediately be followed up by the ARG == 6 (encountering the player while they're outside)
	;or ARG == 7 dialogue (encountering the player while they're on a date with another character)
	;外出先で一日最初の挨拶
	;ARG:1にデート相手、ARG:1が0の場合は非約會
	;注、このあと通常の外出先で遭遇した口上、ARG==6 OR ARG==7に接続します
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		;If the player is on a date
		;ARG:1と约会道中
		IF ARG:1
		;If they're not on a date
		;一人で外出
		ELSE
			CALL K160_FIRST_GREETING_OF_DAY_LINES()
		ENDIF
		RETURN 1
	ENDIF

    ;-------------------------------------------------
	;ENG exclusive: character is going somewhere else, asks if you'd like to tag along
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 97
		RETURN 1
	ENDIF

    ;-------------------------------------------------
	;ENG exclusive: tag along to wherever the character's going
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 98
		RETURN 1
	ENDIF

    ;-------------------------------------------------
	;ENG exclusive: don't tag along to wherever the character's going
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 99
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;When the player wakes up in the morning (good morning dialogue)
;朝起きたとき（おはよう口上）
;==================================================
@M_KOJO_EVENT_K160_2(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;The character woke up first, and they aren't living with the player
	;非同棲かつ相手が先に起きてる
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		;-------------------------------------------------
		;The player is in the character's room
		;TARGET私室にMASTERが入っている（恋慕時添い寝中就寝時のみ？
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			;CALL DAYEVENT("day", 160)
			SIF RESULT
				RETURN 1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;The character is in the player's room
		;MASTER私室にTARGETが入ってきてる(恋慕無しでも入ってくる可能性有り
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			;CALL DAYEVENT("day", 160)
			SIF RESULT
				RETURN 1
			RETURN 1
		ENDIF
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character woke up first, and they are living with the player
	;同棲かつ相手が起きている
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		;CALL DAYEVENT("day", 160)
		SIF RESULT
			RETURN 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The player woke up first, and they are living with the character
	;同棲かつ相手が寝ている
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORMW
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The player and the character are both awake
	;I think this gets called if either the player or the character run out of strength during sex, or if the character falls asleep during Sleep Together, the player wakes up, and then the character wakes up
	;MASTERが起きていて、相手が起きてきた
	;添い寝時TARGET起床はこちら（TARGET衰弱or添い寝中TARGET睡魔負け後そのままMASTERが起き続けた上で相手が起床した場合限定
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		;-------------------------------------------------
		;Not living together
		;非同棲
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			PRINTFORMW
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Living together
		;同棲中
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORMDW 一觉醒来，你感觉到有什么东西正趴在你胸膛上，沉甸甸的。掀开被子一看，%CALLNAME:160%正趴在你身上睡觉
			PRINTFORMDW 她甜美地轻轻打鼾，当阳光撒在她身上的时候，本能地把脸埋入你的胸膛，用手去勾被子
			PRINTFORMDL 你轻轻拍了拍头，%CALLNAME:160%才缓缓睁开眼睛清醒过来
			PRINTFORMW 「呜——★...早上好，%CALLNAME:MASTER%。昨天晚上睡得怎么还好吗？」
			PRINTFORMDL %CALLNAME:160%像小猫一样伸了个懒腰，一边打着哈欠一边向你问好
			PRINTFORMW 「唔，已经起床了吗？明明还想多享受一下%CALLNAME:MASTER%温暖的怀抱...」
			RETURN 1
		ENDIF
		PRINTFORMW
		RETURN 1
	ENDIF
	;Misc.
	;その他
	PRINTFORML 
ENDIF
RETURN 1

;==================================================
;When going to sleep at night (good night dialogue)
;夜寝るとき（おやすみ口上）
;==================================================
@M_KOJO_EVENT_K160_3(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;Character returns to their room to sleep
	;小分岐
	;-------------------------------------------------
	;自室に帰って寝る（～は【現在地】から【キャラの自室】に戻りました）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF ARG:1
			;If the player and character are on a date
			;约会道中に眠くて帰って寝る（拠点キャラのみ）
			PRINTFORMW
		ELSEIF CFLAG:诶嘿嘿
			;If the player and character are having sex
			;诶嘿嘿中に眠くて自室に帰って寝る（拠点キャラのみ）
			PRINTFORMW
		ELSE
			PRINTFORMW
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character looks sleepy
	;眠そうにしている（～は眠そうにしている）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character is asleep
	;睡眠中（～は眠っている）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		IF TALENT:恋人
			PRINTFORMDL 你看向%CALLNAME:160%平静的睡颜。她紧紧抱着枕头，一边流口水一边小声说着梦话
			PRINTFORMW 「%CALLNAME:MASTER%... 把我带走吧，把我拥入怀中...」
		ELSE
			PRINTFORMDL 你看向正在睡梦中的%CALLNAME:160%，一副急切想要抓住什么东西的样子，在被窝里辗转反侧
			PRINTFORMW 「不要...大家...等等我...」你将她抱入怀中才稍微平静了一点
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Sleep rape (unused)
	;イタズラ中
	;記入チェック（=0, 非表示、1, 表示）
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 4
		;PRINTFORMW 
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;The character runs out of strength (Stamina less than 500)
	;衰弱して寝る（体力500以下,诶嘿嘿時は诶嘿嘿強制終了）
	;（キャラの自室以外：～を【現在地】から【キャラの自室】に運びました）
	;（キャラの自室　　：～は疲れたと言って、横になりました）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		IF CFLAG:诶嘿嘿
			;The character is having sex
			;诶嘿嘿中にダウン
			PRINTFORMW 
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The player collapses (the day ends after this dialogue. Only displayed if the character has Love?)
	;MASTERがダウン（恋慕のみ,そのまま一日が終了）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		;The player passes out drunk
		;お酒でダウン
		IF BASE:MASTER:酒気 >= MAXBASE:MASTER:酒気
			IF ARG:1
				;In the player's room?
				;自室でダウン,（～が【MASTER】をベッド（布団）へと運んでくれた…）
				PRINTFORMW 
			ELSE
				;Outside the player's room?
				;部屋まで運ばれる,（～が【MASTER】を私室へと運んでくれた…）
				PRINTFORMW 
			ENDIF
		;The player runs out of strength (Stamina less than 500)
		;体力切れでダウン
		ELSE
			IF ARG:1
				;In the player's room?
				;自室でダウン,（～が【MASTER】をベッド（布団）へと運んでくれた…）
				PRINTFORMW 
			ELSE
				;Outside the player's room?
				;部屋まで運ばれる,（～が【MASTER】を私室へと運んでくれた…）
				PRINTFORMW 
			ENDIF
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character enters the room the player is in to sleep?
	;TARGETが寝るために自室まで戻ってきた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		;-------------------------------------------------
		;The character changes into their sleepwear
		;そのまま着替えて寝た（【TARGET】が部屋に戻ってきた→寝間着へと着替え、寝床に潜った）
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 0
			PRINTFORMW 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;The character kicks the player out of their room so they can sleep
		;部屋から追い出して寝た（眠そうな【TARGET】に追い出された…）
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			IF CFLAG:前一次的位置 == CFLAG:現在位置
				;前のターンまで一緒に部屋にいた
				PRINTFORMW 
			ELSE
				;寝るために部屋に帰ってきたところ
				PRINTFORMW 
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;The character returns to their room to sleep, only to find the player having sex with another character?
		;他キャラとのＨを止めさせて寝た（【TARGET】が部屋に戻ってきた→唇をとがらせる【TARGET】に、【MASTER】は渋々【Ｈの相手】から離れた）
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;-------------------------------------------------
    ;The character is tired, is visiting your main map, and you lead them back to the entrance
	;来訪キャラが拠点で休憩（～は疲れ切っている→ちょっと休んでいきなよ）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
    ;The character yields to drowsiness and falls asleep (I think this is like ARG == 5, but they fall asleep from being too tired and not running out of stamina)
	;寝室に居る状態でその場で寝る（～は眠気に負け、眠りについた…）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		IF CFLAG:诶嘿嘿
            ;The character fell asleep while having sex
			;诶嘿嘿中に寝る
			PRINTFORMW 
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
    ;The character gets tired and goes back to their room
	;拠点外で自宅前に居るキャラが自室に帰って寝る（眠くなった～は自室に帰って行きました）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 10
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;The player runs into the character on while on their way to somewhere else ("When going through LOCATION, you come across CHARACTER")
;移動時すれちがい
;==================================================
@M_KOJO_EVENT_K160_4(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;Stop
	;After this, display encounter text
	;立ち止まった
	;この後遭遇口上に接続
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Greet in passing
	;軽く会釈して通り過ぎた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF TALENT:恋人
			PRINTFORML 「别太晚回来咯，%CALLNAME:MASTER%。还有，少吃街边零食哦，今晚我来给你露一手，哼哼，拭目以待吧」
		ELSEIF TALENT:思慕 || TALENT:恋慕
			PRINTFORML 「路上当心, %CALLNAME:MASTER%. 别害自己受伤哦.」
		ELSE
			PRINTFORMDL %CALLNAME:160%微笑着向你送别
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Ignore and keep moving
	;無視して通り過ぎた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		IF TALENT:恋人
			PRINTFORML 「嘿！%CALLNAME:MASTER%！等等我呀！」
            PRINTFORML 「%CALLNAME:160%的声音从背后飘来」
		ELSEIF TALENT:思慕 || TALENT:恋慕
			PRINTFORML (嗯？发生什么事了？)
		ELSE
			PRINTFORMDL %CALLNAME:160%想向你问好，不过发现你没有注意到她时只好作罢
		ENDIF
		RETURN 1
	ENDIF
	;その他
	PRINTFORML
ENDIF
RETURN 1

;==================================================
;Atmosphere shifts when someone else enters ("As CHARACTER arrives, the atmosphere suddenly shifts...")
;他者介入でムード変化
;==================================================
@M_KOJO_EVENT_K160_5(ARG,ARG:1)
;口上主はTARGET
;ARG is whatever characters arrived
;ARGに入ってきたキャラ（人数が膨大なので、自己把握自己責任で
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;Reimu arrives
	;霊夢が入ってきた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF TALENT:恋人
			PRINTFORMDL %CALLNAME:160%深深叹了一口气，对你暖暖地笑了
			CALL HPH_PRINT(@"「我想...我们之后还有更多的时间相处，不是吗HPH」", "W")
		ELSE
			PRINTFORMDL %CALLNAME:160%立刻弹射起步，开始慌张起来。你看到她脸红透了，目光也是四处乱
			PRINTFORMW 「啊...额...哈啰!我的意思是，呃，你好！有...有什么需要我帮忙的吗？」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Ruukoto arrives
	;る～ことが入ってきた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;You get the idea
	;その他（キャラ指定なし
	PRINTFORML
ENDIF
RETURN 1

;==================================================
;The character walks in on you having sex
;情事を目撃した
;==================================================
@M_KOJO_EVENT_K160_6(ARG,ARG:1)
;口上主はTARGET
;ARG is whatever character you were fucking
;ARGに情事相手
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;The character doesn't know you that well
	;情事を目撃した（亲热度:低）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character joins in (either they are your lover, they've consented to sex, or you've learned their weakness)
	;負けじと参加（亲热度:高）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		IF ARG == 67
			PRINTFORMDW %CALLNAME:160%脑机过载，思考了一小会儿，红着了蹲下来看着你们两个.
			PRINTFORMW 「慧...慧音老师，你可以教我这些吗？我对和%CALLNAME:MASTER%做这种事情还...还没什么经验」
		ELSE
			PRINTFORMDL %CALLNAME:160%害羞地靠近你们两个
			PRINTFORMW 「我我我不介意的，如果是和%CALLNAME:MASTER%的话...」
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character leaves
	;気まずそうに立ち去る
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		IF TALENT:恋人
			PRINTFORMW 「%CALLNAME:MASTER%...」
			PRINTFORMDW 颤抖的声音从背后传来。回头看去，%CALLNAME:160%正不知所测地看着你，小手紧攥成拳贴住胸口，看上去十分痛苦
			PRINTFORMDL %CALLNAME:160%在你来得及开口前就飞快逃走了
			PRINTFORMW 「很...很抱歉打扰到你了」
		ELSEIF TALENT:思慕 || TALENT:恋慕
			PRINTFORMDW %CALLNAME:160%惊讶得险些瘫倒在地上
			PRINTFORMW 「啊...哇啊啊啊！对不起！我不是故意去看的!」
		ELSE
			PRINTFORMDL 当%CALLNAME:160%看到你们后，立刻发出了尖锐的爆鸣声，头上冒出了蒸汽。她赶紧用双手捂住通红的面颊
			PRINTFORMW 「不..不..不知恬耻！你们在做什么呀！这里可是公共场合！」
		ENDIF
		RETURN 1
	ENDIF
	;Misc.
	;その他
	PRINTFORML
ENDIF
RETURN 1

;==================================================
;Interrupting/interrupted during sex
;情事を見られた
;==================================================
@M_KOJO_EVENT_K160_7(ARG,ARG:1)
;口上主はTARGET
;ARGに目撃者
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;The character gets embarrassed and leaves
	;情事を見られた（目撃者の亲热度:低）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		IF ARG == 67
			PRINTFORMW 「诶...诶！辉...慧...慧音老师！」
            PRINTFORML 瞬间，%CALLNAME:160%身体僵住了，看上去似乎已经宕机了呢
		ELSE
			PRINTFORMDW %CALLNAME:160%脸红得像熟透的番茄。你甚至可以看到蒸汽从她耳朵里冒出
			PRINTFORML 「啊...啊啊...搞砸了...该怎么办，%CALLNAME:MASTER%？我们应该追上去解释吗？不行....那样误会会更大的...」少女陷入了混乱
			PRINTFORMW 「之后该怎么面对人们的目光啊...」
			PRINTFORMDW 不过你觉得没有必要在意这么多。今朝有酒今朝醉，你们还有更重要的事去做...
			PRINTFORMW 「好吧...啊，不过少喝酒！」
            PRINTFORML 不忘提醒对方的健康，少女又依偎在你身上
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character joins the player and the other character
	;目撃者が負けじと参加（目撃者の亲热度:高）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		IF ARG == 67 && TALENT:恋人
			PRINTFORMDL %CALLNAME:160%紧抱着你的胳膊，看上去局促不安
			PRINTFORMW 「慧...慧音老师？我倒是不介意我和最好的朋友分享一下男朋友啦...」
		ELSE
			PRINTFORMW 「%CALLNAME:MASTER%, 原来你喜欢这样吗」
			PRINTFORMDL %CALLNAME:160%躲在你后面
			PRINTFORMW 「没有，和你的话，我倒是不介意啦...或许，我们可以试一下这种...」
		ENDIF
			RETURN 1
	ENDIF
	;-------------------------------------------------
	;After the character and the player get walked in on, and the other character has left
	;目撃者が立ち去る
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;その他
	PRINTFORML
ENDIF
RETURN 1

;==================================================
;Apparently not yet implemented
;目撃した情事を問い詰める（現在無し
;==================================================
@M_KOJO_EVENT_K160_8(ARG,ARG:1)
RETURN 1

;==================================================
;The character confiscates the player's stolen panties
;パンツ没収された
;==================================================
@M_KOJO_EVENT_K160_9(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		IF TALENT:恋人
			PRINTFORMW 「%CALLNAME:MASTER%！」
			PRINTFORML  麟攥着手中的胖次紧紧盯着你
			PRINTFORMW 「为什么不直接问我要呢？还是说你更喜欢从女朋友那里偷偷拿过来？你向我要的话,我...我肯定会给你啦」
		ELSEIF TALENT:思慕 || TALENT:恋慕
			PRINTFORMDW 在你不注意间，%CALLNAME:160%快准狠地讨回了自己的胖次。她红着脸试图说些什么，但你只听到了她嘀哩咕噜的含糊声，结结巴巴的
			PRINTFORMDL 在你打算让她冷静一下说出辩解前，她立刻就跑没影了。你只能听到%CALLNAME:160%的声音从远处飘来
			PRINTFORMW 「%CALLNAME:MASTER%, 你这个大色狼！！！！！！！！！！」
		ELSE
			PRINTFORML 「%CALLNAME:MASTER%! 你身上怎么有别人的胖次? 这可是很不卫生的！要是感染了细菌什么的...」
			PRINTFORMW 「真是的，不能自己去买一条吗？」
		ENDIF
	RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;The character pushes the player down
;推倒た
;==================================================
@M_KOJO_EVENT_K160_160(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;This sets the 诶嘿嘿 variable to 2 and leads to the sex menu
	;诶嘿嘿==2（開始時）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		;-------------------------------------------------
		;The player gets pushed down (start)
		;MASTERを推倒た（開始時）
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			IF TALENT:恋人
				PRINTFORMDL %CALLNAME:160%突然拽住了你的衣领把你拉到一边，深深的吻住了你
				PRINTFORMW 「%CALLNAME:MASTER%,你可不能控制你的生理需求哦...这样可是不健康的呢」%CALLNAME:160%吐舌看着你，眼里充满爱欲
				PRINTFORMDL 她开始慢慢褪下你的衣物
				CALL HPH_PRINT(@"「既然我是护士姐姐的话，也就有义务帮你稍微处—理—一下啦. MUA~HPH」", "W")
			ELSEIF TALENT:思慕 || TALENT:恋慕
				PRINTFORMDL %CALLNAME:160%不住地喘气，你看到她胸口激烈地起伏着
				PRINTFORMW 「我知道这不像我...但我已经完全控制不住自己了」她一边说着一边扒下你的衣服
				PRINTFORMW 「%CALLNAME:MASTER%, 你...不介意我们做那种事吧?现在，就在这里...」
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Hugs the player (You are suddenly embraced by CHARACTER!)
		;Displayed if the "Use ability checks to determine if player gets pushed down" option is enabled and the character fails to push the
		;player down
		;MASTERに抱きついた（開始時）
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;End of sex session (at the end of the day)
	;なだめられた（終了時）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		;-------------------------------------------------
		;The player slips out
		;抜け出した
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;The character is satisfied
		;抱き着きモード満足終了
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;The session is forcibly ended by some other event?
		;抱き着きモード強制終了
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML
			RETURN 1
		ENDIF
	ENDIF
	;-------------------------------------------------
	;The player fails to slip out
	;抜け出す失敗
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		;-------------------------------------------------
		;The character is enjoying sex too much to let the player go?
		;随便状態から抜け出せなかった
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;The character is too horny to let the player go
		;欲求不満が高くて抜け出せなかった
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Neodev/AnonTW/NAS only: The character wants to take the player's virginity and won't let the player go
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 9
			PRINTFORML
			RETURN 1
		ENDIF
	ENDIF
	;-------------------------------------------------
	;The character wants to go somewhere private to have sex
	;誘ってきた（人目につかない場所に行きたがるやつ）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		;ARG:1 is the character's current sexual frustration (with a max of 1000)
		;You can use this to have different dialogues depending on how horny they are
		;ARG:1=TARGETの欲求不満度（最高1000）
		;必要ならばこれで分岐を作ってください
		PRINTFORML
		RETURN 1
	ENDIF
	;Misc.
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;The player walks in on the character bathing
;浴場で遭遇
;==================================================
@M_KOJO_EVENT_K160_11(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
CALL K160_BATHING()
RETURN 1

;==================================================
;Sneaking into the character's room
;寝床に忍び込み
;==================================================
@M_KOJO_EVENT_K160_12(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
    ;The character is awake and pissed off
	;追い出される（憤怒）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
    ;You successfully sneak in
	;寝床に侵入
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
    ;The character is awake and has love, so they're happy to see you
	;寝床に侵入（相手が恋慕）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
    ;The character is awake, has love, and is exhausted, so they're happy to see you and go back to sleep
	;寝床に侵入（相手が恋慕・衰弱）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
    ;The character is awake and throws you out
	;追い出される
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 4
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
    ;The character is awake and exhausted, so they throw you out and go back to sleep
	;追い出される（衰弱）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 5
		PRINTFORML
		RETURN 1
	ENDIF
    ;Misc.
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;Working
;お工作中
;==================================================
@M_KOJO_EVENT_K160_13(ARG,ARG:1)
;口上主はTARGET
;ARG:1に残っている工作量
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;Start of work (heading off to the character's workplace)
	;工作開始（職場へ移動する）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;At work
	;業務中
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		SELECTCASE RAND:4
			CASE 0
				PRINTFORMDL %CALLNAME:160%正在和一个在床上摸鱼好久了的男孩谈话
				PRINTFORMW 「话说，你真的肚子疼吗?如果再像这样逃课的话，我一定会和慧音老师说的。等着吃头槌吧」
			CASE 1
				PRINTFORMDL %CALLNAME:160%正在和一个伤到前额的孩子说话。她温柔地抚摸着头，一边消毒一边安慰她
				PRINTFORMW 「别哭啦，孩子。来,让姐姐给你一个可以消除疼痛的咒语」
				PRINTFORMDL %CALLNAME:160%亲吻她的前额，孩子停止了哭泣，似乎有点尴尬
				PRINTFORMW 「以后打闹的时候注意你的脚下，好吗?」
			CASE 2
				PRINTFORML 「不要乱摸或着拆掉绷带哦，一天内就会好哒」
				PRINTFORMW 「还有，下次要小心点呐」
			CASE 3
				IF TALENT:恋人
					PRINTFORML 「啊! %CALLNAME:MASTER%，快来坐吧」%CALLNAME:160%招呼你坐下「是受伤了吗？还是说...只是想看看我呢?」
					PRINTFORMW 「稍微坐一会儿吧，等忙完了后，我会给%CALLNAME:MASTER%泡杯好喝的茶的」
				ENDIF
		ENDSELECT
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Finishes work
	;工作終了
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF

	;-------------------------------------------------
	;ENG exclusive: character asks if you'd like to tag along to their job
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 97
		PRINTFORML
		RETURN 1
	ENDIF

	;-------------------------------------------------
	;ENG exclusive: tag along to the character's job
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 98
		PRINTFORML
		RETURN 1
	ENDIF

	;-------------------------------------------------
	;ENG exclusive: don't tag along to the character's job
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 99
		PRINTFORML
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;Character finds the food you're carrying
;食事系
;==================================================
@M_KOJO_EVENT_K160_14(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;The character eats your food
	;持っていた食物を食べられた
	;TCVAR:盗み食い抑制で持っていた食物を食われるのを回避できる
	;仕様例（薬が入ってたら食わない）
	;IF DISH_DRG
	;	TCVAR:盗み食い抑制 = 1
	;ENDIF

	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == -1
		PRINTFORMW 「你好呀, %CALLNAME:MASTER%. 嗅嗅....嗯?这是什么？哇！你自己做的这道菜吗？看上去好好吃诶 」
		PRINTFORMDL %CALLNAME:160%两眼放光地看着你手中的食物，接着她的胃也表示出了赞许。%CALLNAME:160%的脸飞快变得通红，尴尬地看着你
		PRINTFORMW 「啊哈哈....没什么啦。只是今天有点忙，所以到现在还没吃饭而已...没关系的，不是很饿！」
		PRINTFORMDW 她的肚子表示了严厉抗议
		PRINTFORMDL 你挠了挠头，事已至此先吃饭吧。你将食物分给了阿卡麟一份
		PRINTFORMW 「嗯？给我的吗...谢谢！」
		RETURN 1
	ENDIF

	;-------------------------------------------------
	;Neodev/AnonTW/NAS only: character bypasses the code on your thermal jar and eats your food
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORML
		RETURN 1
	ENDIF

	;-------------------------------------------------
	;Neodev/AnonTW/NAS only: character tries to eat your food but the code on your thermal jar stops them
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		PRINTFORML
		RETURN 1
	ENDIF

	;Misc.
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;The player pushes the character down
;MASTERが推倒た
;==================================================
@M_KOJO_EVENT_K160_15(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;Not implemented
	;未実装（推倒コマンドに統合？
	;MASTERが推倒た（ウフフ開始時）
	;記入チェック（=0, 非表示、1, 表示）
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 1
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;Ufufu ends
	;逢瀬終了（ウフフ終了時）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
	;-------------------------------------------------
	;After sex
	;事後描写
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		;-------------------------------------------------
		;Semen oozes out of the anus/vagina
		;精液が垂れてきた
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Love juice drips down
		;愛液が垂れてきた
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Mood (loving/embarrassed/calm/awkward)
		;事後のムード
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 3
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Character puts their clothes back on
		;服を着る
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 4
			PRINTFORML
			RETURN 1
		ENDIF
	ENDIF
ENDIF
RETURN 1

;==================================================
;Waking up after falling asleep in bed with the character
;添い寝する
;==================================================
@M_KOJO_EVENT_K160_16(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;Started sleeping together (not yet implemented?)
	;添い寝を始めた（開始時）(存在せず
	;記入チェック
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 1
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;Waking up after falling asleep in bed with the character
	;添い寝を終了した（終了時）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;Resume time
;時止め終了時
;==================================================
@M_KOJO_EVENT_K160_17(ARG,ARG:1)
;口上主はTARGET
;排他と明記されていないモノは状況によっては連続で表示されるので注意
;ARGに射精状況
;ARG:1に射精状態
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;Mysterious pleasure (more than 1 orgasm in stopped time but fewer than 31)
	;ARG=1～3は排他
	;謎の快感
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
    ;Intense pleasure (31+ orgasms)
	;絶頂
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Panty theft
	;パンツ紛失
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Cumming in the hu's mouth during timestop
	;【無自覚口内射精】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		;Low Semen Addiction, character swallows
		;精液中毒低精飲
		IF ARG:1 == 1
		;Low Semen Addiction, character spits
		;精液中毒低吐き出し
		ELSEIF ARG:1 == 2
		;Low Semen Addiction, character covers their mouth
		;精液中毒低手で覆う
		ELSEIF ARG:1 == 3
		;High Semen Addiction, character swallows
		;精液中毒高精飲
		ELSEIF ARG:1 == 4
		;Thick Semen, low Semen Addiction, character spits
		;濃厚精液＆精液中毒低吐き出し
		ELSEIF ARG:1 == 5
		;Thick Semen, high Semen Addiction, character swallows
		;濃厚精液＆精液中毒高精飲
		ELSEIF ARG:1 == 6
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Player ejaculated on the character's face during timestop
	;【無自覚顔面射精】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		;Ignorant and less than 100 Semen EXP
		;無知持ち＆精液経験100未満
		IF ARG:1 == 1
		;Normal reaction, wipes it off
		;通常ぬぐい取り
		ELSEIF ARG:1 == 2
		;Semen Addiction 3 or higher, wipes it off and eats it
		;顔射精液舐めとり
		ELSEIF ARG:1 == 3
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Player ejaculated in the character's hand during timestop
	;【無自覚手淫射精】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		;Low Semen Addiction (less than 3), wipes it off
		;ぬぐい取り
		IF ARG:1 == 1
		;High Semen Addiction, licks it off
		;舐めとり
		ELSEIF ARG:1 == 2
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Anal creampie during timestop
	;【無自覚肛門射精】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		;Anal sensitivity 2 or less
		;Ａ感覚2以下
		IF ARG:1 == 1
		;Anal sensitivity 3 or higher
		;ソレ以外
		ELSEIF ARG:1 == 2
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Virginity loss during timestop
	;【無自覚処女喪失】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Vaginal creampie during timestop
	;【無自覚膣内射精】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		;Non-virgin, not on the pill
		;非処女膣内射精口服避孕薬なし
		IF ARG:1 == 1
		;Non-virgin, on the pill
		;非処女膣内射精口服避孕薬あり
		ELSEIF ARG:1 == 2
		;Virgin
		;処女膣内射精
		ELSEIF ARG:1 == 3
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Misc. mischief during timestop
	;時間停止解除共通
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;Unprotected sex dialogue
;ナマでやらせろ時
;==================================================
@M_KOJO_EVENT_K160_18(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
    ;Character insists on birth control
	;避妊要求台詞
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;You try to persuade them to do it raw, they refuse
	;断った
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;You try to persuade them to do it raw, they refuse, you keep asking and they get mad
	;断ったのに粘られて切れた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Character consents to sex without contraception except on dangerous days
	;危険日以外許可
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Character consents to sex without contraception on dangerous days ("She now consents to make a baby with you!")
	;危険日許可
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		RETURN 1
	ENDIF

	;-------------------------------------------------
	;ENG exclusive: asking to do it raw because it's your first time
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		RETURN 1
	ENDIF

	;-------------------------------------------------
	;ENG exclusive: the character agrees to let you do it raw, because it's your first time
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 10
		RETURN 1
	ENDIF

	;-------------------------------------------------
	;ENG exclusive: the character refuses to let you do it raw, even though it's your first time
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 11
		RETURN 1
	ENDIF

ENDIF
RETURN 1
;==================================================
;Getting approval to move in
;神社暮らしを承認して貰う
;==================================================
@M_KOJO_EVENT_K160_19(ARG,ARG:1)
;口上主はARG
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
    ;You let the character move in
	;認められる
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
    ;You turn the character down
	;認められない
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
    ;You move in with the character
	;你の私室変更により同居
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;Returning home due to being too tired (when not on the character's main map)
;帰宅時
;==================================================
@M_KOJO_EVENT_K160_20(ARG,ARG:1)
;口上主はLOCALS or RESULT
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
    ;Going home because it's too late
	;通常帰宅
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF CFLAG:诶嘿嘿
			;诶嘿嘿中に眠くて帰る
			PRINTFORMW 
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
    ;Returning home from a date
	;约会道中帰宅
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF CFLAG:诶嘿嘿
			IF CFLAG:衰弱
				;诶嘿嘿中に疲れて帰る
				PRINTFORMW 
			ELSE
				;诶嘿嘿中に眠くて帰る
				PRINTFORMW 
			ENDIF
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
    ;Seeing you off at the door (the date ends in your room or on your home map)
	;玄関先でお見送り（キャラの自宅位置、またはキャラの部屋で約會終了）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
    ;Character invites you to their room at the end of the date
	;約會終了時に部屋に来ないかと誘う（～から部屋に来ないかと誘われた）
	;（来訪キャラのみ,自宅が無いキャラでも発生します）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;You accept their invitation and come to their room (9 times out of 10 they're going to push you down as soon as you enter)
	;部屋に来ないか→「行く」を選択（～に誘われるまま、【MASTER】は【TARGET】の部屋へと向かった……）
	;（これが発生すると十中八九押し倒されます）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;You decline their invitation and don't come to their room
	;部屋に来ないか→「やめとく」を選択（～は心なしか寂しそうだ……）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character doesn't want to go home tonight
	;(Happens when the character has high enough Sexual Frustration and Desire)
	;今夜は帰りたくないと言い出す（～は今夜は帰りたくないと言い出した…）
	;（来訪キャラの帰宅時に欲求不満と欲望が高いと発生）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character doesn't want to go home tonight, you let them stay in your room
	;今夜は帰りたくない→「泊める」を選択（～は【MASTERの自室】に泊まっていくことになりました）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORMDW You look out the window and see that it's quite late. You offer %CALLNAME:160% to stay at your place.
		PRINTFORMW 「Really? I won't bother you? Thank you, I'll take your offer.」
		PRINTFORMDW %CALLNAME:160% bows to you.
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character doesn't want to go home tonight, you decline OR you're afraid of the landlord (because you're sharing your room with someone else)
	;今夜は帰りたくない→「泊めない」を選択、または家主が居る（【MASTER】は丁重に断った）
	;（家主が居る＝MASTERの私室に他のキャラの私室を設定している）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Character is exhausted and goes back to their main map
	;疲れて帰宅（疲れきった～は帰って行きました）
	;（～は疲れ切っている→（入り口）まで送るよ でも発生）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 10
		IF CFLAG:诶嘿嘿
			;诶嘿嘿中に疲れて帰る
			PRINTFORMW 
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;Fall cutscene (reaches Yearning/Love/Sex Friend/Lust status)
;陥落素質取得時
;==================================================
@M_KOJO_EVENT_K160_21(ARG,ARG:1)
;口上主はARG
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;The character gains Love
	;恋慕取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORMDW %CALLNAME:160%蜷缩在被窝里，脸深深没入柔软的枕头中
		PRINTFORML (唔…到底怎么了…为什么，这种感觉和曾经与朋友们在一起时所感受到的完全不一样…)
		PRINTFORMW (为什么...为什么在与他相伴时会感受到心神是如此温暖？仅仅是看到他和别人在一起，我的心就会那样....难受？ )
		PRINTFORMDW %CALLNAME:160%紧紧将枕头搂住，将腿蜷得更紧了
		PRINTFORMDL 她翻身想遥望天空，眼前却只有漆黑的屋顶。几滴泪自眼角滑下，麟感觉自己已经有些失神
		PRINTFORMW (这就是人们在书中常常描绘的......"爱"吗?)
		PRINTFORMDL %CALLNAME:160%轻轻抹去了眼泪
		PRINTFORMW (可是，面对他，我真的...再也无法抑制我的情感了...当断不断，反受其乱。我应该...)
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character gains Yearning
	;思慕取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORMW (%CALLNAME:MASTER%...)
		PRINTFORMDL 静坐闺中，%CALLNAME:160%手中的茶盏早已凉透，屋檐下回荡着少女深沉的叹息声
		PRINTFORMDW 她的眼中倒映着闪烁的星夜，望眼欲穿，却怎么也找不到期许的答案
		PRINTFORMW ((好久，都没有感受过这样的快乐了呢))
		PRINTFORMDL 胸口在追忆中收紧
		PRINTFORMW (但我，还能有忍受那种痛苦的能力吗...)
		PRINTFORMDW 凝视着横在柜顶的二胡，%CALLNAME:160%静静地笑了
		PRINTFORML (想要更多地和%CALLNAME:MASTER%在一起，还有好多好多话，想对%CALLNAME:MASTER%说...)
		PRINTFORMW (但这样继续下去，是对还是错呢？)
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character gains Lust
	;愛欲取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character gains Mistress (Sex Friend + Yearning conditions both met)
	;愛人取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character gains Sex Friend
	;炮友取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character gains Lewd Lips
	;接吻魔取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character gains Loves to Masturbate
	;自慰狂取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character gains Lewd Cervix
	;ポルチオ性感取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character gains Peeing Habit (Not Implemented)
	;Only used in NAS for Urinary Incontinence
	;漏尿癖取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character gains Bowel Incontinence (NAS only)
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 10
		PRINTFORML
		RETURN 1 
	ENDIF	
	;-------------------------------------------------
	;The character gains Leaky Legend (NAS only)
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 11
		RETURN 1 
	ENDIF
	;-------------------------------------------------
	;The character gains Messy Legend (NAS only)
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 12
		RETURN 1 
	ENDIF	
	;-------------------------------------------------
	;The character gains [UNEXPALINABLE THING THAT ONLY BELONGS IN NAS] (NAS only)
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 13
		RETURN 1 
	ENDIF		
	;-------------------------------------------------
	;The character gains [UNEXPALINABLE THING THAT ONLY BELONGS IN NAS] (NAS only)
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 14
		RETURN 1 
	ENDIF	
	;-------------------------------------------------
	;The character gains Tentacle Addict (NAS only)
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 15
		RETURN 1 
	ENDIF	
	;-------------------------------------------------
	;The character gains Lewd
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 16
		RETURN 1 
	ENDIF	
	;-------------------------------------------------
	;The character gains Slut
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 17
		RETURN 1 
	ENDIF	
	;-------------------------------------------------
	;The character gains Infant Regression
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 18
		RETURN 1 
	ENDIF	
	;-------------------------------------------------
	;The character gains [UNEXPALINABLE THING THAT ONLY BELONGS IN NAS]
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 19
		RETURN 1 
	ENDIF	
	;-------------------------------------------------
	;The character gains Yielding (ATW/NAS Exclusive)
	;思慕取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 20
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character gains Stockholm Syndrome (ATW/NAS Exclusive)
	;思慕取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 20
		PRINTFORML
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;Masturbation after training (end of the day)
;調教終了時に自慰
;==================================================
@M_KOJO_EVENT_K160_22(ARG,ARG:1)
;口上主はARG
;ARG:0に自慰状況
;ARG:1に自慰種類
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;Masturbation at the end of the day
	;通常自慰
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Masturbation with the player in the room
	;同室時自慰
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Masturbating with lots of semen in the vagina?
	;中だし精液自慰
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Masturbating while having the Ignorant trait
	;Branches are based on Masturbation Exp minus Training Masturbation EXP
	;無知持ち（自慰経験(調教自慰経験は差し引き)による分岐あり
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		LOCAL:2 = EXP:TARGET:自慰経験 - EXP:TARGET:調教自慰経験
		;無知消去イベントあり（表示は一度だけ
		;Branches in the template were originally 25, 20, 15, 10, 5, other. I changed them to match the different branches in AFTERTRAIN.ERB

		;"CHARACTER finally speaks to his/her guardians about it..."
		IF LOCAL:2 >= 120 - (MIN(ABL:LOCAL:親密,6) * 10) && !FLAG:無知自動喪失禁止
		;"CHARACTER is immersed in masturbation without understanding what %HE_SHE_CN(LOCAL)%'s even doing..."
			PRINTFORMDL 
		ELSEIF LOCAL:2 >= 80 - (MIN(ABL:LOCAL:親密,6) * 10) && !FLAG:無知自動喪失禁止
			PRINTFORMDL 
		;"CHARACTER finds %HE_SHE_CN(LOCAL)%self humping a desk corner for stimulation..."
		ELSEIF LOCAL:2 >= 50 - (MIN(ABL:LOCAL:親密,6) * 10) && !FLAG:無知自動喪失禁止
			PRINTFORMDL 
		;CHARACTER secretly rubs a book against %HE_SHE_CN(LOCAL)% crotch...
		ELSEIF LOCAL:2 >= 30 - (MIN(ABL:LOCAL:親密,6) * 10) && !FLAG:無知自動喪失禁止
			PRINTFORMDL 
		;"During study, CHARACTER rubs %HE_SHE_CN(LOCAL)% pussy with %HE_SHE_CN(LOCAL)% brush..."
		ELSEIF LOCAL:2 >= 15 - (MIN(ABL:LOCAL:親密,6) * 10) && !FLAG:無知自動喪失禁止
			PRINTFORMDL 
		;%CALLNAME:LOCAL% rubs %HE_SHE_CN(LOCAL)% thighs together while lying in bed, sighing in anguish...
		ELSE
			PRINTFORMDL 
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;High Masturbation Addiction and Fallen
	;陥落素質あり自慰中毒高め
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		;-------------------------------------------------
		;Ｃ Sensitive or Ｃ Sensitivity Lv 10+
		;Ｃ敏感orＣ感覚10以上
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Ｖ Sensitive or Ｖ Sensitivity Lv 10+
		;Ｖ敏感orＶ感覚10以上
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Ａ Sensitive or Ａ Sensitivity Lv 10+
		;Ａ敏感orＡ感覚10以上
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 3
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Ｂ Sensitive or Ｂ Sensitivity Lv 10+
		;Ｂ敏感orＢ感覚10以上
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 4
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;None of the above
		;部位指定無し
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 5
			PRINTFORML  
			RETURN 1
		ENDIF
		;Misc.
		;その他
		;上の分岐を一切書かずに、ここに書くことで陥落素質あり自慰中毒高め自慰の共通口上を表示することが出来ます
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;High Masturbation Addiction, not Fallen
    ;Note: this can still happen even if the character is Fallen
	;自慰中毒高め
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		;-------------------------------------------------
		;Simultaneous anal and vaginal masturbation
		;尻穴膣腔同時
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Vaginal masturbation only
		;膣腔のみ
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML  
			RETURN 1
		ENDIF
		;Misc.
		;その他
		;上の分岐を一切書かずに、ここに書くことで自慰中毒高め自慰の共通口上を表示することが出来ます
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Character resists the urge to masturbate (random chance if they've consented to sex with the player)
	;我慢
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTFORML 
		RETURN 1
	ENDIF
    ;Misc.
	;その他
	;上の分岐を一切書かずに、ここに書くことで自慰の共通口上を表示することが出来ます
	PRINTFORML  
	RETURN 1
ENDIF
RETURN 1
;==================================================
;The player walks in on the character at a public bath
;浴場連れだし
;==================================================
@M_KOJO_EVENT_K160_23(ARG,ARG:1)
;口上主はLOCAL
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;The character kicks the player out
	;断られた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character agrees to take a bath together
	;一緒に入ってくれた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
    ;Misc.
	;その他
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;Pregnancy
;懐妊
;==================================================
@M_KOJO_EVENT_K160_24(ARG,ARG:1)
;口上主はLOCAL
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;The character realizes she's pregnant, has Love
	;恋慕
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORMW 「都说自己的孩子总是额外可爱，我真的一直想有一天能有一个孩子呢！直到遇见你，我才实现了自己的小小心愿」
		PRINTFORMW 「我们的孩子一定是快快乐乐的，一看到他啊，我也十分安心呢！即使...」
		PRINTFORMDW %CALLNAME:160%噎住了话语，像被一块巨石压住了胸口，她张了张嘴，不确定该不该继续说下去
		PRINTFORMW 「即使到了我们不得不说再见的那一天...」
		PRINTFORMW 「...没关系的，我还是会照顾好我们的孩子的，还有我们孩子的孩子。我会一直和我的家人们在一起，我也会尽我所能地保护他们」
		PRINTFORMW 「其实...也不坏，不是吗？我保证我会照顾好我们的子孙的，那样...你也可以安心一点。」
        PRINTFORMW 「或许我没办法再一次迎接你的降临，但至少...我想看看你的结局」
        PRINTFORMW 「在那之前...我将一直伴你身边，%CALLNAME:MASTER%」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character realizes she's pregnant, has Lust
	;思慕
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character realizes she's pregnant, has neither Love nor Lust
	;陥落素質無し
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character is pregnant but doesn't realize it
	;無自覚
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;Giving birth
;出産
;==================================================
@M_KOJO_EVENT_K160_25(ARG,ARG:1)
;口上主はLOCAL
;ARG:1	何人目の子供か
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;如果在UPDATE中开启了遵循麒麟送子的设定，那就只生男孩
	SIF CFLAG:160:1000 == 1
		CHILD_SEX:(ARG:1) = 1
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;The character gives birth, has Love
	;恋慕
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character gives birth, has Lust
	;思慕
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character gives birth, has neither Love nor Lust
	;陥落素質無し
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;The character gives birth, doesn't realize you're the one who got her pregnant
	;無自覚
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;Player walks in on the character masturbating
;オナバレ
;==================================================
@M_KOJO_EVENT_K160_26(ARG,ARG:1)

;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;The character notices you
		;見られた瞬間
		;記入チェック（=0, 非表示、1, 表示）
			LOCAL:1 = 1
		;-------------------------------------------------
			IF LOCAL:1
				PRINTFORMDL 当%CALLNAME:160%注意到你的时候，她停顿了一下。你们两个尴尬地看着对方，一言不语
				RETURN 1
			ENDIF
		;-------------------------------------------------
		CASE 1
		;Player apologizes and leaves
		;何もしない
		;記入チェック（=0, 非表示、1, 表示）
			LOCAL:1 = 0
		;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
		;-------------------------------------------------
		CASE 2
		;"I'll just keep looking so continue", target consents
		;そのまま続行
		;記入チェック（=0, 非表示、1, 表示）
			LOCAL:1 = 0
		;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
		;-------------------------------------------------
		CASE 3
		;Target gets mad and throws the player out
		;追い出し
		;記入チェック（=0, 非表示、1, 表示）
			LOCAL:1 = 1
		;-------------------------------------------------
			IF LOCAL:1
				PRINTFORMDL %CALLNAME:160%“哇”的一声哭了出来 朝你的方向砸着枕头
				PRINTFORMW 「不许看！不许看！叫你别看啦！」
				RETURN 1
			ENDIF
		;-------------------------------------------------
		CASE 4
		;"It feels better with two people", target consents
		;やっちゃう
		;記入チェック（=0, 非表示、1, 表示）
			LOCAL:1 = 0
		;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
		;-------------------------------------------------
		CASE 5
		;After sex with the character who's been caught masturbating
		;事後
		;記入チェック（=0, 非表示、1, 表示）
			LOCAL:1 = 0
		;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
		;-------------------------------------------------
		CASE 6
		;You accept the character's offer to stay over after sex
		;事後お泊り
		;記入チェック（=0, 非表示、1, 表示）
			LOCAL:1 = 0
		;-------------------------------------------------
	ENDSELECT
ENDIF

;Optionally determine conditions for when asking the character to continue masturbating / for sex always succeeds / fails
;Ex: make it so they always succeed if the player is a lover
;-1 means it fails, 1 means it succeeds
;どうぞそのまま is ""I'll just keep looking so continue"
;二人で is "It feels better with two people"
;オナバレックス判定用関数
;RETURN -1で強制失敗、RETURN 1で強制成功
@M_KOJO_EVENT_K160_26_1(ARGS)
#DIM 補正値
IF ARGS == "どうぞそのまま"

ELSEIF ARGS == "二人で"

ENDIF

;使用例
;IF !TALENT:XX:恋慕
;	PRINTFORMW %CALLNAME:XX%はガードが堅いぞ！
;	RETURN -1
;ENDIF
;IF TALENT:MASTER:濃厚精液
;	PRINTFORMW %CALLNAME:XX%はちんぽに弱いぞ！
;	RETURN 1
;ENDIF
;==================================================
;Character invites the player to go somewhere
;相手から約會のお誘い
;==================================================
@M_KOJO_EVENT_K160_27(ARG,ARG:1)
;口上主はLOCAL
;ARG:1は目的地
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;Character asks the player on a date
		;Printed before the yes/no choice
		;誘い文句
		;記入チェック（=0, 非表示、1, 表示）
			LOCAL:1 = 1
		;-------------------------------------------------
			IF LOCAL:1
				IF TALENT:恋人
					PRINTFORMDL %CALLNAME:160%蹦蹦跳跳地奔向你，金灿灿的眼睛闪闪发光
					PRINTFORMW 「%CALLNAME:MASTER%，你想...出去玩吗？我找到一个很不错的地方带你去哦」
				ELSE
					PRINTFORMDL %CALLNAME:160%紧张地咯咯笑，玩弄着自己的发梢，看上去有点局促不安的样子
					PRINTFORMW 「%CALLNAME:MASTER%, 今天有空吗? ...愿不愿意出去走走，散散心情？对健康也有帮助的哦」
				ENDIF
				RETURN 1
			ENDIF
		;-------------------------------------------------
		CASE 1
		;Player accepts
		;受けた
		;記入チェック（=0, 非表示、1, 表示）
			LOCAL:1 = 0
		;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
		;-------------------------------------------------
		CASE 2
		;Player declines
		;断った
		;記入チェック（=0, 非表示、1, 表示）
			LOCAL:1 = 0
		;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
		;-------------------------------------------------
		CASE 3
		;Character asks the player to visit their room
		;部屋に誘われた
		;記入チェック（=0, 非表示、1, 表示）
			LOCAL:1 = 0
		;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
		;-------------------------------------------------
		CASE 4
		;Player accepts
		;部屋に誘われたのを受けた
		;記入チェック（=0, 非表示、1, 表示）
			LOCAL:1 = 0
		;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
		;-------------------------------------------------
		CASE 5
		;Player declines
		;部屋に誘われたのを断った
		;記入チェック（=0, 非表示、1, 表示）
			LOCAL:1 = 0
		;-------------------------------------------------
			IF LOCAL:1
				RETURN 1
			ENDIF
	ENDSELECT
ENDIF
RETURN 1

;==================================================
;Undressing
;脱衣口上
;==================================================
@M_KOJO_EVENT_K160_28(ARG,ARG:1)
;口上主はTARGET
;ARGに脱がし方選択
;ARG:1（ARG=3の場合のみあり）地の文の反応
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;Character gets naked
		;全裸にする
		;記入チェック（=0, 非表示、1, 表示）
			LOCAL:1 = 0
		;-------------------------------------------------
			IF LOCAL:1
			;時間停止時
				IF FLAG:70
			;通常
				ELSE
				ENDIF
				RETURN 1
			ENDIF
		;-------------------------------------------------
		CASE 1
		;Character strips down to their underwear
		;下着姿にする
		;記入チェック（=0, 非表示、1, 表示）
			LOCAL:1 = 0
		;-------------------------------------------------
			IF LOCAL:1
			;時間停止時
				IF FLAG:70
			;通常
				ELSE
				ENDIF
				RETURN 1
			ENDIF
		;-------------------------------------------------
		CASE 2
		;Character removes their bra and underwear
		;半脱ぎ
		;記入チェック（=0, 非表示、1, 表示）
			LOCAL:1 = 0
		;-------------------------------------------------
			IF LOCAL:1
			;時間停止時
				IF FLAG:70
			;通常
				ELSE
				ENDIF
				RETURN 1
			ENDIF
		;-------------------------------------------------
		CASE 3
		;Player asks the character for their underwear
		;パンツちょうだい
		;記入チェック（=0, 非表示、1, 表示）
			LOCAL:1 = 0
		;-------------------------------------------------
			IF LOCAL:1
				SELECTCASE ARG:1
						;-------------------------------------------------
					CASE 0
						;Character and player swap underwear
						;交換です
						;記入チェック（=0, 非表示、1, 表示）
						LOCAL:1 = 0
						;-------------------------------------------------
						IF LOCAL:1
							RETURN 1
						ENDIF
						;-------------------------------------------------
					CASE 1
						;Character happily gives the player their underwear
						;OK（嬉々
						;記入チェック（=0, 非表示、1, 表示）
						LOCAL:1 = 0
						;-------------------------------------------------
						IF LOCAL:1
							RETURN 1
						ENDIF
						;-------------------------------------------------
					CASE 2
					    ;Character reluctantly gives the player their underwear
						;OK（渋々
						;記入チェック（=0, 非表示、1, 表示）
						LOCAL:1 = 0
						;-------------------------------------------------
						IF LOCAL:1
							RETURN 1
						ENDIF
						;-------------------------------------------------
					CASE 3
					    ;Character takes their underwear off but refuses to give it to the player
						;嫌です
						;記入チェック（=0, 非表示、1, 表示）
						LOCAL:1 = 0
						;-------------------------------------------------
						IF LOCAL:1
							RETURN 1
						ENDIF
						RETURN 1
				ENDSELECT
			ENDIF
	ENDSELECT
ENDIF
RETURN 1

;==================================================
;Player runs out of strength during sex and has the character back off?
;憤怒口上
;==================================================
@M_KOJO_EVENT_K160_29(ARG,ARG:1)
;口上主はTARGET
;ARGはTARGETの胆量で分岐
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;Character is angry
	;小分岐
	;-------------------------------------------------
	;怒らせてしまった
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;Character cries [if they have the Timid trait]
	;泣かせてしまった　[臆病]持ち
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;Character is satisfied during sex (gives the "Slip out!/It's not over yet!/More please" choices)
;相手が推倒を解除
;==================================================
@M_KOJO_EVENT_K160_30(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------

IF LOCAL
	;-------------------------------------------------
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
    ;"%CALLNAME:TARGET% says %HE_SHE_CN(TARGET)% is too tired and lets you go."
	;疲れた
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
    ;Slip out
	;満足して解放
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
    ;It's not over yet!
	;満足したところを押し倒された
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
    ;More please
	;壊れるまでしてあげる
		PRINTFORML
		RETURN 1
	ENDIF
ENDIF
RETURN 1


;==================================================
;End of day stuff (before masturbating)
;Doesn't display if the player and the character have never met
;一日の終了時(AFTERTRAニーの前)、面識がなければ呼び出されない
;==================================================
@M_KOJO_EVENT_K160_31(ARG,ARG:1)
;口上主はTARGET
;ARGは会ってない日数
;何日以上会ってなかったら愚痴を言うとかできます
;CFLAG:オナバレで分岐入れてもよさそう
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;You didn't meet the character today
	;今日会っていない
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;You met the character today
	;今日会っている
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		RETURN 1
	ENDIF

	;CALL DAYEVENT("night", 160)
	SIF RESULT
		RETURN 1
ENDIF
RETURN 1

;==================================================
;Free action (character starts exercising/fishing/cleaning/etc.)
;自由行動中
;ARG:1      0=行動中,1=完了時
;技能系の行動は技能レベルが1以上なら発生
;==================================================
@M_KOJO_EVENT_K160_32(ARG,ARG:1)
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	SELECTCASE ARG
		CASE 0
        ;Navelgazing ("...starts thinking about something deep.")
		;▼考え事,（～は考えに耽っている。）
			IF !ARG:1
            ;Continue ("...%TEXTR(@"contemplates something/rests %HE_SHE_CN(CHARA)% chin in %HE_SHE_CN(CHARA)% hands as %HE_SHE_CN(CHARA)% thinks/is lost in thought/is deep in thought")%.")
			;行動中
				PRINTFORML
			ELSE
            ;Finished ("...seems to have finished thinking.")
			;完了時
				PRINTFORML
			ENDIF
		CASE 1
        ;Playing ("...starts playing.")
        ;Only possible if the character has the [Childish] trait
		;▼遊ぶ,（～は走り回っている。）
		;※[幼稚]持ちのみ
			IF !ARG:1
            ;Continue ("...%TEXTR(@"is running around/is having fun/is playing vigorously/tries to pull a prank on you")%.")
			;行動中
				PRINTFORML
			ELSE
            ;Finished ("...seems to have tired of playing.")
			;完了時
				PRINTFORML
			ENDIF
		CASE 2
        ;Eating ("...starts preparing a meal.")
		;▼食事,（～は食事を摂っている。）
			IF !ARG:1
            ;Continue ("...is having a meal.")
			;行動中
				PRINTFORML
			ELSE
            ;Finished ("...seems to have finished %HE_SHE_CN(CHARA)% meal.")
			;完了時
				PRINTFORML
			ENDIF
		CASE 3
        ;Snacking ("...starts snacking in secrecy.")
        ;Only possible for Rumia, Koishi, Yuyuko, Shion, and characters with the [Fairy] trait
		;▼つまみ食い（～はこっそりつまみ食いをしている。）
		;※[妖精]持ちと露米亜、恋、幽幽子、紫苑のみ
			IF !ARG:1
            ;Continue ("...is snacking in secrecy.")
			;行動中
				PRINTFORML
			ELSE
            ;Finished ("...seems to have finished eating %HE_SHE_CN(CHARA)% snacks.")
			;完了時
				PRINTFORML
			ENDIF
		CASE 4
        ;Cleaning ("...seems bothered by the dirt and starts to clean.")
        ;Only possible if the character has the [Cleaner] trait or [Smell Resistance] <= -1
		;▼掃除,（～はテキパキと部屋の掃除をしている。）
		;※[掃除係]持ちまたは汚臭耐性-1以下のみ
			IF !ARG:1
            ;Continue ("...%TEXTR("is gathering some trash/is sorting things/is dusting some things/is cleaning the room thoroughly")%.")
			;行動中
				PRINTFORML
			ELSE
            ;Finished ("...seems to have finished cleaning.")
			;完了時
				PRINTFORML
			ENDIF
		CASE 5
        ;Exercising ("...takes a breath and begins exercising.")
        ;Will not trigger for characters with [Musical Knowledge] (they will perform music instead)
		;▼運動,（～は張り切って運動している。）
		;※[音楽知識]持ちは除く（演奏になる）
			IF !ARG:1
            ;Continue ("...%TEXTR(@"is practicing Danmaku/is gasping for breath/is getting %HE_SHE_CN(CHARA)% breathing under control/is exercising vigorously")%.")
			;行動中
				PRINTFORML
			ELSE
            ;Finished ("... takes a breather, having finished %HE_SHE_CN(CHARA)% workout.")
			;完了時
				PRINTFORML
			ENDIF
		CASE 6
        ;Reading ("...starts reading a book.")
		;▼読書,（～は黙々と本を読んでいる。）
			IF !ARG:1
            ;Continue ("...is silently reading a book.")
			;行動中
				PRINTFORML
			ELSE
            ;Finished ("...puts the book away, seemingly finished.")
			;完了時
				PRINTFORML
			ENDIF
		CASE 7
        ;Cooking ("Feeling hungry, %CALLNAME:CHARA% starts cooking.")
		;▼料理,
			IF !ARG:1
            ;Continue
			;行動中
				IF Activity_Duration:TARGET > 30
                ;("...is cooking up something light.")
				;料理中（～は軽快に料理をしている。）
					PRINTFORML
				ELSE
                ;("...is eating the food %HE_SHE_CN(CHARA)% made.")
				;食事中（～は作った料理を食べている。）
					PRINTFORML
				ENDIF
			ELSE
            ;Finished ("...seems to have finished the meal.")
			;完了時
				PRINTFORML
			ENDIF
		CASE 8
		;▼演奏
        ;Perform Music
        ;Only possible if the character has [Musical Knowledge]. The type of performance depends on the value of that trait.
		;If [Musical Knowledge] is 1, the character will play an instrument. If it's 2, they will sing, and if it's 3, they will dance.
		;※[音楽知識]持ちのみ（TALENT:TARGET:音楽知識で変化）
		;1,～は小気味よく演奏している。
		;2,～は気ままに歌っている。
		;3,～は華麗に踊っている。
			IF !ARG:1
            ;Continue ("...is doing a small musical performance. / ...is singing freely. / ...is dancing freely.")
			;行動中
				PRINTFORML
			ELSE
            ;Finished ("...catches %HE_SHE_CN(CHARA)% breath after the performance. / ...catches %HE_SHE_CN(CHARA)% breath after %HE_SHE_CN(CHARA)% singing. / ...catches %HE_SHE_CN(CHARA)% breath after %HE_SHE_CN(CHARA)% dancing.")
			;完了時
				PRINTFORML
			ENDIF
		CASE 9
        ;Foraging ("...looks around, and starts foraging.")
		;▼採集,（～使える素材を探している。）
			IF !ARG:1
            ;Continue ("...%TEXTR("is looking around/seems to have found something/is foraging enthusiastically/looks around for valuable materials")%.")
			;行動中
				PRINTFORML
			ELSE
            ;Finished ("...seems to have finished foraging.")
			;完了時
				PRINTFORML
			ENDIF
		CASE 10
        ;Fishing ("...takes out a fishing rod.")
		;▼釣り,（～はのんびり釣りをしている。）
			IF !ARG:1
            ;Continue ("...is reeling in a fish. / ...is fishing and taking it easy.")
			;行動中
				PRINTFORML
			ELSE
            ;Finished ("...seems to have finished fishing.")
			;完了時
				PRINTFORML
			ENDIF
		CASE 11
        ;Experimenting ("...starts preparing for an experiment.")
        ;The character must have Mixing Lv1 or higher and be in a place where mixing can be done (other than their room or your room)
		;▼実験,（～は怪しい実験をしている。）
			IF !ARG:1
            ;Continue ("...%TEXTR("is adjusting some scientific instruments/is lining up tools for an experiment/is writing things down/is performing suspicious experiments")%.")
			;行動中
				PRINTFORML
			ELSE
            ;Finished ("...seems to have finished the experiment.")
			;完了時
				PRINTFORML
			ENDIF
		CASE 12
        ;Relaxing ("...starts relaxing, taking a breather.")
		;▼のんびり,（～はのんびりしている。）
			IF !ARG:1
            ;Continue ("... %TEXTR("is yawning/is relaxing/is doing nothing/is taking it very easy")%.")
			;行動中
				PRINTFORML
			ELSE
            ;Finished ("...seems to have finished %HE_SHE_CN(CHARA)% rest.")
			;完了時
				PRINTFORML
			ENDIF
		CASE 13
        ;Drinking ("...takes out some alcohol and begins unwinding after the day.")
        ;The character must not have Nondrinker or Weak Drinker
		;▼晩酌,（～はまったりとお酒を飲んでいる。）
		;※酒耐性0以上のみ
			IF !ARG:1
            ;Continue ("...%TEXTR("is drinking with a smile/is savoring some alcohol/is a bit tipsy/is relaxing and drinking")%.")
			;行動中
				PRINTFORML
			ELSE
            ;Finished ("...seems to have finished %HE_SHE_CN(CHARA)% drink.")
			;完了時
				PRINTFORML
			ENDIF
		CASE 14
        ;Shopping ("...retrieves %HE_SHE_CN(CHARA)% shopping basket.")
		;▼買い物,（～は気ままに買い物している。）
			IF !ARG:1
            ;Continue ("...%TEXTR("is looking for a bargain/picks up and appraises something/looks unsure what to buy/is shopping")%.")
			;行動中
				PRINTFORML
			ELSE
            ;Finished ("...%CALLNAME:CHARA% seems to have finished shopping.")
			;完了時
				PRINTFORML
			ENDIF
		CASE 15
        ;Being Lectured ("...gets %SPLIT_G("roped into:caught up in")% Eiki's lecturing.")
		;▼説教,（～はじっと聞いている…）
		;※神霊・蓬莱人は除く
			IF !ARG:1
            ;Continue (text depends on the character's personality)
			;行動中
				PRINTFORML
			ELSE
            ;Finished (several different variants for text)
			;完了時
				PRINTFORML
			ENDIF
		CASE 16
		; Prank / Fall in a Pit
		;Prank is only for the Three Fairies of Light, Cirno, and Clownpiece
		;Everyone else will end up falling in the pits
		;▼落とし穴,（～は落とし穴を増やしている）
		;※三月精・琪露諾・克勞恩皮絲のみ
		;それ以外は落ちる側
			IF !ARG:1
            ;Continue (Character is digging the pit)
			;行動中
				PRINTFORML
			ELSE
            ;Finished
            ;If prankster: "...%SPLIT_G(@"quickly gets bored:decides %HE_SHE_CN(CHARA)% had enough:no longer finds it amusing:seems to have tired of it")%."
            ;Else, if Combat Lv2-4: "%CALLNAME:CHARA% quickly jumps out of the pit and %TEXTR(@"starts looking for the culprit/starts scanning the surroundings")%..."
			;完了時,
			;（仕掛け人（失敗時）,誰も引っかからないので～は飽きてしまったようだ…）
			;（落ちた側（戦闘能力2～4）,～はすぐに穴から飛び出して周りをキョロキョロ見回している…）
				PRINTFORML
			ENDIF
		CASE 17
		;Snow Sculpture ("...begins building %ARTICLE(RESULTS)%")
		;Only possible during winter
		;▼雪だるま作り（～は雪を集めている）
			IF !ARG:1
            ;Continue ("...%TEXTR(@"is %SPLIT_G("gathering:collecting")% snow/is patting down the snow, making it harder/is shaping up the snow")%.")
			;行動中
				PRINTFORML
			ELSE
            ;Finished ("...%SPLIT_G("appears happy to complete:seems satisfied to have completed")% the %RESULTS%.")
			;完了時
				PRINTFORML
			ENDIF
		CASE 18
        ;Relaxing under a kotatsu ("...begins to relax under a kotatsu.")
		;Only possible during winter
		;▼炬燵でのんびり（～は炬燵に入って温まっている）
			IF !ARG:1
            ;Continue ("...is %TEXTR(@"warming up/cozying up/nestling/getting all comfortable/letting out a big yawn/relaxing/getting sleepy")% under a kotatsu.")
			;行動中
				PRINTFORML
			ELSE
            ;Finished ("...%TEXTR(@"reluctantly crawls out of the kotatsu/feels like %HE_SHE_CN(TARGET)% got warm enough to get out of the kotatsu/gets out of the kotatsu because it was getting too hot for %HE_SHE_CN(TARGET)%/gets out of the kotatsu with a %SPLIT_G("start:puff")%")%.")
			;完了時
				PRINTFORML
			ENDIF
	ENDSELECT
ENDIF
RETURN 1

;==================================================
;Happy New Year
;Displayed when you're in the same room as the character
;when the new year rolls around
;ハッピーニューイヤー
;年越しの瞬間に同じ部屋に居ると発生
;==================================================
@M_KOJO_EVENT_K160_33(ARG,ARG:1)
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	PRINTFORMW 「呀吼！%CALLNAME:MASTER%，新年快乐哦！」
	PRINTFORMW 「别忘了去祭拜祖先，新的一年也要祈求庇护呐。还有...」%CALLNAME:160%害羞地看着你，玩弄着头发
    PRINTFORMW 「根据我们那边的说法，麒麟代表祥瑞。多陪陪我，新的一年也可以幸福哦」
ENDIF
RETURN 1

;==================================================
;Skill level up
;技能レベルアップ
;各ABL値はレベルアップ後の値になってます
;==================================================
@M_KOJO_EVENT_K160_34(ARG,ARG:1)
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	SELECTCASE ARG
		CASE 1
        ;Combat Lv
		;戦闘技能
			PRINTFORMW 
		CASE 2
        ;Speech Lv
		;話術技能
			PRINTFORMW 
		CASE 3
        ;Cleaning Lv
		;清掃技能
			PRINTFORMW 
		CASE 4
        ;Knowledge Lv
		;教養
			PRINTFORMW 
		CASE 5
        ;Cooking Lv
		;料理技能
			PRINTFORMW 
		CASE 6
        ;Foraging Lv
		;採集Lv
			PRINTFORMW 
		CASE 7
			IF ARG:1 == 0
            ;Music Lv
			;音楽技能
				PRINTFORMW 
			ELSEIF ARG:1 == 1
            ;Acquires [Musicality]
			;【音楽知識】取得
				PRINTFORMW 
			ELSEIF ARG:1 == 2
            ;Acquires [Sense of Sound]
			;【相対音感】取得
				PRINTFORMW 
			ENDIF
		CASE 8
        ;Fishing Lv
		;釣魚Lv
			PRINTFORMW 
		CASE 9
			IF ARG:1 == 0
            ;Mixing Lv
			;調合Lv
				PRINTFORMW 
			ELSEIF ARG:1 == 1
            ;Acquires [Mixing Knowledge]
			;【調合知識】取得
				PRINTFORMW 
			ENDIF
		CASE 10
        ;Logging Lv
		;伐採Lv
			PRINTFORMW 
		CASE 11
			IF ARG:1 == 0
            ;Finger Lv
			;指
				PRINTFORMW 
			ELSEIF ARG:1 == 1
            ;Acquires [Nimble-Fingered]
			;【靈活手指】取得
				PRINTFORMW 
			ENDIF
		CASE 12
			IF ARG:1 == 0
            ;Tongue Lv
			;舌
				PRINTFORMW 
			ELSEIF ARG:1 == 1
            ;Acquires [Skilled Tongue]
			;【舌使い】取得
				PRINTFORMW 
			ENDIF
		CASE 13
			IF ARG:1 == 0
            ;Breast Lv
			;胸
				PRINTFORMW 
			ELSEIF ARG:1 == 1
            ;Acquires [Lewd Breasts]
			;【淫乳】取得
				PRINTFORMW 
			ENDIF
		CASE 14
        ;Waist Lv
		;腰
			PRINTFORMW 
		CASE 15
			IF ARG:1 == 0
            ;Vagina Lv
			;膣
				PRINTFORMW 
			ELSEIF ARG:1 == 1
            ;Acquires [Lewd Vagina]
			;【淫壺】取得
				PRINTFORMW 
			ENDIF
		CASE 16
			IF ARG:1 == 0
            ;Anus Lv
			;肛門
				PRINTFORMW 
			ELSEIF ARG:1 == 1
            ;Acquires [Lewd Anus]
			;【尻穴狂】取得
				PRINTFORMW 
			ENDIF
		CASE 17
			IF ARG:1 == 0
            ;Urethral Lv (NAS only, not yet implemented)
			;肛門
				PRINTFORMW 
			ELSEIF ARG:1 == 1
            ;Acquires [Lewd Urethra] (NAS only, not yet implemented)
			;【尻穴狂】取得
				PRINTFORMW 
			ENDIF
		CASE 30
			IF ARG:1 == 1
                ;Creampie Addict Lv (Neodev/AnonTW/NAS only)
				PRINTFORMW 
			ELSEIF ARG:1 == 2
                ;A Creampie Addict Lv (Neodev/AnonTW/NAS only)
				PRINTFORMW 
			ELSE
                ;Semen Addiction Lv (Neodev/AnonTW/NAS only)
				PRINTFORMW 
			ENDIF
		CASE 31
            ;Acquires [精愛味覚] (Neodev/AnonTW/NAS only)
			PRINTFORMW 
		CASE 32
            ;Acquires [First Menstruation] (Neodev/AnonTW/NAS only)
			PRINTFORMW 
	ENDSELECT
	PRINTL 
ENDIF
RETURN 1

;==================================================
;Daily Event 2: Character steals your underwear when you're washing it after a wet dream
;Occurs if the character has a penis, Thick Semen, and full Vigor (or just a penis in NAS)
;Narration:
;As you are washing your soiled underwear, %CALLNAME:ARG% comes flying by!
;%HE_SHE_CN(ARG,1)% protests against your underwear getting washed with the other laundry and snatches it from your hands...
;%CALLNAME:ARG%　Desire Gems＋1000
;デイリーイベント2,夢精
;親密5以上で発生（来訪キャラのみ）
;▼地の文--------------------------------------------------
;【MASTER】が夢精で汚した下着を洗っていると【TARGET】が飛んできた！
;【TARGET】はそんなもの他の洗濯物と一緒に洗わないでと抗議すると、【MASTER】の手に収まった下着をふんだくり戻っていった…
;【TARGET】　欲情の珠＋1000
;==================================================
@M_KOJO_DAILY_EVENT_K160_2(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;Comment the CALL out if you want different narration.
;*Note that this will also remove the Desire Gem gain! Make sure to add it in your custom narration.
;地の文を変えたければコメントアウト
;※コメントアウトすると欲情の珠＋1000（JUEL:11 += 1000）もカットされるので注意
CALL DAILY_MESSAGE_2(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	PRINTFORMW 
ENDIF
RETURN 1

;==================================================
;Daily Event 4: Thinking About You
;Occurs at Intimacy 5 or higher, visiting characters only
;Narration:
;Lost in random thoughts, %CALLNAME:ARG% realizes that %HE_SHE_CN(ARG)% had been thinking about you at some point.
;It seems %CALLNAME:ARG% has decided to come visit you tomorrow.
;デイリーイベント4,物思い
;濃厚精液状態で発生
;▼地の文--------------------------------------------------
;とりとめもない思考に耽っていた【TARGET】は、いつの間にか【MASTER】のことを考えていたことに気づいた
;【TARGET】は明日【MASTER】に会いに行くことにしたようだ
;==================================================
@M_KOJO_DAILY_EVENT_K160_4(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;Comment the CALL out if you want different narration.
;地の文を変えたければコメントアウト
CALL DAILY_MESSAGE_4(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	PRINTFORMW 
ENDIF
RETURN 1

;==================================================
;Daily Event 12: Special Training
;Occurs when the character has 100 Trust or more and is living on the player's main map
;デイリーイベント12,特訓
;信頼100以上で発生（拠点キャラのみ）
;==================================================
@M_KOJO_DAILY_EVENT_K160_12(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;Comment the CALL out if you want different narration.
;This will only remove the narration for ARG:1=1,2.
;地の文を変えたければコメントアウト
;コメントアウトできるのはARG:1=1,2のみです
CALL DAILY_MESSAGE_12(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	SELECTCASE ARG:1
		CASE 1
		;The character asks for your help ("...asks for help in practicing a new technique.")
		;特訓を頼まれる
		;～から新技の訓練に付き合って欲しいと言われた
			PRINTFORML 
		CASE 2
		;You decline to help ("...looks disappointed...")
		;断る
		;～は残念そうだ
			PRINTFORML 
		CASE 3
		;Character attacks ("...attacks from...")
		;*Do not put a PRINTFORMW statement here!
		;～の攻撃！
		;※ここはWAITしないでください
			PRINTFORML 
		CASE 4
			IF ARG:2
			;Player dodges the attack by stopping time
			;時間停止して回避
				PRINTFORML 
			ELSE
			;Player succesfully dodges the attack
			;回避成功
				PRINTFORML 
			ENDIF
		CASE 5
		;Player did not dodge the attack
		;回避失敗
			PRINTFORML 
	ENDSELECT
ENDIF
RETURN 1


[SKIPSTART]
;-------------------------------------------------
;This is for if you want to change the narration for "caught masturbating" events.
;If you do, remove the [SKIPSTART] and [SKIPEND] keywords above and below this comment.
;If you use CFLAGs, please make sure to specific the character ID.
;オナバレ遭遇時の地の文をデフォルトのものから変更したい場合用。
;その場合は上下のSKIPSTART~SKIPENDを外してください。
;CFLAG等のキャラ変数を使う場合、キャラ番号の指定が必要になります。
;-------------------------------------------------
@M_KOJO_EVENT_K160_ONABARE_1(ARG)
;-------------------------------------------------
;If you want to add the character's dialogue color, uncomment this and replace the X with the character's ID.
:口上色を付けるならコメントアウトを外しXをキャラ番号に
;CALL M_KOJO_COLOR_K160

IF ARG
	PRINTFORML Anal masturbation
ELSE
	PRINTFORML Vaginal masturbation
ENDIF
;-------------------------------------------------
[SKIPEND]


[SKIPSTART]
;-------------------------------------------------
;This is for if you want to change the narration for the "I'll just keep watching so please continue" part of the "caught masturbating" events.
;If you do, remove the [SKIPSTART] and [SKIPEND] keywords above and below this comment.
;If you use CFLAGs, please make sure to specific the character ID.
;オナバレでそのまま続けてもらう場合の地の文をデフォルトのものから変更したい場合用。
;その場合は上下のSKIPSTART~SKIPENDを外してください。
;CFLAG等のキャラ変数を使う場合、キャラ番号の指定が必要になります。
;-------------------------------------------------
@M_KOJO_EVENT_K160_ONABARE_2(ARG)
;-------------------------------------------------
;If you want to add the character's dialogue color, uncomment this and replace the X with the character's ID.
:口上色を付けるならコメントアウトを外しXをキャラ番号に
;CALL M_KOJO_COLOR_K160

IF ARG
	PRINTFORML Anal masturbation
ELSE
	PRINTFORML Vaginal masturbation
ENDIF
;-------------------------------------------------
[SKIPEND]


[SKIPSTART]
;-------------------------------------------------
;This is for if you want to change the narration for the "It feels better with two people" part of the "caught masturbating" events.
;If you do, remove the [SKIPSTART] and [SKIPEND] keywords above and below this comment.
;If you use CFLAGs, please make sure to specific the character ID.
;オナバレなし崩しックスの地の文をデフォルトのものから変更したい場合用。
;その場合は上下のSKIPSTART~SKIPENDを外してください。
;CFLAG等のキャラ変数を使う場合、キャラ番号の指定が必要になります。
;-------------------------------------------------
@M_KOJO_EVENT_K160_ONABARE_3(前戯１,本番はどっちか,回数,注入量)
;-------------------------------------------------
#DIM 前戯１
;1=Clit/Cock 2=Breast 3=Mouth
#DIM 本番はどっちか
;0でＶ、1でＡ
#DIM 注入量
#DIM 回数

;If you want to add the character's dialogue color, uncomment this and replace the X with the character's ID.
:口上色を付けるならコメントアウトを外しXをキャラ番号に
;CALL M_KOJO_COLOR_K160

SELECTCASE 前戯１
	CASE 1
		PRINTFORML Clit/Cock stimulation
	CASE 2
		PRINTFORML Breast stimulation
	CASE 3
		PRINTFORML Mouth stimulation
ENDSELECT

IF 本番はどっちか
	PRINTFORML Anal sex
ELSE
	PRINTFORML Vaginal sex
ENDIF
;-------------------------------------------------
[SKIPEND]


;-------------------------------------------------
;Dialogue for just before vaginally penetrating a virgin or unaware non-virgin.
;RETURN 1 to prevent insertion
;RETURN 0 to allow it
;Note that this dialogue will not be displayed unless CFLAG:破瓜中止口上有 = 1.
;処女・無自覚非処女に挿入する直前の口上
;RETURN 1するとコマンドを中止します
;RETURN 0なら通します
;CFLAG:破瓜中止口上有がオンになってないと読み込まれないので注意
;-------------------------------------------------
@M_KOJO_EVENT_K160_LOST_VIRGIN_STOP
;-------------------------------------------------
PRINTFORML 
RETURN 1

;-------------------------------------------------
;This does nothing unless CFLAG:口上内抱き寄せ判定_初回 = 1.
;When pushing the character down for the first time, RETURN -1 will make it always fail.
;RETURN 0 will do the normal Reasoning Barrier check, and RETURN 1 will make it always succeed.
;You can use this to ex. prevent a character from letting the player push them down unless you've kissed after a date.
;CFLAG:口上内抱き寄せ判定_初回がオンになっている場合のみ有効。
;初めて推倒た時、ここでRETURN -1すると推倒を強制的に中止します。
;RETURN 0なら通常の判定を行い、RETURN 1すると無条件に成功させます。
;特定のイベント（約會帰り接吻など）を見るまで诶嘿嘿できないようにしたいときなどにどうぞ。
;-------------------------------------------------
@M_KOJO_EVENT_K160_PERMISSION_1
;-------------------------------------------------
PRINTFORML 
;RETURN -1
RETURN 0
;RETURN 1
;-------------------------------------------------


;-------------------------------------------------
;This does nothing unless CFLAG:口上内抱き寄せ判定_通常 = 1.
;When pushing the character down for the first time, RETURN -1 will make it always fail.
;RETURN 0 will do the normal Reasoning Barrier check, and RETURN 1 will make it always succeed.
;You can use this to ex. prevent a character from letting the player push them down even if they've given their consent
;if some other condition is true.
;CFLAG:口上内抱き寄せ判定_通常がオンになっている場合のみ有効。
;合意付きで推倒た時、ここでRETURN -1すると推倒を強制的に中止します。
;RETURN 0なら通常通り成功させます。
;合意があっても何らかの理由で诶嘿嘿できないようにしたいときなどにどうぞ。
;-------------------------------------------------
@M_KOJO_EVENT_K160_PERMISSION_2
;-------------------------------------------------
PRINTFORML 
RETURN 0
;RETURN -1
;-------------------------------------------------

;-------------------------------------------------
;This does nothing unless CFLAG:口上用童貞喪失判定 = 1.
;When trying to do a command that would take a character's penile virginity, RETURN -1 will make it always fail.
;RETURN 0 will do the normal check, and RETURN 1 will make it always succeed.
;You can use this to ex. prevent a character from letting the player devirginize them even if they've given their consent
;if some other condition is true.
;-------------------------------------------------
@M_KOJO_EVENT_K160_PERMISSION_3
;-------------------------------------------------
PRINTFORML 
RETURN 0
;-------------------------------------------------

;-------------------------------------------------
;This does nothing unless CFLAG:口上用肛門処女喪失判定 = 1.
;When trying to do a command that would take a character's anal virginity, RETURN -1 will make it always fail.
;RETURN 0 will do the normal check, and RETURN 1 will make it always succeed.
;You can use this to ex. prevent a character from letting the player take their anal virginity even if they've given their consent
;if some other condition is true.
;-------------------------------------------------
@M_KOJO_EVENT_K160_PERMISSION_4
;-------------------------------------------------
PRINTFORML 
RETURN 0
;-------------------------------------------------

;-------------------------------------------------
;Function for describing a room
;This displays when in the character's room (OMANEKIBEYA).
;Don't forget to uncomment this function if you write lines for it!
;部屋描写用関数
;口上キャラのOMANEKIBEYAか拠点の描写に使います
;記入する際はコメントアウトを外してください
;-------------------------------------------------
;@K160_ROOM_DESCRIPTION
;PRINTFORML 例）生活感のない殺風景な部屋だ
;-------------------------------------------------


;==================================================
;Gift events
;贈り物イベント
;==================================================
@M_KOJO_EVENT_K160_GIFT(ARG, GIFT_ID, 評価点, GIFT_NAME, SENSE)
#DIM GIFT_ID
#DIM 評価点
#DIMS GIFT_NAME
#DIMS SENSE
;---------------------------------------------------------------------------------------------------
;評価点		  The gift's score (1-999).
;GIFT_NAME   The name of the gift.
;SENSE       The attributes of the gift. STRCOUNT(DISH_TASTE, "foobar/") can be used to determine them.
;GIFT_ID     The ID of the gift. You can pass this to GET_GIFTDATA() to get info about the gift. 
;　GET_GIFTDATA(GIFT_ID, "回数")    The number of times the player gave the gift to the character.
;　GET_GIFTDATA(GIFT_ID, "得点")    The gift's score (1-999).
;　GET_GIFTDATA(GIFT_ID, "日付")    The date that the player gave the gift to the character (1-9999).
;　GET_GIFTDATA(GIFT_ID, "場所")    The location that the gift was bought at.
;　GET_GIFTDATA(GIFT_ID, "形容詞")  The associated adjectives (see 贈り物_形容詞.erb)
;　GET_GIFTDATA(GIFT_ID, "本体")    The price of the gift (see 贈り物_本体.erb)
;評価点       贈り物の評価点（1～999）,口上主があげた場合でも口上主の評価点
;GIFT_NAME    贈り物の名称
;SENSE        贈り物に設定された属性。STRCOUNT(DISH_TASTE, "ほげほげ/")を使うと特定の属性を判定できます。
;GIFT_ID      これ単体では使いません。以下の式内関数を使うとデータを抽出できます（こだわりたい人用）
;　GET_GIFTDATA(GIFT_ID, "回数")    貰った（あげた）回数
;　GET_GIFTDATA(GIFT_ID, "得点")    得点（1～999）,口上テンプレ内では用意されてます。
;　GET_GIFTDATA(GIFT_ID, "日付")    貰った（あげた）日付（1～9999）
;　GET_GIFTDATA(GIFT_ID, "場所")    買った場所（約會の行き先）
;　GET_GIFTDATA(GIFT_ID, "形容詞")  形容詞番号（贈り物_形容詞.erb参照）
;　GET_GIFTDATA(GIFT_ID, "本体")    本体番号（贈り物_本体.erb参照）
;--------------------------------------------------------------------------------------------------
;Dialogue for giving the player a gift on the way home from a date. This can happen at Intimacy 5 or higher, regardless of date score or any other factor.
;The gift will be something that the character would score from 701-999 if the player gave it to them.
;約會帰りに口上主が你に贈り物を渡す（陥落や好感度に関わらず親密5以上から発生）
;評価点は701～999（渡すキャラ本人の評価）
;--------------------------------------------------------------------------------------------------
IF ARG == 1
	IF TALENT:恋人
		PRINTFORMW 「%CALLNAME:MASTER%，可以闭上眼睛吗？我有惊喜给你哦！好啦，快闭眼...不准从指缝偷看！」
		PRINTFORMW 「哼哼，现在可以打开啦...锵锵！」
		PRINTFORMW 「当我一看到这个，我立刻就觉得%CALLNAME:MASTER%会喜欢啦！啊！还有一个赠礼来着...」%CALLNAME:160%慢慢凑了过来
		CALL HPH_PRINT(@" 「Mua！HPH」", "W")
	ELSE
		PRINTFORMDL %CALLNAME:160%向你挥着手臂。她慢慢地走进你，踮着脚，双手放在背后
		PRINTFORMW 「不知不觉间已经和你相处这么久啦，和你在一起一直很高兴呐」
		PRINTFORMW 「所以...就给%CALLNAME:MASTER%准备了这个礼物啦！希望你能喜欢」
	ENDIF
	RETURN 1
;--------------------------------------------------------------------------------------------------
;End of day event: the character cherishes the gift they received from the player (occurs if the gift had a score of 700 or more)
;一日の終わりに今日获得的礼物を大事にする（700点以上）
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 2
	IF STRCOUNT(SENSE, "かわいい/")
		IF TALENT:恋人
			PRINTFORMW 「诶嘿嘿，从%CALLNAME:MASTER%那里收到了珍贵的礼物呢！一定要好好保存它...」
		ELSEIF TALENT:思慕 || TALENT:恋慕
			PRINTFORMW 「竟然挑了这样的礼物，真贴心...应该把它放哪里好呢....」
		ELSE
			PRINTFORMW 「收集这些记忆...就意味着再次经历那些痛苦。这真的值得吗？可他...」
		ENDIF
	;ELSEIF 評価点 >= 800
	;	PRINTFORMW 「谢谢你的礼物，我非常喜欢哦！」
	;ELSE
	;	PRINTFORMW 「真的是给我的吗？谢谢你，%CALLNAME:MASTER%！」
	ENDIF
	RETURN 1
;--------------------------------------------------------------------------------------------------
;End of day event: the gift the character received from the player becomes their favorite (displayed after the "cherish" lines,
; occurs if the gift had a score of 700 or more and it has the highest score of any gift the character has received)
;一日の終わりに今日获得的礼物をお気に入りにする（↑の大事にするから続き）（700点以上かつ最高得点）
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 3
	;IF STRCOUNT(SENSE, "身につける/")
	;	PRINTFORMW 「我明天会把它带在身上的」
	;ELSE
	;	PRINTFORMW 「明天就带着它吧」
	;ENDIF
	RETURN 1
;--------------------------------------------------------------------------------------------------
;End of day event: the character keeps the gift they received from the player (occurs if the gift had a score of 400-699)
;一日の終わりに今日获得的礼物をとりあえず保管する（400～699点）
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 4
	;PRINTFORMW 「嗯，我会好好保存它的」
	RETURN 1
;--------------------------------------------------------------------------------------------------
;End of day event: the character quietly pawns the gift they received from the player (occurs if the gift had a score less than 400)
;一日の終わりに今日获得的礼物をこっそり質に入れる（400点未満）
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 5
	;PRINTFORMW 「唔诶...这个有点...」
	RETURN 1
ENDIF
RETURN 1


;==================================================
;Bug Battle
;Bug Battle dialogue is a bit special, and you shouldn't use PRINT statements.
;Only one line of dialogue is required in the RESULTS field.
;%MUSHI_NAME% will display the name of the bug the character is using.
;The longest bug names are 30 characters (Alexandra Trivanel Swallowtail and Orthetrum Albistylum Speciosum are tied).
;Make sure the text doesn't overflow!
;ARG lists either the number of bugs remaining or their rank, depending on the subsection.
;ムシバトル
;ムシバトルの口上は少し特殊で、PRINTを使うのではなく、
;台詞一行のみをRESULTSに入れてください
;ムシの名前は %MUSHI_NAME% で表示できます
;ムシの名前の最長はアレキサンドラトリバネアゲハの全角14文字です
;文字数制限があります。はみ出ないように気をつけてください
;ARGは残りムシ数か順位です
;==================================================
@M_KOJO_MESSAGE_COM_K160_MUSHI_BATTLE(ARGS, ARG)
#DIM 残りムシ数
#DIM 順位
SELECTCASE ARGS
	CASE "試合前"
		;-------------------------------------------------
		;The battle begins
		;ARG is not accessible
		;No more than 50 characters per line
		;キャラセレクト時,ARGは使えません
		;全角50文字くらいまで
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		;-------------------------------------------------
		IF LOCAL:1
;		RESULTS = 「I'm gonna blow you away!」
		ENDIF
	CASE "戦場に出した"
		;-------------------------------------------------
		;Immediately after "CHARACTER sent out BUG!"
		;No more than 40 characters per line
		;"【（キャラ）】は《（ムシ）》を戦場に出した！」"の直後
		;全角40文字まで（カギカッコ含む）
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		残りムシ数 = ARG
		;-------------------------------------------------
		IF LOCAL:1
;		RESULTS = 「%MUSHI_NAME%! I choose you!」
		ENDIF
	CASE "攻撃時"
		;-------------------------------------------------
		;Immediately before "CHARACTER's BUG uses SKILL!"
		;No more than 40 characters per line
		;"【（キャラ）】《（ムシ）》の『（攻撃名）』！」"の直前
		;全角40文字まで（カギカッコ含む）
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		残りムシ数 = ARG
		;-------------------------------------------------
		IF LOCAL:1
;		RESULTS = 「Send 'em flying, %MUSHI_NAME%!」
		ENDIF
	CASE "倒れた時"
		;-------------------------------------------------
		;Immediately after "CHARACTER's BUG faints!!"
		;No more than 40 characters per line
		;"【（キャラ）】《（ムシ）》は倒れた！！"の直後
		;全角40文字まで（カギカッコ含む）
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		残りムシ数 = ARG
		;-------------------------------------------------
		IF LOCAL:1
;		RESULTS = 「No! My %MUSHI_NAME%!」
		ENDIF
	CASE "敗退時"
		;-------------------------------------------------
		;Immediately after "CHARACTER is eliminated!!"
		;No more than 40 characters per line
		;"【（キャラ）】敗退！！"の直後
		;全角40文字まで（カギカッコ含む）
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		残りムシ数 = ARG
		;-------------------------------------------------
		IF LOCAL:1
;		RESULTS = 「My bugs got squashed...」
		ENDIF
	CASE "タイマン：勝ち"
		;-------------------------------------------------
		;One-on-one battle: the character came in first
		;No more than 20 characters per line
		;順位は1位
		;全角20文字まで（カギカッコ含む）
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		順位 = ARG
		;-------------------------------------------------
		IF LOCAL:1
;		RESULTS = 「Wow, %CALLNAME:MASTER%!」
		ENDIF
	CASE "タイマン：負け"
		;-------------------------------------------------
		;One-on-one battle: the character came in second
		;No more than 20 characters per line
		;順位は2位
		;全角20文字まで（カギカッコ含む）
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		順位 = ARG
		;-------------------------------------------------
		IF LOCAL:1
;		RESULTS = 「You're strong, %CALLNAME:MASTER%!」
		ENDIF
	CASE "バトルロイヤル：優勝"
		;-------------------------------------------------
		;Battle Royale: the character came in first
		;No more than 30 characters per line
		;順位は1位
		;全角30文字まで（カギカッコ含む）
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		順位 = ARG
		;-------------------------------------------------
		IF LOCAL:1
		;RESULTS = 「All right!」
		ENDIF
	CASE "バトルロイヤル：２位以下"
		;-------------------------------------------------
		;Battle Royale: the character came in 2nd, 3rd, or 4th
		;No more than 30 characters per line
		;順位は2～4位
		;全角30文字まで（カギカッコ含む）
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		順位 = ARG
		;-------------------------------------------------
		IF LOCAL:1
;		RESULTS = 「Aww man!」
		ENDIF
	CASE "チーム戦：勝ち"
		;-------------------------------------------------
		;Team battle: the character's partner was eliminated, but their team still came in first
		;No more than 32 characters per line
		;順位は1位（やられていても）
		;全角32文字まで（カギカッコ含む）
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		順位 = ARG
		;-------------------------------------------------
		IF LOCAL:1
;		RESULTS = 「You owe me!」
		ENDIF
	CASE "チーム戦：負け"
		;-------------------------------------------------
		;Team battle: the character's team came in second
		;No more than 32 characters per line
		;順位は2位
		;全角32文字まで（カギカッコ含む）
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 0
		順位 = ARG
		;-------------------------------------------------
		IF LOCAL:1
;		RESULTS = 「My partner's so weak!!」
		ENDIF
ENDSELECT
SIF RESULTS != ""
	RETURN 1

;==================================================
;Gravity operation
;TCVAR: If you put a location ID in the gravitation point, the character will be pulled to that point
;Only works on the same base map as the location ID (the character won't go to the Hakurei Shrine Outskirts if they aren't at the Hakurei Shrine).
;Note that if you don't set any conditions, they will be pulled to the location permanently.
;RAND is basically useless
;CFLAG:今日の運勢にそ contains random numbers (0-999) for that day, so you can use this!
;引力操作
;TCVAR:引力点に場所IDを入れるとその地点に引っ張られていきます
;場所IDと同じ拠点マップでしか効果はありません（博麗神社の境内なら拠点が博麗神社のときだけ）
;条件を付けないと永久に引っ張られ続けるので注意
;RANDは基本的に使えません。CFLAG:今日の運勢にその日のランダム数値（0～999）が入っているのでこれを使うと良いです
;==================================================
@M_KOJO_EVENT_K160_GRAVITY(ARG)

SIF 0
	TCVAR:引力点 = 0

;Some examples
;▼共通設定で使われているサンプル
[SKIPSTART]
    ;Randomly play during the daytime on weekdays
	;平日の昼間はランダムで遊びに行く
	IF YOUBI_MATCH(DAY, "月火水木金") && INRANGE(TIME, 600, 960)
		SELECTCASE CFLAG:今日の運勢 % 5
		CASE 1
			TCVAR:引力点 = P2境内
		CASE 2
			TCVAR:引力点 = P10縁側
		CASE 3
			TCVAR:引力点 = P11庭
		CASE 4
			TCVAR:引力点 = P25鎮守の森
		CASEELSE
			TCVAR:引力点 = 0
		ENDSELECT
	ENDIF
    ;50% chance to play on Wednesdays and Thursdays
	;水木曜日に2分の1の確率で遊びに行く
	SIF YOUBI_MATCH(DAY, "水木") && INRANGE(TIME, 720, 1020) && CFLAG:今日の運勢 % 2 == 0
		TCVAR:引力点 = P213鈴奈庵
    ;Go to the Myouren Temple's Main Temple Building if Byakuren is there
	;特定の人物が特定の場所にいるとそこへ引っ張られる
		SIF CFLAG:[[白蓮]]:現在位置 == P103本堂 && !CFLAG:[[白蓮]]:诶嘿嘿 && SHIRAHU([[白蓮]])
			TCVAR:引力点 = P103本堂
    ;10% chance to follow Satori around on Saturdays and Sundays
	;土日に10分の1の確率で特定の人物にくっついてまわる
	SIF YOUBI_MATCH(DAY, "土日") && CFLAG:今日の運勢 % 10 == 0 && !CFLAG:[[覚]]:诶嘿嘿 && SHIRAHU([[覚]])
		TCVAR:引力点 = CFLAG:[[覚]]:現在位置
[SKIPEND]

;==================================================
;Watermelon Splitting
;Watermelon Splitting dialogue works like Bug Battle dialogue. Don't use PRINT statements, and only assign one line to the RESULTS field.
;Brackets are automatically added.
;Only "collision" and "result" are automatically colored.
;Lines can be no more than 26 characters except for "collision" and "result". Please be careful not to overflow!
;If you have several patterns, you can use %TEXTR( / )% to get more atmosphere.
;スイカ割り
;スイカ割りの口上はムシバトル同様、PRINTを使うのではなく、
;台詞一行のみをRESULTSに入れてください
;カギ括弧は自動で付きます
;"衝突","結果"のみ、口上色が自動で付きます
;"衝突","結果"以外は半角26文字（全角13文字）までの文字数制限があります。はみ出ないように気をつけてください
;数パターンあると雰囲気が出ます（%TEXTR( / )%を使うと良い）
;==================================================
@M_KOJO_MESSAGE_COM_K160_SUIKA(ARGS, ARG)
;-------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL:1 = 0
;-------------------------------------------------
IF LOCAL:1
	SELECTCASE ARGS
		CASE "衝突"
		;-------------------------------------------------
		;Lines for stumbling out of the field and bumping into a character
		;No character limit, and there's no generic dialogue for this.
		;場外に出て你がキャラと衝突した際の台詞
		;文字数制限はありません,汎用台詞もありません
		;-------------------------------------------------
			RESULTS = Ow! Hey, watch it!
		;There!
		CASE "そこだ！"
			RESULTS = %TEXTR("There!/Now!")%
		;Near
		CASE "近い"
			RESULTS = %TEXTR("Close! You're close!/Getting closer!/Almost there!")%
		;Far
		CASE "遠い"
			RESULTS = %TEXTR("Still far away/Still got a ways to go～")%
		;Very far
		CASE "かなり遠い"
			RESULTS = %TEXTR("It's really farー/It's far away, you gotta keep goingー")%
		;In front
		CASE "前"
			RESULTS = %TEXTR("It's just up ahead/Keep going, keep going!/That way, that way!")%
		;A little further ahead
		CASE "少し前"
			RESULTS = %TEXTR("Right in front of you!/A little further/Just one more step!")%
		;Behind
		CASE "後ろ"
			RESULTS = %TEXTR("Turn around!/The other way, the other way!/No no no, wrong way～!")%
		;A little further back
		CASE "少し後ろ"
			RESULTS = %TEXTR("Right behind you!/A little further back/Just one step back!")%
		;Right
		CASE "右"
			RESULTS = %TEXTR("To your right/To the right, to the right!/More to the right!")%
		;A little further right
		CASE "少し右"
			RESULTS = %TEXTR("Just a little further right/Keep going right")%
		;Left
		CASE "左"
			RESULTS = %TEXTR("To your left/To the left, to the left!/More to the left!")%
		;A little futher left
		CASE "少し左"
			RESULTS = %TEXTR("Just a little further left/Keep going left")%
		CASE "結果"
		;-------------------------------------------------
		;After the game ends
		;You can only have one line per case, but they can be as long as you want(?)
		;TFLAG:193,
		;   -1=Failure
		;    0=Success
		;    1=Great Success
		;    2=Great Success with a wooden sword (bonus points)
		;ARG
		;    0=Honest person
		;    1=Liar
		;終了後の一言
		;文字数制限はありません,汎用台詞もありません
		;TFLAG:193,
		;   -1=失敗
		;    0=成功
		;    1=大成功
		;    2=木刀で大成功（ボーナス点）
		;ARG
		;    0=正直者
		;    1=ウソつき
		;-------------------------------------------------
			SELECTCASE TFLAG:193
				CASE -1
					RESULTS = 好遗憾哦～
				CASE 0
					RESULTS = 嗯嗯，加油
				CASE 1
					RESULTS = 好耶!
				CASE 2
					RESULTS = 好厉害!
			ENDSELECT
	ENDSELECT
ENDIF

;Special encounter events (if you want to have a custom event when a character encounters you while traveling between maps)
;外出先特殊遭遇イベント
;@RUN_INTO_160(MAP_ID)
;#DIM MAP_ID
;Replace "XX" with the character ID
;Always RETURN 1 at the end.
;RETURN -1 if you want to make the event not occur, for example, if you haven't met the character
;XXをキャラ番号に置換
;最後に必ずRETURN 1すること
;面識がない場合発生させないなど、あえて不発にさせたい場合RETURN -1すること
;	SIF !CFLAG:XX:面識
;		RETURN -1
;	PRINTFORML %CALLNAME:XX% is here.
;	PRINTFORML 「Hi.」
;	CFLAG:XX:好感度 += 5
;	RETURN 1

;For sex friend agreements.
;The value this function returns affects the reasoning barrier.
;If you want to make it easy to make a sex friend agreement, you should return a negative value.
;If you want to increase the difficulty or make it practically impossible, you should return a positive value.
;炮友契約用
;"補正"でRETURNした数値が理性判定に加算されるので、
;簡単に炮友にしたいならマイナス、難易度を上げたかったり実質不可能にしたいならプラスすべし
;@KOJO_SF_CONTRACT_K160(ARGS)
;SELECTCASE ARGS
	;Start
	;CASE "導入"
		;PRINTFORML 「Sex friends, huhー」
	;Before reason wall
	;CASE "補正"
		;PRINTFORML (I wanna get laid right now)
		;RETURN -1000
	;CASE "成功"
		;PRINTFORML 「Okayー」
	;CASE "失敗"
		;PRINTFORML 「No thanksー」
;ENDSELECT

;framework from nue's file, refer to that
;@K160_DAYEVENT_COND(ARG)
;RETURN -1 - means disallowed, 0 - fall back to original condition, 1 - allowed
;SIF !TALENT:恋慕 && ARG != 11
;	RETURN -1
;SIF MARK:反発刻印 || CFLAG:ブチギレ
;	RETURN -1
;SELECTCASE ARG
	;CASE 1 ;bj
		;SIF !HAS_PENIS(MASTER) ;bj only
		;	RETURN -1
		;SIF !( ABL:欲望 >= 3 && ABL:技巧 >= 3 && EXP:奉仕快楽経験 >= 50 && EXP:口淫経験 >= 20 ) ;og cond
			;RETURN -1
		;RETURN 1
	;CASE 3 ;cow
		;SIF !HAS_PENIS(MASTER) ;penis only
			;RETURN -1

		;SIF !(ABL:欲望 >= 5)
			;RETURN -1

		;SIF !(!TALENT:処女 && !IS_DOUTEI(MASTER)) ;must be experienced
		;	RETURN -1
		;RETURN 1
	;CASE 5
	;	SIF !TALENT:恋人
	;		RETURN -1
	;	RETURN 1
	;CASE 11 ;afternight drink
	;	SIF !( ABL:奉仕精神 >= 3 && EXP:奉仕快楽経験 >= 50 )
	;		RETURN -1
	;	SIF (TALENT:妊娠 || TALENT:育児中)
	;		RETURN -1
	;	SIF	CFLAG:2 >= 1500 ;allowed without love
	;		RETURN 1
	;	RETURN -1
	;CASE 7, 8, 12 ;disabled, no dialogue
	;	RETURN -1
;ENDSELECT
;RETURN 0
