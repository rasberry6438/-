@DOKU_GET_RAND_BETWEEN(ARG:0,ARG:1,ARG:2,ARG:3)
#FUNCTION
[SKIPSTART]
概括：
得到True的概率大体上随着ARG:0的增加而增加的函数，ARG:0是要关联的量
ARG:0小于ARG:1时返回False、ARG:0大于ARG:2的时候返回True
ARG:3是一个控制用的量，目的是不让概率的增长显得那么单调以及控制概率的初始值
它越接近0.5*(ARG:2-ARG:1)，概率就越晚与ARG:0有关，但也越早与它无关

下面是概率明细:
ARG:3>ARG:2-ARG:1，则这个函数在ARG:0<ARG:1的情况下，False的概率固定为(ARG:2-ARG:1)/ARG:3

ARG:2-ARG:1<2*ARG:3<2*(ARG:2-ARG:1)，则:
ARG:0属于[ARG:1,ARG:2-ARG:3]，则得到False的概率固定为1-(1/ARG:3)
ARG:2-ARG:3,ARG:1+ARG:3，则False的概率为(ARG:2-ARG:0)/ARG:3，随着ARG:0增长而减少
ARG:1+ARG:3,ARG:2，则得到False的可能性为(ARG:2-ARG:0)/(ARG:0-ARG:1)，随着ARG:0增长而快速减少

0<2*ARG:3<ARG:2-ARG:1，则:
ARG:0属于ARG:1,ARG:1+ARG:3，则得到False的概率固定为1-(1/ARG:3)
ARG:1+ARG:3,ARG:2-ARG:3，则False的概率为ARG:3/(ARG:0-ARG:3)
ARG:2-ARG:3,ARG:2，则得到False的可能性为(ARG:2-ARG:0)/(ARG:0-ARG:1)

ARG:3<0的时候，函数等效于RETURNF ARG:0>=ARG:1

ERA这个语言有个机制，如果前面的判断一定会导致结果是F，那后面的判断就不会跑了
"ARG:0>=ARG:1&&"正是利用这个机制，保证它后面的式子只要被跑到就一定不会报错

虽然解释很长，但实际运算只有简单的一行，这么长的解释主要是为了说明ARG:3的作用
本来还有更复杂的思路，但ERA里ARG和RESULT之类的量只能是整数，不方便小数运算
[SKIPEND]
RETURNF ARG:0 >= ARG:1 &&((((RAND:MAX((ARG:0 - ARG:1),ARG:3)+1)) + MAX((ARG:0 - ARG:1),(ARG:2-ARG:1-ARG:3)) - (ARG:2-ARG:1))>= 0)

@DOKU_BETWEEN(ARG,ARG:1,ARG:2)
#FUNCTION
RETURNF ARG>=ARG:1 && ARG<=ARG:2

@DOKU_RAND_RESULT_WC(ARG:0=0,ARG:1=0,ARG:2=0,ARG:3=0,ARG:4=0,ARG:5=0,ARG:6=0,ARG:7=0,ARG:8=0,ARG:9=0,ARG:10=0,ARG:11=0,ARG:12=0,ARG:13=0,ARG:14=0,ARG:15=0)
#FUNCTION
;WC是WithCondition的简写
#DIM DYNAMIC RESULT_HERE_WC
#DIM DYNAMIC CURRENT_USED_HERE,3
#DIM DYNAMIC NUM_OF_CONDITION = 0
CURRENT_USED_HERE:1 = 0;记录最前面的0是哪个
FOR CURRENT_USED_HERE,0,16
IF ARG:CURRENT_USED_HERE
IF CURRENT_USED_HERE == CURRENT_USED_HERE:1
ARG:CURRENT_USED_HERE = CURRENT_USED_HERE
CURRENT_USED_HERE:1 ++
ELSE ;只可能是CURRENT_USED_HERE>CURRENT_USED_HERE:1
ARG:(CURRENT_USED_HERE:1)=CURRENT_USED_HERE
ARG:CURRENT_USED_HERE = 0
FOR CURRENT_USED_HERE:2,0,CURRENT_USED_HERE - CURRENT_USED_HERE:1
CURRENT_USED_HERE:1 ++
SIF !ARG:(CURRENT_USED_HERE:1)
BREAK
NEXT
ENDIF
ENDIF
NEXT
RESULT_HERE_WC = ARG:(RAND:(MAX(1,CURRENT_USED_HERE:1)))
VARSET ARG
;注意：当所有参数都是0的时候，返回值为0。这样是为了避免RAND报错中止游戏
;不过，为什么会有所有参数都是0的情况呢？抽卡抽到再烂的卡也不会什么都不出吧
RETURNF RESULT_HERE_WC