[SKIPSTART]
@COLUMN_LIB

REDRAW 0

CALL COLUMNCREATE(0)
CALL COLUMNCREATE(1)
CALL COLUMNCREATE(2)

CALL COLUMNRESIZE(0, 2000, 1000)
CALL COLUMNRESIZE(1, 2000, 1000)
CALL COLUMNRESIZE(2, 2000, 1000)

CALL COLUMNMOVE(0, 0, 1000)
CALL COLUMNMOVE(1, 2050, 1000)
CALL COLUMNMOVE(2, 0, 2050)

CALL COLUMNCOLOR(0, "black")
CALL COLUMNBGCOLOR(0, "white")

CALL COLUMNCOLOR(1, "black")
CALL COLUMNBGCOLOR(1, "white")

CALL COLUMNCOLOR(2, "black")
CALL COLUMNBGCOLOR(2, "white")

CALL COLUMNPRINT(0, "左カラムです")
CALL COLUMNPRINTL(0, "左カラムです")
CALL COLUMNPRINTL(1, "右カラムです")
CALL COLUMNPRINTW(2, "上カラムです")

CALL COLUMNPRINTL(0, "左カラムに1行追加します")
CALL COLUMNPRINTW(1, "左カラムに1行追加します")

CALL COLUMNPRINTW(0, "あいうえお")

CALL COLUMNPRINTL(0, "右カラムに1行追加します")
CALL COLUMNPRINTW(1, "右カラムに1行追加します")

CALL COLUMNPRINTW(1, "ABCDEFG")

CALL COLUMNPRINTL(0, "左カラムの文字色と背景を変えます")
CALL COLUMNPRINTW(1, "左カラムの文字色と背景を変えます")

CALL COLUMNCOLOR(0, "deepskyblue")
CALL COLUMNBGCOLOR(0, "yellow")
CALL COLUMNWAIT

CALL COLUMNPRINTL(0, "右カラムの文を上から下に並べます")
CALL COLUMNPRINTW(1, "右カラムの文を上から下に並べます")

CALL COLUMNDIRECTION(1, 1)
CALL COLUMNWAIT

CALL COLUMNPRINTL(0, "左カラムを右上に移動します")
CALL COLUMNPRINTW(1, "左カラムを右上に移動します")

CALL COLUMNMOVE(0, 2050, 2050)
CALL COLUMNWAIT

CALL COLUMNPRINTW(2, "以上です")

QUIT_AND_RESTART

@COLUMNCREATE, ARG

SIF COLUMN_GRAPH:ARG:0
	RETURN 0

COLUMN_GRAPH:ARG:0 = 1
RETURN 1

@COLUMNRESIZE, ARG, LWIDTH, LHEIGHT
#DIM DYNAMIC LWIDTH
#DIM DYNAMIC LHEIGHT

COLUMN_GRAPH:ARG:1 = LWIDTH
COLUMN_GRAPH:ARG:2 = LHEIGHT

@COLUMNMOVE, ARG, LWIDTH, LHEIGHT
#DIM DYNAMIC LWIDTH
#DIM DYNAMIC LHEIGHT

COLUMN_GRAPH:ARG:3 = LWIDTH
COLUMN_GRAPH:ARG:4 = LHEIGHT

@COLUMNCOLOR, ARG, ARGS

IF ISNUMERIC(ARGS)
	COLUMN_GRAPH:ARG:5 = TOINT(ARGS)
ELSE
	COLUMN_GRAPH:ARG:5 = COLOR_FROMNAME(ARGS)
ENDIF

@COLUMNBGCOLOR, ARG, ARGS

IF ISNUMERIC(ARGS)
	COLUMN_GRAPH:ARG:6 = TOINT(ARGS)
ELSE
	COLUMN_GRAPH:ARG:6 = COLOR_FROMNAME(ARGS)
ENDIF

@COLUMNDIRECTION, ARG, 方向
#DIM DYNAMIC 方向

COLUMN_GRAPH:ARG:7 = 方向

@COLUMNPRINT, ARG, ARGS
COLUMN_GRAPH:ARG:9 = 1
CALL COLUMNSHIFT(ARG, ARGS)

@COLUMNPRINTL, ARG, ARGS
CALL COLUMNSHIFT(ARG, ARGS)
COLUMN_GRAPH:ARG:9 = 0

@COLUMNPRINTW, ARG, ARGS
CALL COLUMNSHIFT(ARG, ARGS)
COLUMN_GRAPH:ARG:9 = 0

CALL COLUMNWAIT

@COLUMNSHIFT, ARG, ARGS
#DIM DYNAMIC LCOUNT

IF COLUMN_GRAPH:ARG:9
	COLUMNLOG:ARG:0 += ARGS
ELSE
	FOR LCOUNT, 9999, 0, -1
		COLUMNLOG:ARG:LCOUNT = %COLUMNLOG:ARG:(LCOUNT-1)%
	NEXT
	COLUMNLOG:ARG:0 = %ARGS%
ENDIF

@COLUMNWAIT
#DIM DYNAMIC LCOUNT
#DIM DYNAMIC LCOUNT2
#DIM DYNAMIC LCOUNT3
#DIMS DYNAMIC HTML
#DIMS DYNAMIC REVERSELOG, 10000
#DIM DYNAMIC LOGCOUNT

CLEARLINE 1

HTML += "<nobr>"

FOR LCOUNT, 0, 10
	SIF COLUMN_GRAPH:LCOUNT:0 == 0
		CONTINUE
	GDISPOSE LCOUNT
	GCREATE LCOUNT, COLUMN_GRAPH:LCOUNT:1, COLUMN_GRAPH:LCOUNT:2
	GSETFONT LCOUNT, "ＭＳ ゴシック", 100
	GSETBRUSH LCOUNT, COLUMN_GRAPH:LCOUNT:5+0xFF000000
	GCLEAR LCOUNT, COLUMN_GRAPH:LCOUNT:6+0xFF000000
	IF COLUMN_GRAPH:LCOUNT:7 == 0
		FOR LCOUNT2, 0, 10
			GDRAWTEXT LCOUNT, COLUMNLOG:LCOUNT:LCOUNT2, 0, GHEIGHT(LCOUNT)-LCOUNT2*100-100
		NEXT
	ELSE
		
		FOR LCOUNT2, 9999, -1, -1
			SIF COLUMNLOG:LCOUNT:LCOUNT2 != ""
				REVERSELOG:(LOGCOUNT++) = %COLUMNLOG:LCOUNT:LCOUNT2%
		NEXT
		FOR LCOUNT2, 0, 10
			GDRAWTEXT LCOUNT, REVERSELOG:LCOUNT2, 0, LCOUNT2*100
		NEXT
	ENDIF
	SPRITECREATE @"COLUMN_{LCOUNT}", LCOUNT
	HTML += @"<nonbutton pos='{COLUMN_GRAPH:LCOUNT:3}'><img src='COLUMN_{LCOUNT}' height='{COLUMN_GRAPH:LCOUNT:2}' ypos='-{COLUMN_GRAPH:LCOUNT:4}'></nonbutton>"
NEXT

HTML += "</nobr>"

HTML_PRINT HTML

WAIT
[SKIPEND]