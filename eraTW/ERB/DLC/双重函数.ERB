;有BUG 暂时无用
; @卿卿我我
	; FOR LOCAL,(Target+1),CHARANUM
		; SIF CFLAG:LOCAL:同室 == 0
			; CONTINUE
		; SIF !GETBIT(CFLAG:LOCAL:既成事實 ,0)
			; CONTINUE
		; Target = LOCAL
		; TryCall COM_ABLE312
		; SIF RESULT == 0
			; CONTINUE
		; IF RESULT == 1
			; TryCall COM312
		; ENDIF
			; DOTRAIN 999
			; RETURN 1
	; NEXT
	; FOR LOCAL,1,Target
		; SIF CFLAG:LOCAL:同室 == 0
			; CONTINUE
		; SIF !GETBIT(CFLAG:LOCAL:既成事實 ,0)
			; CONTINUE
		; Target = LOCAL
		; TryCall COM_ABLE312
		; SIF RESULT == 0
			; CONTINUE
		; IF RESULT == 1
			; TryCall COM312
		; ENDIF
			; DOTRAIN 999
			; RETURN 1
	; NEXT
	; PRINTW 卿卿我我:出错啦!!!没有合适的目标-没有亲吻合意也不能随便乱亲哦
	; RETURN 0
; TFLAG:Info表示中 = 0
; RETURN 0

@双重口交
	FOR LOCAL,(Target+1),CHARANUM
		SIF CFLAG:LOCAL:同室 == 0
			CONTINUE
		TryCall CAN_COM81(LOCAL)
		SIF RESULT == 0
			CONTINUE
		IF RESULT == 1
			Target = LOCAL
			TFLAG:104 = LOCAL
			TFLAG:3 = 81
			TryCall COM81
		ENDIF
			DOTRAIN 999
			RETURN 1
	NEXT
	FOR LOCAL,1,Target
		SIF CFLAG:LOCAL:同室 == 0
			CONTINUE
		TryCall CAN_COM81(LOCAL)
		SIF RESULT == 0
			CONTINUE
		IF RESULT == 1
			Target = LOCAL
			TFLAG:104 = LOCAL
			TFLAG:3 = 81
			TryCall COM81
		ENDIF
			DOTRAIN 999
			RETURN 1
	NEXT
	PRINTW 双重口交:出错啦!!!没有合适的目标
	RETURN 0
TFLAG:Info表示中 = 0
RETURN 0

@双重乳交
	FOR LOCAL,(Target+1),CHARANUM
		SIF CFLAG:LOCAL:同室 == 0
			CONTINUE
		TryCall CAN_COM82(LOCAL)
		SIF RESULT == 0
			CONTINUE
		IF RESULT == 1
			Target = LOCAL
			TFLAG:104 = LOCAL
			TFLAG:3 = 82
			TryCall COM82
		ENDIF
			DOTRAIN 999
			RETURN 1
	NEXT
	FOR LOCAL,1,Target
		SIF CFLAG:LOCAL:同室 == 0
			CONTINUE
		TryCall CAN_COM82(LOCAL)
		SIF RESULT == 0
			CONTINUE
		IF RESULT == 1
			Target = LOCAL
			TFLAG:104 = LOCAL
			TFLAG:3 = 82
			TryCall COM82
		ENDIF
			DOTRAIN 999
			RETURN 1
	NEXT
	PRINTW 双重素股:出错啦!!!没有合适的目标
	RETURN 0
TFLAG:Info表示中 = 0
RETURN 0

@双重素股
	FOR LOCAL,(Target+1),CHARANUM
		SIF CFLAG:LOCAL:同室 == 0
			CONTINUE
		TryCall CAN_COM83(LOCAL)
		SIF RESULT == 0
			CONTINUE
		IF RESULT == 1
			Target = LOCAL
			TFLAG:104 = LOCAL
			TFLAG:3 = 83
			TryCall COM83
		ENDIF
			DOTRAIN 999
			RETURN 1
	NEXT
	FOR LOCAL,1,Target
		SIF CFLAG:LOCAL:同室 == 0
			CONTINUE
		TryCall CAN_COM83(LOCAL)
		SIF RESULT == 0
			CONTINUE
		IF RESULT == 1
			Target = LOCAL
			TFLAG:104 = LOCAL
			TFLAG:3 = 83
			TryCall COM83
		ENDIF
			DOTRAIN 999
			RETURN 1
	NEXT
	PRINTW 双重素股:出错啦!!!没有合适的目标
	RETURN 0	
TFLAG:Info表示中 = 0
RETURN 0

@交互插入
	FOR LOCAL,(Target+1),CHARANUM
		SIF CFLAG:LOCAL:同室 == 0
			CONTINUE
		SIF TALENT:LOCAL:処女
			CONTINUE
		;带套
		TryCall 交互插入要求(LOCAL)
		IF RESULT == 1
PRINTFORML {LOCAL}%NAME_OUTPUT_TRANSLATION("CALLNAME", LOCAL)% - 交互插入要求不满足
			CONTINUE
ENDIF
		TryCall CAN_COM60(LOCAL)
		SIF RESULT == 0
			CONTINUE
		IF RESULT == 1
;#;PRINTFORM 从{Target+1}到完 - {Target}%NAME_OUTPUT_TRANSLATION("CALLNAME", Target)% → {LOCAL}%NAME_OUTPUT_TRANSLATION("CALLNAME", LOCAL)% 
			Target = LOCAL
			TFLAG:104 = LOCAL
		IF RAND:2
			TFLAG:3 = 60
			TryCall COM60
		ELSE
			TFLAG:3 = 61
			TryCall COM61
		ENDIF
;#;PRINTFORML COM{TFLAG:3}
			DOTRAIN 999
			RETURN 1
		ENDIF
	NEXT
	FOR LOCAL,1,Target
		SIF CFLAG:LOCAL:同室 == 0
			CONTINUE
		SIF TALENT:LOCAL:処女
			CONTINUE
		;带套
		TryCall 交互插入要求(LOCAL)
		SIF RESULT == 1
			CONTINUE

		TryCall CAN_COM60(LOCAL)
		SIF RESULT == 0
			CONTINUE
		IF RESULT == 1
;#;PRINTFORM 从一到{Target} - {Target}%NAME_OUTPUT_TRANSLATION("CALLNAME", Target)% → {LOCAL}%NAME_OUTPUT_TRANSLATION("CALLNAME", LOCAL)% 
			Target = LOCAL
			TFLAG:104 = LOCAL
		IF RAND:2
			TFLAG:3 = 60
			TryCall COM60
		ELSE
			TFLAG:3 = 61
			TryCall COM61
		ENDIF
;#;PRINTFORML COM{TFLAG:3}
			DOTRAIN 999
			RETURN 1
		ENDIF
	NEXT
	PRINTL 交互插入V:出错啦!!!没有能插入的妹纸 - 返回
	PRINTL 为了防止不必要的Bug 处女将不能交互插入
	PRINTW 没有无套合意也不能随便插入
	RETURN 0
TFLAG:Info表示中 = 0
RETURN 0

;避妊要求(ARG)
@交互插入要求(ARG)
SIF CFLAG:ARG:允许无套 == 2
	RETURN
SIF !妊娠可否(ARG)
	RETURN
SIF !HAS_PENIS(MASTER)
	RETURN
SIF TALENT:ARG:無知
	RETURN
SIF TFLAG:16
	RETURN
SIF TCVAR:ARG:强行
	RETURN
SIF !SHIRAHU(ARG)
	RETURN
SIF TCVAR:ARG:挿入拒絶
	RETURN 1
;安全日
SIF ESTRUS_CYCLE(ARG) == 15
	RETURN

SIF !CFLAG:ARG:允许无套 && ESTRUS_CYCLE(ARG) != 15
	RETURN 1
RETURN