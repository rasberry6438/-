;-------------------------------------------------
; eraTheWorld 4.903用 ○○別人口上（把角色的名字放进去，如果还有口上版本名之类的也可自行改名）
;-------------------------------------------------
;他者による修正、加筆、改変については、同梱のライセンス条項に従ってください。
;他人所做的任何修改、添加或修改均受随附许可条款的约束。
;------ ｷﾘﾄﾘ ｶｲｼ -----------
;eraTheWorld proto4.07用于额外的程序导入 Ver1.13
;口上模板的使用方法
;第一次使用，需要将所有 KX 批量替换成 K(角色编号)  如下
;角色编号请参考CSV\Chara内的CSV文件，例如(霧雨 魔理沙的場合)：KX =替換=> K11
;口上的标志需要全盘替换 _XXX ，请确保该标志与其他口上不会重复
;------ ｷﾘﾄﾘ ｵﾜﾘ -----------

;**** FlagManagement **********************************************************
;本口上使用的CFLAG・TCVAR的用途等
;
;
;
;******************************************************************************

;### 口上存在判定 ###################################
@M_KOJO_KX_X2(ARG)
;将 X2 替换为同一角色所拥有口上的未被占用的编号，请确保此处编号与其他别人版口上不一致
;如果您的角色并没有初期版口上，直接删去 _X2 即可，此模板兼容使用初期版
;
;此处为口上标志，用于区分同一角色的不同口上，请务必全部替换 _XXX 且确保它不会和其他口上相重复
RESULTS = _XXX

;为了明确您的口上与初期口上的不同之处，此处将会在开局选择口上时显示并作为口上名称的一部分，请务必更改 XXX
RESULTS:1 = ＸＸＸ

;这是对存在的判断，请不要注释掉
;不要做任何其他的处理
RETURN 1

;### 口上基本フラグ設定 #############################
@M_KOJO_XXX_FLAGSETTING_KX
;口上的基本标志设置应在此处完成
;请使用以下注释内的标志，必要时取消注释
;此处的变量名是日文原版的变量名，请参考CSV\CFLAG.CSV文件内的变量名进行修正

;请将此处的 X 替换为角色编号

;将眠姦口上有、時間停止口上有、なりきり（扮演模式）口上有这些CFLAG变量设置为 1 ，才能在眠姦、時間停止、扮演模式时显示口上
;否则，以上情况中，你的角色将不会有任何反应
;CFLAG:X:眠姦口上有 = 0
;CFLAG:X:時間停止口上有 = 0
;CFLAG:X:なりきり口上有 = 0

;当 破瓜キャンセル口上有 设置为1时，在第一次插入时会触发@M_KOJO_EVENT_KX_LOST_VIRGIN_STOP并根据结果来决定是否成功
;CFLAG:X:破瓜キャンセル口上有 = 0

;口上内抱き寄せ判定_初回と口上内抱き寄せ判定_通常に1を入れると、M_KOJO_EVENT_KX_PERMISSIONで押し倒しの成否を操作できます
;如果设置为1，初次以及通常的推倒，可以用M_KOJO_EVENT_KX_PERMISSION控制是否成功推倒

;CFLAG:X:口上内抱き寄せ判定_初回 = 0
;CFLAG:X:口上内抱き寄せ判定_通常 = 0

;设置为1时，将无法推倒（但是时醉睡奸不一定不能）
;以下是一个例子，在无恋慕并且无炮友时禁止推倒

;IF !TALENT:X:恋慕 && !TALENT:X:セフレ
;	CFLAG:X:押し倒し禁止 = 1
;ELSE
;	CFLAG:X:押し倒し禁止 = 0
;ENDIF

;如果你把来訪不能设置为 1 ，角色不住在主地图时将不会来访
;以下是一些用途示例，效果是让角色在见面之前不会来访

;IF !CFLAG:X:面識
;	CFLAG:X:来訪不能 = 1
;ELSE
;	CFLAG:X:来訪不能 = 0
;ENDIF

;注、如果您需要修改角色的初始设置，请在下方IF ENDIF期间添加
;请不要修改FIRSTTIME("TALENT_CHANGE")，这个可以让修改仅修改一次
;以下是一个例子，效果是初始设定为处女并修正处女丧失履历

;IF FIRSTTIME("TALENT_CHANGE")
;TALENT:X:0 = 0 
;CSTR:X:処女喪失履歴 = 还没被任何人进入
;ENDIF 
;
;### 口上色判定 ###################################
@M_KOJO_XXX_COLOR_KX

;这里可以通过SETCOLOR设置自己的口上颜色
;在系统启用口上色设定后才可以触发
;例：SETCOLOR 0xC07070

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"UPDATE判定"
;※※※※※※※※※※※※※※※※※※※※※※※※※※
@M_KOJO_XXX_UPDATE_KX
;口上独自的UPDATE用
;当您专门为 ENCOUNTER 准备了自己的分支标志时，请使用它（原文如此）
;在UPDATE判断中使用字符变量（如CFLAG）时，不会有自动填充，需要自己指定角色编号
;
;目前可作为口上自定义设置用，可以控制一些功能是否开启

RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"ENCOUNTER"系事件（额外语法）
;※※※※※※※※※※※※※※※※※※※※※※※※※※
@M_KOJO_XXX_ENCOUNTER_KX
;初次见面与问候，会触发这里的内容
;TALENT的变更也可以在此处修改（但是，在见面前查看角色信息还是会显示更改前的信息，所以仅作为一个见面可修改选项）
;经验的变化可能会导致差异，因此建议修改 CSV 并包含它（但是别人版不能用专门的CSV，乐）
;注、由于初见之前依然可以看到角色的经验信息，此时将不会触发这里的修正


RETURN 1

@KX_BEFORETRAIN_XXX
;在一天开始时读取的函数，或者更准确地说，在来访判断之前读取的函数
;在这里，您可以设置 CFLAG：XX：次日访问以确保角色来访问，或者 TCVAR:XX:発情 并使其一天都在发情（原文如此）
;但是，由于它每天早上必定会被加载，因此需要设置条件


;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"SP_EVENT"系事件
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;==================================================
;约会回家路上的初吻赠予（同时获得合意_接吻）
;==================================================

@M_KOJO_XXX_SPEVENT_MESSAGECHECK_KX_1
RETURN 0

@M_KOJO_XXX_SPEVENT_KX_1(ARG,ARG:1)
;口上角色编号 = TARGET
; 
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	PRINTFORML  
	;如果要根据某些剧情取消逆初吻，请使用下列字段并取消注释
	;TCVAR:接吻キャンセル = 1
ENDIF
RETURN 1

;==================================================
;约会回家路上的告白（要求成为恋人）
;==================================================

@M_KOJO_XXX_SPEVENT_MESSAGECHECK_KX_2
RETURN 0

@M_KOJO_XXX_SPEVENT_KX_2(ARG,ARG:1)
;口上角色编号 = TARGET
; 
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;告白内容
	;在这些告白内容后，MASTER将被提问是否接受该供词
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;告白成功（成为恋人了）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;告白失敗（）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF

ENDIF
RETURN 1

;==================================================
;约会回家
;==================================================

@M_KOJO_XXX_SPEVENT_MESSAGECHECK_KX_3
RETURN 0

@M_KOJO_XXX_SPEVENT_KX_3(ARG,ARG:1)
;口上角色编号 = TARGET
; 
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;通常帰宅
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;反発刻印从1到消去
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;反発刻印从2降级到1
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;反発刻印从3降级到2
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	PRINTFORML
ENDIF
RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"EVENT"系事件
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;==================================================
;主地图的遭遇
;地文路径：ERB\イベント関連\情事発覚.ERB
;==================================================
@M_KOJO_XXX_EVENT_KX_1(ARG,ARG:1)
;口上角色编号 = TARGET
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;MASTER进入区域见到了TARGET
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGET进入区域见到了MASTER
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGET进入澡堂且一起进来了
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGET进入澡堂并且又出去了
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGET进入澡堂并且把MASTER赶出去了
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;在外出的途中遇见了
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		PRINTFORML 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;在与其他人约会的时候遇见了
	;ARG:1に约会相手
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTFORML 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;在主地图当日初次相遇
	;请注意，在此处口上触发后，会显示 ARG==1 OR ARG==2 内的口上内容
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORML 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;在外出期间当日初次相遇
	; ARG：1 是约会对象，如果 ARG：1 是 0，则代表非约会状态，此处TARGET是非约会对象
	;请注意，在此处口上触发后，会显示 ARG==6 OR ARG==7 内的口上内容
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		;与编号为ARG:1的角色相约会时相遇
		IF ARG:1
		;MASTER单独外出时相遇
		ELSE
		ENDIF
		PRINTFORML 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;当你早上醒来时（早安口上）
;ERB\イベント関連\BEFORETRAIN.ERB
;==================================================
@M_KOJO_XXX_EVENT_KX_2(ARG,ARG:1)
;口上角色编号 = TARGET
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;非同居，对方先起床了
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		;-------------------------------------------------
		;地点在TARGET私室，MASTER在此处睡着了（恋慕时陪睡就寝才会触发？
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			PRINTFORMW 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;地点在MASTER私室，TARGET在此处睡着了(没有恋慕导致此情况也有可能，比如说无家可归之人
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORMW 
			RETURN 1
		ENDIF
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;同居时，TARGET先起床了
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;同居时，TARGET还在睡觉
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;MASTER起床了，TARGET也跟着起床了
	;同时在床上保持清醒状态结束陪睡，也可能触发此口上，仅限于MASTER醒来后接着陪睡，TARGET在陪睡途中醒来的情况
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		;-------------------------------------------------
		;非同居
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			PRINTFORMW 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;同居中
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORMW 
			RETURN 1
		ENDIF
		PRINTFORMW 
		RETURN 1
	ENDIF
	;其他情况
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;晚上睡觉时（晚安口上）
;ERB\MOVEMENTS\SLEEP.ERB
;==================================================
@M_KOJO_XXX_EVENT_KX_3(ARG,ARG:1)
;口上角色编号 = TARGET
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;TARGET从现在的地方，回到自己房间睡觉的口上
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF ARG:1
			;约会中困了，回家睡觉（仅限同在主地图的角色）
			PRINTFORMW 
		ELSEIF CFLAG:317
			;诶嘿嘿的时候困了，回家睡觉（仅限同在主地图的角色）
			PRINTFORMW 
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGET有些困倦了（只是困倦）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;睡眠中（TARGET在睡觉）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;恶作剧中，每回合随机台词
	;启用（=0, 非表示、1, 表示）
	;LOCAL:1 = 1
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 4
		;PRINTFORMW 
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;因衰弱而睡觉体力500以下,诶嘿嘿时会強制停止）
	;（角色的自己的房间以外:MASTER把TARGET从【现在的位置】搬到了【TARGET的自己的房间】）
	;（角色的自己室:~说累了，就躺下了。）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		IF CFLAG:317
			;诶嘿嘿时倒下
			PRINTFORMW 
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;MASTERがダウン（恋慕のみ,そのまま一日が終了）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		;因酒而昏倒
		IF BASE:MASTER:酒気 >= MAXBASE:MASTER:酒気
			IF ARG:1
				;在自己的房间倒下，(~把【MASTER】搬上了床(被子)…)
				PRINTFORMW 
			ELSE
				;被带到房间，(~把【MASTER】带到MASTER的房间…)
				PRINTFORMW 
			ENDIF
		;体力不支倒下
		ELSE
			IF ARG:1
				;在自己的房间倒下，(~把【MASTER】搬上了床(被子)…)
				PRINTFORMW 
			ELSE
				;被送到房间（～把MASTER搬到MASTER的房间…）
				PRINTFORMW 
			ENDIF
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGET回到房间准备睡觉时
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		;-------------------------------------------------
		;就这样换好衣服睡了（【TARGET】回到了房间→换上睡衣，钻进了被窝）
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 0
			PRINTFORMW 
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;把MASTER从房间里赶出去睡觉了（被睡眼惺忪的【TARGET】赶了出来…）
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			IF CFLAG:前ターン位置 == CFLAG:現在位置
				;直到前一个回合，和目标都在一起，准备睡觉时赶出去
				PRINTFORMW 
			ELSE
				;当TARGET回到房间准备睡觉时
				PRINTFORMW 
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;让MASTER停止和其他角色的情事，睡觉了（【TARGET】回到了房间→【TARGET】噘起了嘴、【MASTER】与【Ｈの相手】不得不离开了）
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORMW 
			RETURN 1
		ENDIF
	ENDIF
	;-------------------------------------------------
	;来访角色在据点休息（～累坏了→稍微休息一下吧）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;在卧室里当场睡觉（输给了困意，睡着了…）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		IF CFLAG:317
			;诶嘿嘿时太累了睡着了
			PRINTFORMW 
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;自己家在其他地图的角色，回到自己的房间睡觉。（困了，回自己的房间去了。）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 10
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;移动中经过角色
;ERB\コマンド関連\COMF\日常系\COMF400 移動.ERB
;==================================================
@M_KOJO_XXX_EVENT_KX_4(ARG,ARG:1)
;口上角色编号 = TARGET
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;在角色这里停下来
	;之后会接遭遇口上
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;打招呼后经过
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;无视后经过
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;其他情况
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;其他人进入时导致的气氛变化
;
;==================================================
@M_KOJO_XXX_EVENT_KX_5(ARG,ARG:1)
;口上角色编号 = TARGET
;ARG是进入角色的编号（人数庞大，自己把握自己负责）
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;灵梦进来了
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;留琴进来了
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;露米娅进来了
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 12
		PRINTFORML
		RETURN 1
	ENDIF
	;如果需要添加或者删除新的角色，按照以上的格式添加即可
	;其他情况（无论进来的是谁
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;目击了MASTER与其他人的情事
;
;==================================================
@M_KOJO_XXX_EVENT_KX_6(ARG,ARG:1)
;口上角色编号 = TARGET
;ARG是情事的对象
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;目击了情事（好感度:低）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;不服输地参加进来（好感度:高）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;尴尬地离开
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;其他情况
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;被人看见了与口上主的情事
;
;==================================================
@M_KOJO_XXX_EVENT_KX_7(ARG,ARG:1)
;口上角色编号 = TARGET
;ARG是目击者的编号
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;被人看见了情事（目击者的好感度:低）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;目击者不服输地参加进来（目击者的好感度:低）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;目击者离开了
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;其他情况
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;追问目击到的情事（现在已弃用
;==================================================
@M_KOJO_XXX_EVENT_KX_8(ARG,ARG:1)
RETURN 1

;==================================================
;内裤被没收了
;==================================================
@M_KOJO_XXX_EVENT_KX_9(ARG,ARG:1)
;口上角色编号 = TARGET
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;推倒
;==================================================
@M_KOJO_XXX_EVENT_KX_10(ARG,ARG:1)
;口上角色编号 = TARGET
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;逆推倒（開始時）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		;-------------------------------------------------
		;MASTER被推倒（開始時）
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;MASTER被抱住（開始時）
		;只有双方均不为男性，才会触发
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;逆推终止（終了時）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		;-------------------------------------------------
		;安慰着拔了出来（虽然不一定插进去了）
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && !ARG:1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;拥抱模式以满足结束
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;拥抱模式强制结束
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML
			RETURN 1
		ENDIF
	ENDIF
	;-------------------------------------------------
	;安慰着拔出失敗
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		;-------------------------------------------------
		;不能随心所欲地从状态中摆脱出来
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;欲壑难填，无法自拔
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML
			RETURN 1
		ENDIF
	ENDIF
	;-------------------------------------------------
	;邀请（想去没人的地方）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		;ARG:1=TARGETの欲求不満度（最高1000）
		;如果需要，请用这个值做差分
		PRINTFORML
		RETURN 1
	ENDIF
	;其他情况
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;浴場的遭遇
;==================================================
@M_KOJO_XXX_EVENT_KX_11(ARG,ARG:1)
;口上角色编号 = TARGET
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;被赶出去了
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;四目相对(没有被赶出去)
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;其他情况
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;潜入卧室
;ERB\コマンド関連\COMF\日常系\侵入.ERB
;==================================================
@M_KOJO_XXX_EVENT_KX_12(ARG,ARG:1)
;口上角色编号 = TARGET
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;被赶出去了（生气地）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;潜入了房间
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;潜入了房间（对方恋慕）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;潜入了房间（对方恋慕・衰弱状态）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;被赶出去了
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 4
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;被赶出去了（衰弱状态）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 5
		PRINTFORML
		RETURN 1
	ENDIF
	;其他情况
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;工作中
;ERB\MOVEMENTS\JOB_仕事開始終了処理.ERB
;==================================================
@M_KOJO_XXX_EVENT_KX_13(ARG,ARG:1)
;口上角色编号 = TARGET
;ARG:1表示的是剩余的工作量
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;工作開始（会前往工作战场）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;工作中
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;工作完成
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;其他情况
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;食事系
;
;==================================================
@M_KOJO_XXX_EVENT_KX_14(ARG,ARG:1)
;口上角色编号 = TARGET
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;所带的食物被口上主吃掉了
	;TCVAR:盗み食い抑制可以避免被偷吃
	;规格示例（加了药就不吃）
	;IF DISH_DRG
	;	TCVAR:盗み食い抑制 = 1
	;ENDIF

	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == -1
		PRINTFORML
		RETURN 1
	ENDIF
	;其他情况
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;MASTER推倒了口上角色
;==================================================
@M_KOJO_XXX_EVENT_KX_15(ARG,ARG:1)
;口上角色编号 = TARGET
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;未实装（推倒指令口上？
	;注、常用用法是写在日常系350
	;MASTER推倒了(开始时)
	;启用（=0, 非表示、1, 表示）
	;LOCAL:1 = 1
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 1
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;情事结束（结束时）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;其他情况
	PRINTFORML  
	;-------------------------------------------------
	;事後描写
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		;-------------------------------------------------
		;精液滴下来了
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;愛液滴下来了
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;事後的情绪
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 3
			PRINTFORML
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;穿回衣服
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 4
			PRINTFORML
			RETURN 1
		ENDIF
	ENDIF
ENDIF
RETURN 1

;==================================================
;陪睡
;ERB\コマンド関連\USERCOM.ERB LINE570
;==================================================
@M_KOJO_XXX_EVENT_KX_16(ARG,ARG:1)
;口上角色编号 = TARGET
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;陪睡开始（開始時）(已经有陪睡指令了，此处已弃用
	;启用
	;LOCAL:1 = 1
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 1
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;陪睡结束（終了時）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;其他情况
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;时间停止终了时
;ERB\時間停止解除.ERB
;==================================================
@M_KOJO_XXX_EVENT_KX_17(ARG,ARG:1)
;口上角色编号 = TARGET
;需要注意的是，没有明确表示排他的物品会根据情况连续显示
;ARG是射精状況
;ARG:1是射精状態
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;ARG=1～3 排他
	;謎之快感
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;絶頂
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;胖次紛失
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【無自覚口内射精】
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		;精液中毒低精飲
		IF ARG:1 == 1
		;精液中毒低吐出来
		ELSEIF ARG:1 == 2
		;精液中毒低捂住了嘴
		ELSEIF ARG:1 == 3
		;精液中毒高精飲
		ELSEIF ARG:1 == 4
		;濃厚精液＆精液中毒低吐出
		ELSEIF ARG:1 == 5
		;濃厚精液＆精液中毒高精飲
		ELSEIF ARG:1 == 6
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【無自覚顔面射精】
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		;持有无知，且精液経験不满100
		IF ARG:1 == 1
		;通常擦掉
		ELSEIF ARG:1 == 2
		;偷偷舔食精液
		ELSEIF ARG:1 == 3
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【無自覚手淫射精】
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		;通常擦掉
		IF ARG:1 == 1
		;舔食精液
		ELSEIF ARG:1 == 2
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【無自覚アナル射精】
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		;Ａ感覚2以下，疼痛
		IF ARG:1 == 1
		;除此之外的情况
		ELSEIF ARG:1 == 2
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【無自覚処女喪失】
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【無自覚膣内射精】
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		;非処女膣内射精，未服用避孕药
		IF ARG:1 == 1
		;非処女膣内射精，服用过避孕药
		ELSEIF ARG:1 == 2
		;其他情况
		ELSEIF ARG:1 == 3
			;無自覚膣内射精，并且处女丧失
			IF EX:LOCAL:処女喪失记号 = 1 || TALENT:LOCAL:処女 = -1
			;有无知
			ELSEIF TALENT:TARGET:27 
			;其他情况
			ELSE 

			ENDIF 
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;時間停止解除共通口上
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;无防护插入时
;ERB\イベント関連\妊娠関連\HININSHITE.ERB
;==================================================
@M_KOJO_XXX_EVENT_KX_18(ARG,ARG:1)
;口上角色编号 = TARGET
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;避妊要求台詞
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;拒绝
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;尝试说服之后强硬地拒绝了
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;危険日以外許可
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;危険日許可
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;请批准在主地图生活（角色从外面搬到主地图）
;ERB\イベント関連\APPEND_SYS.ERB
;==================================================
@M_KOJO_XXX_EVENT_KX_19(ARG,ARG:1)
;口上主はARG
;%CALLNAME:拠点_家主% 即为主地图的家主
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;被允许
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;不被允许
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;因为MASTER的私人房间变更而同居
	;这个只要搬家到角色的房间就可以触发
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;回家时
;这部分是TARGET住在其他地区时触发的口上
;==================================================
@M_KOJO_XXX_EVENT_KX_20(ARG,ARG:1)
;口上主编号为LOCALS or RESULT
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;通常回家
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF CFLAG:317
			;诶嘿嘿时要睡觉所以回去了
			PRINTFORMW 
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;约会中帰宅
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF CFLAG:317
			IF CFLAG:衰弱
				;诶嘿嘿时太累了所以回去了
				PRINTFORMW 
			ELSE
				;诶嘿嘿时要睡觉所以回去了
				PRINTFORMW 
			ENDIF
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;在玄关处送行(角色的自家位置，或者角色的房间约会结束)
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;约会结束时邀请MASTER来房间(从……开始邀请他来房间)
	;(只有其他地图来访角色，没有自己家的角色才能发生)
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;不来房间吗→选择“去”(在TARGET的邀请下，【MASTER】走向了【TARGET】的房间……)
	;（一旦发生，十有八九会被推倒。）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;不来房间吗→选择“不来”(~是无心还是很寂寞……)
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGET说今晚不想回去(~说今晚不想回去…)
	;（来访角色回家时欲求不满和欲望高的话发生）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;今晚不想回去→选择“留宿”(~住在了【MASTER自己的房间】)
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;今晚不想回去→选择“不留宿”，或者家主设置了其他同居者(【MASTER】郑重拒绝了)
	;（家主在MASTER的私人房间里设定了其他角色的私人房间。）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		PRINTFORMW 
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;TARGET累了回家(累坏了~回去了)
	;（送~到入口，TARGET筋疲力尽的时候发生。）
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 10
		IF CFLAG:317
			;诶嘿嘿时太累了所以回去了
			PRINTFORMW 
		ELSE
			PRINTFORMW 
		ENDIF
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;陥落素質取得時
;==================================================
@M_KOJO_XXX_EVENT_KX_21(ARG,ARG:1)
;口上主はARG
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;恋慕取得
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;思慕取得
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;愛欲取得
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;愛人取得
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;炮友取得
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;接吻魔取得
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;自慰狂取得
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;子宫口性感取得
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;漏尿癖取得
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9
		PRINTFORML
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;当日结束后的自慰
;==================================================
@M_KOJO_XXX_EVENT_KX_22(ARG,ARG:1)
;口上主是ARG
;ARG:0自慰状況
;ARG:1自慰種類
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;通常自慰
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;同室時自慰
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;被射进精液时自慰
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;持有無知时自慰（根据自慰经验与调教自慰经验的差值，有分歧
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		LOCAL:2 = EXP:自慰経験 - EXP:調教自慰経験
		;有无知消除事件(只显示一次
		IF LOCAL:1 >= 25
		;口上分支。如果你想写，请删除[SKIPSTART]和[SKIPEND]
		[SKIPSTART]
		ELSEIF LOCAL:1 >= 20
		ELSEIF LOCAL:1 >= 15
		ELSEIF LOCAL:1 >= 10
		ELSEIF LOCAL:1 >= 5
		[SKIPEND]
		ELSE
		ENDIF
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;有陷落素质且有自慰中毒的情况
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		;-------------------------------------------------
		;Ｃ敏感orＣ感覚10以上
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Ｖ敏感orＶ感覚10以上
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Ａ敏感orＡ感覚10以上
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 3
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;Ｂ敏感orＢ感覚10以上
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 4
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;部位指定無
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 5
			PRINTFORML  
			RETURN 1
		ENDIF
		;其他情况
		;不写上面的任何分支，写在这里就可以表示自慰中毒且有陷落素质时自慰的通用口上
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;自慰中毒
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		;-------------------------------------------------
		;尻穴膣腔同時
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML  
			RETURN 1
		ENDIF
		;-------------------------------------------------
		;仅膣腔
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 2
			PRINTFORML  
			RETURN 1
		ENDIF
		;其他情况
		;不写上面的任何分支，写在这里就可以表示自慰中毒时自慰的通用口上
		PRINTFORML  
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;忍耐
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTFORML 
		RETURN 1
	ENDIF
	;其他情况
	;不写上面的任何分支，写在这里就可以表示自慰的通用口上
	PRINTFORML  
	RETURN 1
ENDIF
RETURN 1
;==================================================
;带进浴场
;==================================================
@M_KOJO_XXX_EVENT_KX_23(ARG,ARG:1)
;口上主はLOCAL
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;拒绝
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;一同进去了
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;其他情况
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;怀孕
;==================================================
@M_KOJO_XXX_EVENT_KX_24(ARG,ARG:1)
;口上主 LOCAL
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;恋慕
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;思慕
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;陥落素質無
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;無自覚
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		RETURN 1
	ENDIF
	;其他情况
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;出産
;==================================================
@M_KOJO_XXX_EVENT_KX_25(ARG,ARG:1)
;口上主 LOCAL
;ARG:1	这是第几个孩子
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;恋慕
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;思慕
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;陥落素質無
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;無自覚
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		RETURN 1
	ENDIF
	;其他情况
	PRINTFORML  
ENDIF
RETURN 1
;==================================================
;被看见自慰
;ERB\コマンド関連\COMF\外出系\NASIKUZUSI.ERB
;==================================================
@M_KOJO_XXX_EVENT_KX_26(ARG,ARG:1)

;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;被看见的瞬間
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 1
		;什么都不做
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 2
		;在注视下看着继续
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 3
		;想做或者想看，被赶出去了
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 4
		;允许一起做
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 5
		;事后口上
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 6
		;事后留宿
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
	ENDSELECT
ENDIF

;被发现自慰时的判定函数
;RETURN -1強制失敗、RETURN 1強制成功
@M_KOJO_XXX_EVENT_KX_26_1(ARGS)
#DIM 補正値
IF ARGS == "どうぞそのまま"		;看着做

ELSEIF ARGS == "二人で"			;一起做

ENDIF

;使用例
;IF !TALENT:XX:恋慕
;	PRINTFORMW %CALLNAME:XX%はガードが堅いぞ！
;	RETURN -1
;ENDIF
;IF TALENT:MASTER:濃厚精液
;	PRINTFORMW %CALLNAME:XX%はちんぽに弱いぞ！
;	RETURN 1
;ENDIF
;==================================================
;TARGET邀请一起约会
;ERB\イベント関連\情事発覚.ERB
;==================================================
@M_KOJO_XXX_EVENT_KX_27(ARG,ARG:1)
;口上主 LOCAL
;ARG:1是目的地
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;邀请的口上
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 1
		;接受了
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 2
		;拒绝了
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 3
		;邀请去房间
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 4
		;邀请去房间，选择接受了
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 5
		;邀请去房间，选择拒绝了
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			RETURN 1
		ENDIF
	ENDSELECT
ENDIF
RETURN 1

;==================================================
;脱衣口上
;==================================================
@M_KOJO_XXX_EVENT_KX_28(ARG,ARG:1)
;口上角色编号 = TARGET
;ARG	脱衣的方法
;ARG:1（只要ARG=3才有这个值）地文的反应
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;全裸
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			;時間停止時
			IF FLAG:70
			;通常
			ELSE
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 1
		;只穿内衣
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			;時間停止時
			IF FLAG:70
			;通常
			ELSE
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 2
		;半脱
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			;時間停止時
			IF FLAG:70
			;通常
			ELSE
			ENDIF
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 3
		;索要胖次
		;启用（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			SELECTCASE ARG:1
				;-------------------------------------------------
				CASE 0
				;要求交换胖次
				;启用（=0, 非表示、1, 表示）
				LOCAL:1 = 1
				;-------------------------------------------------
				IF LOCAL:1
					RETURN 1
				ENDIF
				;-------------------------------------------------
				CASE 1
				;OK（开心地给了
				;启用（=0, 非表示、1, 表示）
				LOCAL:1 = 1
				;-------------------------------------------------
				IF LOCAL:1
					RETURN 1
				ENDIF
				;-------------------------------------------------
				CASE 2
				;OK（勉勉强强地给了
				;启用（=0, 非表示、1, 表示）
				LOCAL:1 = 1
				;-------------------------------------------------
				IF LOCAL:1
					RETURN 1
				ENDIF
				;-------------------------------------------------
				CASE 3
				;不太情愿的样子
				;启用（=0, 非表示、1, 表示）
				LOCAL:1 = 1
				;-------------------------------------------------
				IF LOCAL:1
					RETURN 1
				ENDIF
				RETURN 1
			ENDSELECT
		ENDIF
	ENDSELECT
ENDIF
RETURN 1

;==================================================
;愤怒口上
;==================================================
@M_KOJO_XXX_EVENT_KX_29(ARG,ARG:1)
;口上角色编号 = TARGET
;ARGはTARGETの度胸で分岐
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;惹生气了
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;弄哭了　[胆怯]限定
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;对方解除了推倒状态
;==================================================
@M_KOJO_XXX_EVENT_KX_30(ARG,ARG:1)
;口上角色编号 = TARGET
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;对方累了
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;满足了所以放开了
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;满足了然后被反过来推倒了
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;要求继续进攻，做到坏掉
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
	
		PRINTFORML
		RETURN 1
	ENDIF
ENDIF
RETURN 1


;==================================================
;一天结束时(AFTERTRA之前)，没有见过面的话不会被调用
;==================================================
@M_KOJO_XXX_EVENT_KX_31(ARG,ARG:1)
;口上角色编号 = TARGET
;ARG	没见面的天数
;如果几天没见面，角色可以抱怨。
;CFLAG:オナバレ可以用于差分
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;今日没见过面
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG
		;是为了在显示口上之前，判别是谁的东西的地文，想变更的话，请在删除之后独自制作。
		CALL EVENTEND_TSUBUYAKI
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;今天见面了
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
		CALL EVENTEND_TSUBUYAKI
		RETURN 1
	ENDIF
ENDIF
RETURN 1

;==================================================
;自由行動中
;ARG:1      0=行動中,1=结束时
;技能类行动在技能等级1以上时发生
;==================================================
@M_KOJO_XXX_EVENT_KX_32(ARG,ARG:1)
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	SELECTCASE ARG
	CASE 0
		;▼思考事情［在思考着什么］
		IF !ARG:1
			;行動中
			PRINTFORML 
		ELSE
			;结束时
			PRINTFORML 
		ENDIF
	CASE 1
		;▼游玩［开始游玩起来了］
		;※[幼稚]限定
		IF !ARG:1
			;行動中
			PRINTFORML 
		ELSE
			;结束时
			PRINTFORML 
		ENDIF
	CASE 2
		;▼食事,（~正在吃饭。）
		IF !ARG:1
			;行動中
			PRINTFORML 
		ELSE
			;结束时
			PRINTFORML 
		ENDIF
	CASE 3
		;▼吃小零食～开始吃小零食了）
		;※[妖精]种族角色、露米娅、古明地恋、幽幽子、紫苑等人会触发这个
		IF !ARG:1
			;行動中
			PRINTFORML 
		ELSE
			;结束时
			PRINTFORML 
		ENDIF
	CASE 4
		;▼掃除,（～麻利地打扫着房间。）
		;※[掃除係]限定，或者TARGET拥有污臭敏感 -1 或更少
		IF !ARG:1
			;行動中
			PRINTFORML 
		ELSE
			;结束时
			PRINTFORML 
		ENDIF
	CASE 5
		;▼運動,（～干劲十足地运动着。）
		;※拥有[音楽知識]或者无战斗能力则不会触发
		IF !ARG:1
			;行動中
			PRINTFORML 
		ELSE
			;结束时
			PRINTFORML 
		ENDIF
	CASE 6
		;▼読書,（～默默地看书。）
		IF !ARG:1
			;行動中
			PRINTFORML 
		ELSE
			;结束时
			PRINTFORML 
		ENDIF
	CASE 7
		;▼料理,
		IF !ARG:1
			;行動中
			IF Activity_Duration:TARGET > 30
				;料理中（～轻快地做着菜。。）
				PRINTFORML 
			ELSE
				;食事中（～吃着自己做的菜。）
				PRINTFORML 
			ENDIF
		ELSE
			;结束时
			PRINTFORML 
		ENDIF
	CASE 8
		;▼演奏
		;※TARGET拥有[音楽知識]（随着TALENT:音楽知識的种类而変化）
		;1,～愉快地演奏着。
		;2,随心所欲地唱着歌。
		;3,～在华丽地跳着舞。
		IF !ARG:1
			;行動中
			PRINTFORML 
		ELSE
			;结束时
			PRINTFORML 
		ENDIF
	CASE 9
		;▼採集,（～在寻找可以使用的素材。。）
		IF !ARG:1
			;行動中
			PRINTFORML 
		ELSE
			;结束时
			PRINTFORML 
		ENDIF
	CASE 10
		;▼垂钓,（～在悠闲地钓鱼。）
		IF !ARG:1
			;行動中
			PRINTFORML 
		ELSE
			;结束时
			PRINTFORML 
		ENDIF
	CASE 11
		;▼実験,（～正在进行奇怪的实验。。）
		IF !ARG:1
			;行動中
			PRINTFORML 
		ELSE
			;结束时
			PRINTFORML 
		ENDIF
	CASE 12
		;▼放松,（～很悠闲地放松着。）
		IF !ARG:1
			;行動中
			PRINTFORML 
		ELSE
			;结束时
			PRINTFORML 
		ENDIF
	CASE 13
		;▼晩酌,（～悠闲地喝着酒。）
		;※酒耐性0以上才会触发
		IF !ARG:1
			;行動中
			PRINTFORML 
		ELSE
			;结束时
			PRINTFORML 
		ENDIF
	CASE 14
		;▼买东西（～在随便买东西。）
		IF !ARG:1
			;行動中
			PRINTFORML 
		ELSE
			;结束时
			PRINTFORML 
		ENDIF
	CASE 15
		;▼説教,（～静静地听着说教…）
		;※神霊・蓬莱人は除く
		IF !ARG:1
			;行動中
			PRINTFORML 
		ELSE
			;结束时
			PRINTFORML 
		ENDIF
	CASE 16
		;▼落穴,（～在增加落穴的数量）
		;※三月精、琪露诺、克劳恩皮丝才会做这种事
		;除此以外的人全都有可能掉坑里
		IF !ARG:1
			;行動中
			PRINTFORML 
		ELSE
			;结束时,
			;（布置人(失败时)，因为谁也不上钩TARGET感觉很没劲…）
			;（掉落的一方(战斗能力2 ~ 4)，~马上从洞里跳出来东张西望着周围…）
			PRINTFORML 
		ENDIF
	CASE 17
		;▼制作雪雕（～正在收集雪）
		IF !ARG:1
			;行動中
			PRINTFORML 
		ELSE
			;结束时
			PRINTFORML 
		ENDIF
	CASE 18
		;▼悠闲地缩进被炉（～躲进暖桌里焐着）
		IF !ARG:1
			;行動中
			PRINTFORML 
		ELSE
			;结束时
			PRINTFORML 
		ENDIF
	ENDSELECT
ENDIF
RETURN 1

;==================================================
;新年快乐
;过年的瞬间在同一个房间发生
;==================================================
@M_KOJO_XXX_EVENT_KX_33(ARG,ARG:1)
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	PRINTFORMW 
ENDIF
RETURN 1

;==================================================
;技能升级
;触发时的ABL值都是升级后的数值。
;==================================================
@M_KOJO_XXX_EVENT_KX_34(ARG,ARG:1)
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	SELECTCASE ARG
	CASE 1
		;戦闘技能
		PRINTFORMW 
	CASE 2
		;話術技能
		PRINTFORMW 
	CASE 3
		;清掃技能
		PRINTFORMW 
	CASE 4
		;教養
		PRINTFORMW 
	CASE 5
		;料理技能
		PRINTFORMW 
	CASE 6
		;採集Lv
		PRINTFORMW 
	CASE 7
		IF ARG:1 == 0
			;音楽技能
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【音楽知識】取得
			PRINTFORMW 
		ELSEIF ARG:1 == 2
			;【相対音感】取得
			PRINTFORMW 
		ENDIF
	CASE 8
		;钓鱼Lv
		PRINTFORMW 
	CASE 9
		IF ARG:1 == 0
			;調合Lv
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【調合知識】取得
			PRINTFORMW 
		ENDIF
	CASE 10
		;伐採Lv
		PRINTFORMW 
	CASE 11
		IF ARG:1 == 0
			;指
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【靈活手指】取得
			PRINTFORMW 
		ENDIF
	CASE 12
		IF ARG:1 == 0
			;舌
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【舌頭靈活】取得
			PRINTFORMW 
		ENDIF
	CASE 13
		IF ARG:1 == 0
			;胸
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【淫乳】取得
			PRINTFORMW 
		ENDIF
	CASE 14
		;腰
		PRINTFORMW 
	CASE 15
		IF ARG:1 == 0
			;膣
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【淫壺】取得
			PRINTFORMW 
		ENDIF
	CASE 16
		IF ARG:1 == 0
			;肛
			PRINTFORMW 
		ELSEIF ARG:1 == 1
			;【尻穴狂】取得
			PRINTFORMW 
		ENDIF
	ENDSELECT
	PRINTL 
ENDIF
RETURN 1

;==================================================
;日常事件2,夢精
;濃厚精液状態时
;▼地の文--------------------------------------------------
;【MASTER】正在洗被遗精弄脏的内衣的时候【TARGET】飞了过来!
;【TARGET】抗议说不要和其他要洗的衣服一起洗，就把收在【MASTER】手里的内衣兜回去了…
;【TARGET】　欲情の珠＋1000
;==================================================

@M_KOJO_XXX_DAILY_EVENT_MESSAGECHECK_KX_2
RETURN 0

@M_KOJO_XXX_DAILY_EVENT_KX_2(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;如果想改变地文，请在地文控制函数里RETURN 
;※删除地文的话情欲之珠+ 1000 (JUEL:11 += 1000)也会被删除注意
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	PRINTFORMW 
ENDIF
RETURN 1

;==================================================
;日常事件4,沉思
;親密5以上で発生（来訪キャラのみ）
;▼地の文--------------------------------------------------
;结束了思考的【TARGET】、发现自己总是在不知不觉中想【MASTER】的事
;【TARGET】好像决定明天去见【MASTER】
;==================================================

@M_KOJO_XXX_DAILY_EVENT_MESSAGECHECK_KX_4
RETURN 0

@M_KOJO_XXX_DAILY_EVENT_KX_4(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;如果想改变地文，请在地文控制函数里RETURN 
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	PRINTFORMW 
ENDIF
RETURN 1

;==================================================
;日常事件12,特訓
;信頼100以上才可能发生（仅限同在主地图的角色）
;==================================================

@M_KOJO_XXX_DAILY_EVENT_MESSAGECHECK_KX_12
RETURN 0

@M_KOJO_XXX_DAILY_EVENT_KX_12(ARG, ARG:1, ARG:2, ARG:3, ARG:4, ARGS:1, ARGS:2)
;如果想改变地文，请在地文控制函数里RETURN 
;你只能回复ARG:1= 1或者2
;--------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	SELECTCASE ARG:1
	CASE 1
		;被委托特训
		;～要求陪我进行新技能的训练。
		PRINTFORML 
	CASE 2
		;拒绝
		;～好像很遗憾
		PRINTFORML 
	CASE 3
		;～の攻撃！
		;※请不要在这里故意wait
		PRINTFORML 
	CASE 4
		IF ARG:2
			;使用時間停止回避
			PRINTFORML 
		ELSE
			;回避成功
			PRINTFORML 
		ENDIF
	CASE 5
		;回避失敗
		PRINTFORML 
	ENDSELECT
ENDIF
RETURN 1


[SKIPSTART]
;-------------------------------------------------
;看见自慰
;想要替代看见自慰的地文时，请使用这个内容
;这种情况下请去掉上下的SKIPSTART~SKIPEND。
;使用CFLAG等字符变量时，请务必使用添加了角色编号的完整变量
;-------------------------------------------------
@M_KOJO_XXX_EVENT_KX_ONABARE_1(ARG)
;-------------------------------------------------
;如果要加口上色的话，就去掉注释，把X作为角色号码
;CALL M_KOJO_COLOR_KX

IF ARG
	PRINTFORML A弄ってる場合
ELSE
	PRINTFORML V弄ってる場合
ENDIF
;-------------------------------------------------
[SKIPEND]


[SKIPSTART]
;-------------------------------------------------
;要求看着继续
;想要替代看见要求继续自慰的地文时，请使用这个内容
;这种情况下请去掉上下的SKIPSTART~SKIPEND。
;使用CFLAG等字符变量时，请务必使用添加了角色编号的完整变量
;-------------------------------------------------
@M_KOJO_XXX_EVENT_KX_ONABARE_2(ARG)
;-------------------------------------------------
:如果要加口上色的话，就去掉注释，把X作为角色号码
;CALL M_KOJO_COLOR_KX

IF ARG
	PRINTFORML A弄ってる場合
ELSE
	PRINTFORML V弄ってる場合
ENDIF
;-------------------------------------------------
[SKIPEND]


[SKIPSTART]
;-------------------------------------------------
;要求在一起做
;想要替代看见并要求一起做的地文时，请使用这个内容
;这种情况下请去掉上下的SKIPSTART~SKIPEND。
;使用CFLAG等字符变量时，请务必使用添加了角色编号的完整变量
;-------------------------------------------------
@M_KOJO_XXX_EVENT_KX_ONABARE_3(前戯１,本番はどっちか,回数,注入量)
;-------------------------------------------------
#DIM 前戯１
;1=C 2=B 3=M
#DIM 本番はどっちか
;0でＶ、1でＡ
#DIM 注入量
#DIM 回数

:如果要加口上色的话，就去掉注释，把X作为角色号码
;CALL M_KOJO_COLOR_KX

SELECTCASE 前戯１
	CASE 1
		PRINTFORML Ｃ責め
	CASE 2
		PRINTFORML Ｂ責め
	CASE 3
		PRINTFORML Ｍ責め
ENDSELECT

IF 本番はどっちか
	PRINTFORML Aで本番
ELSE
	PRINTFORML Vで本番
ENDIF
;-------------------------------------------------
[SKIPEND]


;-------------------------------------------------
;插入处女、或者不自觉非处女之前的口上
;RETURN 1	然后会取消原指令
;RETURN 0	会允许破处
;CFLAG:破瓜キャンセル口上有	如果没有开启的话就不会被读取，所以要注意
;-------------------------------------------------
@M_KOJO_XXX_EVENT_KX_LOST_VIRGIN_STOP
;-------------------------------------------------
PRINTFORML 
RETURN 1

;-------------------------------------------------
;CFLAG:口上内抱き寄せ判定_初回在开启的情况下才有效。
;初次使用推倒、在这里RETURN -1，会强制阻止推倒
;RETURN 0 会依据通常判定的结果、RETURN 1 会无条件成功。
;想要在特定的活动(约会后接吻等)之前，不让推倒的时候请使用。
;-------------------------------------------------
@M_KOJO_XXX_EVENT_KX_PERMISSION_1
;-------------------------------------------------
PRINTFORML 
;RETURN -1
RETURN 0
;RETURN 1
;-------------------------------------------------


;-------------------------------------------------
;CFLAG:口上内抱き寄せ判定_通常在开启的情况下才有效。
;有合意的时候推倒时，在这里RETURN -1，会强制阻止推倒
;RETURN 0 会依据通常判定的结果。
;即使达成了合意，也还是因为某种理由而摇摆不定的时候可使用。
;-------------------------------------------------
@M_KOJO_XXX_EVENT_KX_PERMISSION_2
;-------------------------------------------------
PRINTFORML 
RETURN 0
;RETURN -1
;-------------------------------------------------

;-------------------------------------------------
;房间描写用函数
;口上角色对私室的描写。
;填写的时候请去掉注释符号
;-------------------------------------------------
;@KX_ROOM_DESCRIPTION
;PRINTFORML 例）没有生活感的简陋房间
;-------------------------------------------------


;==================================================
;送礼事件
;==================================================
@M_KOJO_XXX_EVENT_KX_GIFT(ARG, GIFT_ID, 評価点, GIFT_NAME, SENSE)
#DIM GIFT_ID
#DIM 評価点
#DIMS GIFT_NAME
#DIMS SENSE
;---------------------------------------------------------------------------------------------------
;評価点       礼物の評価点（1～999）,即使是口上主给的，口上主对此的评价分
;GIFT_NAME    礼物的名称
;SENSE        礼物設定具备的属性。STRCOUNT(SENSE, "ほげほげ/")使用的话可以判定特定的属性。
;GIFT_ID      这个不能单独使用。使用以下公式内函数就可以提取数据(适用于想要拘泥的人)
;　GET_GIFTDATA(GIFT_ID, "回数")    得到(送给)的次数
;　GET_GIFTDATA(GIFT_ID, "得点")    得点（1～999）,在口上内已经确定
;　GET_GIFTDATA(GIFT_ID, "日付")    收到的日期（1～9999）
;　GET_GIFTDATA(GIFT_ID, "場所")    买到的地方(约会的去处)
;　GET_GIFTDATA(GIFT_ID, "形容詞")  形容詞编号（礼物_形容詞.erb参照）
;　GET_GIFTDATA(GIFT_ID, "本体")    本体编号（礼物_本体.erb参照）
;--------------------------------------------------------------------------------------------------
;约会后口上主给你礼物(与陷落或好感度无关，从亲密度5以上开始产生)
;评价分数为701 ~ 999(角色本人评价)
;--------------------------------------------------------------------------------------------------
IF ARG == 1
	;PRINTFORMW 「%GIFT_NAME%给你，好好用」
	RETURN 1
;--------------------------------------------------------------------------------------------------
;在一天即将结束的时候，珍惜今天收到的礼物（700点以上）
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 2
	;IF STRCOUNT(SENSE, "かわいい/")
	;	PRINTFORMW 「收到了一份可爱的礼物」
	;ELSEIF 評価点 >= 800
	;	PRINTFORMW 「收到了一份非常漂亮的礼物」
	;ELSE
	;	PRINTFORMW 「收到了很漂亮的礼物」
	;ENDIF
	RETURN 1
;--------------------------------------------------------------------------------------------------
;在一天即将结束的时候，把今天收到的礼物收藏起来。(我会珍藏的，继续)（700点以上，且是所有礼物中的最高得点）
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 3
	;IF STRCOUNT(SENSE, "身につける/")
	;	PRINTFORMW 「我打算从明天开始戴上这个。」
	;ELSE
	;	PRINTFORMW 「我打算从明天开始带这个去。」
	;ENDIF
	RETURN 1
;--------------------------------------------------------------------------------------------------
;一天结束时，先把今天收到的礼物保管起来（400～699点）
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 4
	;PRINTFORMW 「とりあえず飾っておこう」
	RETURN 1
;--------------------------------------------------------------------------------------------------
;一天快结束的时候，把今天收到的礼物偷偷典当（400点未満）
;--------------------------------------------------------------------------------------------------
ELSEIF ARG == 5
	;PRINTFORMW 「我不喜欢这个～」
	RETURN 1
ENDIF
RETURN 1


;==================================================
;斗虫
;斗虫的口上有些特殊，不是使用PRINT，而是在RESULTS中只加入一行台词
;虫子的名字可以用%MUSHI_NAME%表示
;虫子名字最长的是亚历山大德拉和巴涅凤蝶，全角14个字母
;有字数限制。请小心不要溢出
;ARG是剩余虫数或排名。
;==================================================
@M_KOJO_XXX_MESSAGE_COM_KX_MUSHI_BATTLE(ARGS, ARG)
#DIM 残りムシ数
#DIM 順位
SELECTCASE ARGS
CASE "試合前"
	;-------------------------------------------------
	;确定角色时不能使用ARG，请直接用自己的编号
	;全角50文字くらいまで
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「ぶっとばしてさしあげますわ！」
	ENDIF
CASE "戦場に出した"
	;-------------------------------------------------
	;"【(角色)】把‘(虫子)’送上了战场!”"之后
	;全角40个字(包括引号)
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	残りムシ数 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「%MUSHI_NAME%！キミにきめた！」
	ENDIF
CASE "攻撃時"
	;-------------------------------------------------
	;"【(角色)】“(虫子)”的“(攻击名)”!"之前
	;全角40个字(包括引号)
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	残りムシ数 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「ぶっとばせ！%MUSHI_NAME%！」
	ENDIF
CASE "倒れた時"
	;-------------------------------------------------
	;"【(角色)】“虫子”倒下了!"之后
	;全角40个字(包括引号)
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	残りムシ数 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「ああっ！私の%MUSHI_NAME%がっ！」
	ENDIF
CASE "敗退時"
	;-------------------------------------------------
	;"【（角色）】敗退！！"之后
	;全角40个字(包括引号)
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	残りムシ数 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「私のムシが全滅めつめつ……」
	ENDIF
;一对一
CASE "タイマン：勝ち"
	;-------------------------------------------------
	;順位第1位
	;全角20个字(包括引号)
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「%CALLNAME:MASTER%よわーい！」
	ENDIF
CASE "タイマン：負け"
	;-------------------------------------------------
	;順位第2位
	;全角20个字(包括引号)
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「%CALLNAME:MASTER%つよーい！」
	ENDIF
;3-4人战
CASE "バトルロイヤル：優勝"
	;-------------------------------------------------
	;順位第1位
	;全角30个字(包括引号)
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「やったー！」
	ENDIF
CASE "バトルロイヤル：２位以下"
	;-------------------------------------------------
	;順位第2～4位
	;全角30个字(包括引号)
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「くやし～！」
	ENDIF
	;团队战
CASE "チーム戦：勝ち"
	;-------------------------------------------------
	;順位第1位(即使被打败)
	;全角32个字(包括引号)
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「私のおかげね！」
	ENDIF
CASE "チーム戦：負け"
	;-------------------------------------------------
	;順位第2位
	;全角32个字(包括引号)
	;启用（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	順位 = ARG
	;-------------------------------------------------
	IF LOCAL:1
;		RESULTS = 「味方が弱い！！」
	ENDIF
ENDSELECT
SIF RESULTS != ""
	RETURN 1

;==================================================
;引力操作
;TCVAR:在引力点上加入地点ID，你的角色就会被拉到那个地点
;地点ID相同的据点地图才有效果(博丽神社境内的话只有据点是博丽神社的时候才有效果)
;注意不附加条件的话会被永久的拉下去
;RAND基本上不能用。今天的运气里有当天的随机数值(0 ~ 999)，所以用这个比较好。
;==================================================
@M_KOJO_XXX_EVENT_KX_GRAVITY(ARG)

SIF 0
	TCVAR:引力点 = 0

;▼在公共设定中使用的例子
[SKIPSTART]
	;工作日的白天随机去玩
	IF YOUBI_MATCH(DAY, "月火水木金") && INRANGE(TIME, 600, 960)
		SELECTCASE CFLAG:今日の運勢 % 5
		CASE 1
			TCVAR:引力点 = P2境内
		CASE 2
			TCVAR:引力点 = P10縁側
		CASE 3
			TCVAR:引力点 = P11庭
		CASE 4
			TCVAR:引力点 = P25鎮守の森
		CASEELSE
			TCVAR:引力点 = 0
		ENDSELECT
	ENDIF
	;星期三和星期四有二分之一的概率去玩
	SIF YOUBI_MATCH(DAY, "水木") && INRANGE(TIME, 720, 1020) && CFLAG:今日の運勢 % 2 == 0
		TCVAR:引力点 = P213鈴奈庵
	;特定的人物在特定的地方会被吸引。
	SIF CFLAG:[[白蓮]]:現在位置 == P103本堂 && !CFLAG:[[白蓮]]:うふふ && SHIRAHU([[白蓮]])
		TCVAR:引力点 = P103本堂
	;周六周日以十分之一的概率跟在特定的人身边
	SIF YOUBI_MATCH(DAY, "土日") && CFLAG:今日の運勢 % 10 == 0 && !CFLAG:[[さとり]]:うふふ && SHIRAHU([[さとり]])
		TCVAR:引力点 = CFLAG:[[さとり]]:現在位置
[SKIPEND]

;==================================================
;打西瓜;切西瓜的口上和斗虫一样，不使用PRINT，
;请在RESULTS中只加入一行台词
;双引号自动添加;只有"衝突","結果"，才会自动上色
;"衝突","結果"以外有半角26个字(全角13个字)的字数限制。请小心不要溢出来
;有几个差分会更有气氛(使用%TEXTR(/)%更好)
;==================================================
@M_KOJO_XXX_MESSAGE_COM_KX_SUIKA(ARGS)
;-------------------------------------------------
;启用（=0, 非表示、1, 表示）
LOCAL:1 = 1
;-------------------------------------------------
IF LOCAL:1
	SELECTCASE ARGS
	CASE "衝突"
		;-------------------------------------------------
		;在场外你和角色发生冲突时的台词
		;没有字数限制，也没有通用口上
		;-------------------------------------------------
		RESULTS = 太棒了!等等，这不是很危险吗?
	CASE "そこだ！"
		RESULTS = %TEXTR("そこ！/今！")%
	CASE "近い"
		RESULTS = %TEXTR("近い！近いよ！/近づいてるよ！/あとちょっと！")%
	CASE "遠い"
		RESULTS = %TEXTR("まだ遠いよ/まだまだ～")%
	CASE "かなり遠い"
		RESULTS = %TEXTR("全然遠いよー/まだまだずっと遠いー")%
	CASE "前"
		RESULTS = %TEXTR("前にあるよ/そのまま、そのまま/そっちそっち")%
	CASE "少し前"
		RESULTS = %TEXTR("ちょっとだけ前！/すこーし前/あと一歩！")%
	CASE "後ろ"
		RESULTS = %TEXTR("後ろ向いてる！/逆、逆！/そっちじゃないよー")%
	CASE "少し後ろ"
		RESULTS = %TEXTR("すぐ後ろだよ！/すこーし後ろ/一歩後ろ！")%
	CASE "右"
		RESULTS = %TEXTR("右だよ/右、右/もっと右")%
	CASE "少し右"
		RESULTS = %TEXTR("ちょっとだけ右/まだ右かな")%
	CASE "左"
		RESULTS = %TEXTR("左だよ/左、左/もっと左")%
	CASE "少し左"
		RESULTS = %TEXTR("ちょっとだけ左/まだ左かな")%
	CASE "結果"
		;-------------------------------------------------
		;结束后的一句话
		;没有字数限制，也没有通用台词
		;TFLAG:193,
		;   -1=失敗
		;    0=成功
		;    1=大成功
		;    2=木刀で大成功（ボーナス点）
		;ARG
		;    0=正直者
		;    1=说谎者
		;-------------------------------------------------
		SELECTCASE TFLAG:193
		CASE -1
			RESULTS = ざんね～ん
		CASE 0
			RESULTS = やったね！
		CASE 1
			RESULTS = すごーい！
		CASE 2
			RESULTS = すごい綺麗に割れた！
		ENDSELECT
	ENDSELECT
ENDIF

;外出处特殊遭遇事件
@RUN_INTO_XXX_KX(MAP_ID)
#DIM MAP_ID
;XX要换成角色编号
;最后一定要RETURN 1;不认识的情况下不会发生
;一定要让不见面的情况下发生，请RETURN -1
;	SIF !CFLAG:XX:面識
;		RETURN -1
;	PRINTFORML %CALLNAME:XX%がいた
;	PRINTFORML 「どうも」
;	CFLAG:XX:好感度 += 5
;	RETURN 1

;炮友契約用补正
;"因为用补正" RETURN了的数值被加算到理性判定
;如果想要简单的性伙伴的话就应该减分，如果想要提高难度或者让它变得不可能的话就应该加分
@KOJO_XXX_SF_CONTRACT_KX(ARGS)
SELECTCASE ARGS
	CASE "導入"
		;PRINTFORML 「セフレって、ええー」
	CASE "補正"
		;PRINTFORML （サクッとヤりたいなあ）
		;RETURN -1000
	CASE "成功"
		;PRINTFORML 「いいよー」
	CASE "失敗"
		;PRINTFORML 「おことわりだー」
ENDSELECT

;一般依頼的抑制
;ARG 是依赖的编号
;如果此函数返回 1，则该角色不会出现对应的依赖
@M_KOJO_XXX_CHECK_KX_IRAI_BLOCKED(ARGS,ARG,ARG:1)
; SIF GROUPMATCH(ARG, 2)
;     RETURN 1
